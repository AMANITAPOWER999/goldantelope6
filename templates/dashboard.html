<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goldantelope ASIA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* File input styling */
        input[type="file"] {
            color: #333;
        }
        input[type="file"]::-webkit-file-upload-button {
            visibility: visible;
            background: #d4af37;
            color: #333;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-right: 10px;
        }
        input[type="file"]::file-selector-button {
            background: #d4af37;
            color: #333;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-right: 10px;
        }
        /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ */
        .photo-upload-wrapper {
            position: relative;
        }
        .photo-upload-wrapper .file-placeholder {
            display: none;
        }
        .photo-upload-wrapper input[type="file"] {
            color: transparent;
        }
        .photo-upload-wrapper input[type="file"].has-file + .file-placeholder {
            display: none;
        }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: #ffffff;
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(200, 200, 200, 0.05) 10px, rgba(200, 200, 200, 0.05) 20px),
                repeating-linear-gradient(-45deg, transparent, transparent 10px, rgba(200, 200, 200, 0.05) 10px, rgba(200, 200, 200, 0.05) 20px);
            color: #333; 
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        .header { 
            margin-bottom: 30px; 
            background: #ffffff;
            padding: 20px;
            border-radius: 8px;
            border: 3px solid #d4af37;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .header-top {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            justify-content: space-between;
        }
        .header-logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .header-logo {
            height: 60px;
            width: auto;
            border-radius: 6px;
        }
        .header h1 { 
            font-size: 28px; 
            margin: 0;
            color: #333; 
            flex: 1;
        }
        .country-selector { 
            display: flex; 
            gap: 10px;
            border: 2px solid #d4af37;
            padding: 10px 15px;
            border-radius: 8px;
        }
        .country-btn { padding: 10px 20px; border: 2px solid #ddd; background: #fff; cursor: pointer; border-radius: 6px; font-size: 14px; color: #666; transition: all 0.2s; }
        .country-btn.active { border-color: #d4af37; background: #d4af37; color: #333; }
        .country-btn:hover { border-color: #d4af37; }
        .rates-display {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            padding: 12px 15px;
            background: #fafafa;
            border-radius: 8px;
            align-items: center;
            justify-content: center;
            border: 1px solid #e0e0e0;
        }
        .rate-item {
            text-align: center;
        }
        .rate-label {
            font-size: 11px;
            color: #999;
            font-weight: 600;
            margin-bottom: 4px;
        }
        .rate-value {
            font-size: 14px;
            color: #d4af37;
            font-weight: bold;
        }
        .status-bar { display: none; }
        .status-item { display: none; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; }
        .status-dot.online { background: #31a24c; }
        .status-dot.offline { background: #f04747; }
        
        .tabs { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); 
            gap: 8px; 
            margin-bottom: 20px;
            padding: 12px;
            background: #ffffff;
            border-radius: 8px;
        }
        .tab { 
            padding: 15px 10px; 
            cursor: pointer; 
            border: none; 
            background: transparent;
            color: #333; 
            font-size: 10px; 
            border-radius: 12px;
            transition: all 0.3s;
            font-weight: 600;
            text-align: center;
            box-shadow: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .tab.active { 
            background: #ffffff;
            color: #333;
            border: 2px solid #d4af37;
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
            transform: scale(1.1);
            opacity: 1;
        }
        .tab:hover { 
            transform: translateY(-5px);
            opacity: 0.8;
        }
        .tab.active:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        
        .content { 
            display: none;
            background: #ffffff;
            padding: 0;
            border-radius: 8px;
        }
        
        /* Photo upload styling */
        .photo-upload-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
        }
        .photo-upload-wrapper {
            position: relative;
        }
        .photo-upload-wrapper input[type="file"] {
            width: 100%;
            padding: 8px 4px;
            font-size: 11px;
            border: 2px dashed #ccc;
            border-radius: 6px;
            background: #f9f9f9;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .photo-upload-wrapper input[type="file"]:hover {
            border-color: #999;
            background: #f0f0f0;
        }
        .photo-upload-wrapper input[type="file"].has-file {
            border-color: #4CAF50;
            border-style: solid;
            background: #e8f5e9;
        }
        .photo-upload-wrapper input[type="file"]::file-selector-button {
            padding: 4px 8px;
            font-size: 10px;
            background: #e0e0e0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 4px;
        }
        .photo-upload-wrapper input[type="file"].has-file::file-selector-button {
            background: #4CAF50;
            color: white;
        }
        .content > .listing-grid,
        .content > .empty,
        .content > .loading {
            padding: 15px;
        }
        .content.active { display: block; }
        
        .listing-grid { 
            display: grid !important; 
            grid-template-columns: repeat(3, 1fr) !important; 
            gap: 15px !important; 
            margin-bottom: 30px; 
            width: 100%;
        }
        
        @media (max-width: 992px) {
            .listing-grid { grid-template-columns: repeat(2, 1fr) !important; }
        }
        
        @media (max-width: 600px) {
            .listing-grid { 
                grid-template-columns: 1fr !important; 
                gap: 12px !important; 
                min-height: 100px;
            }
            .listing-card {
                display: flex !important;
                flex-direction: column !important;
                min-height: 200px !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
        }
        
        .card {
            background: #ffffff;
            border-radius: 8px;
            padding: 12px;
            border: 1px solid #e0e0e0;
            transition: all 0.2s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
            min-height: 150px;
        }
        
        .card h3 {
            font-size: 14px;
            margin-bottom: 8px;
            color: #0084ff;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.3;
            max-height: 2.6em;
        }
        
        .card p {
            font-size: 12px;
            color: #666;
            line-height: 1.5;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            max-height: 6em;
        }
        
        .card-slider {
            position: relative;
            width: 100%;
            height: 180px;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
            background: #f0f0f0;
        }
        
        .card-slider img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .card-slider img.active {
            opacity: 1;
        }
        
        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background: rgba(0,0,0,0.4);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            z-index: 10;
        }
        
        .slider-nav:hover { background: rgba(0,0,0,0.7); }
        .slider-nav.prev { left: 5px; }
        .slider-nav.next { right: 5px; }
        
        .slider-dots {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 4px;
            z-index: 10;
        }
        
        .slider-dot {
            width: 6px;
            height: 6px;
            background: rgba(255,255,255,0.5);
            border-radius: 50%;
        }
        
        .slider-dot.active {
            background: #fff;
        }
        .card:hover { border-color: #0084ff; background: #f9f9f9; box-shadow: 0 2px 8px rgba(0,132,255,0.1); }
        .card h3 { font-size: 16px; margin-bottom: 8px; color: #0084ff; }
        .card p { font-size: 13px; color: #666; line-height: 1.6; }
        .card .meta { font-size: 12px; color: #999; margin-top: 10px; }
        
        .filters {
            background: #f5f5f5;
            padding: 12px 0;
            border-radius: 0;
            margin-bottom: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 8px;
            border: none;
            border-bottom: 1px solid #e0e0e0;
        }
        .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }

            padding: 8px 12px;
            background: #ffffff;
            border: 1px solid #ddd;
            color: #333;
            border-radius: 4px;
            font-size: 13px;
        }
        .filters input:focus, .filters select:focus {
            outline: none;
            border-color: #0084ff;
            box-shadow: 0 0 0 2px rgba(0,132,255,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            background: #0084ff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }
        .btn:hover { background: #0073e6; }
        .btn.secondary { background: #f0f0f0; color: #333; border: 1px solid #ddd; }
        
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 15px; }
        .stat-box { background: #ffffff; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #d4af37; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .stat-box .number { font-size: 28px; font-weight: bold; color: #d4af37; margin-bottom: 5px; }
        .stat-box .label { font-size: 12px; color: #666; }
        
        .category-link {
            cursor: pointer;
            color: #0084ff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
            border-radius: 4px;
            padding: 2px 4px;
        }
        .category-link:hover {
            text-decoration: underline;
            background: rgba(0, 132, 255, 0.1);
        }
        
        .loading { text-align: center; padding: 40px; color: #999; }
        .spinner { display: inline-block; width: 20px; height: 20px; border: 2px solid #e0e0e0; border-top-color: #0084ff; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .empty { text-align: center; padding: 40px; color: #999; }
        
        .banner {
            width: 100%;
            max-width: 1200px;
            height: 576px;
            margin: 0 auto 20px auto;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            position: relative;
            z-index: 5;
            border: 3px solid #d4af37;
            overflow: hidden;
        }
        
        .banner img {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: contain;
        }

        /* Responsive banner sizes */
        @media (max-width: 1024px) {
            .banner { height: auto; }
        }
        
        @media (max-width: 768px) {
            .banner { height: auto; margin-bottom: 15px; }
        }

        @media (max-width: 480px) {
            .banner { height: auto; margin-bottom: 10px; }
        }
        
        .banner-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex !important;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.2s;
            z-index: 100;
            pointer-events: auto;
        }
        
        .banner-nav:hover {
            background: rgba(212, 175, 55, 0.8);
            color: #333;
        }
        
        .banner-nav.prev { left: 10px; }
        .banner-nav.next { right: 10px; }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .tab img {
            width: 62px;
            height: 62px;
            object-fit: contain;
        }
        
        .tab span {
            font-size: 11px;
            max-width: 100px;
            word-break: break-word;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
        @media (max-width: 768px) {
            .container { padding: 10px; }
            
            .header {
                margin-bottom: 20px;
                padding: 15px;
                border: 2px solid #d4af37;
            }
            
            .header-top {
                flex-direction: column;
                gap: 15px;
                margin-bottom: 15px;
            }
            
            .header-logo-section {
                width: 100%;
                justify-content: center;
            }
            
            .header-logo {
                height: 50px;
            }
            
            .header h1 {
                font-size: 20px;
                text-align: center;
            }
            
            .country-selector {
                flex-wrap: wrap;
                justify-content: center;
                width: 100%;
                gap: 8px;
                padding: 8px 10px;
                border: 2px solid #d4af37;
            }
            
            .country-btn {
                padding: 8px 12px;
                font-size: 12px;
                flex: 1;
                min-width: 80px;
            }
            
            .banner {
                height: 312px;
                margin-bottom: 15px;
            }
            
            .tabs {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
                gap: 8px;
                margin-bottom: 20px;
                padding: 12px;
                border-radius: 6px;
            }
            
            .tab {
                padding: 15px 10px;
                font-size: 9px;
                gap: 4px;
            }
            
            .tab img {
                width: 50px;
                height: 50px;
            }
            
            .tab span {
                font-size: 9px;
                max-width: 80px;
                line-height: 1.2;
            }
            
            .content {
                padding: 0;
                border-radius: 6px;
            }
            
            .content > .listing-grid,
            .content > .empty,
            .content > .loading {
                padding: 12px;
            }
            
            .grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .card {
                padding: 12px;
                border-radius: 6px;
            }
            
            .card h3 {
                font-size: 14px;
            }
            
            .card p {
                font-size: 12px;
            }
            
            .card .meta {
                font-size: 11px;
            }
            
            .filters {
                padding: 10px 0;
                grid-template-columns: 1fr;
                gap: 8px;
                border-radius: 0;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }

                padding: 8px 10px;
                font-size: 12px;
                width: 100%;
                box-sizing: border-box;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .stat-box {
                padding: 12px;
                border-radius: 6px;
                border: 2px solid #d4af37;
            }
            
            .stat-box .number {
                font-size: 20px;
            }
            
            .stat-box .label {
                font-size: 11px;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 12px;
            }
            
            .loading, .empty {
                padding: 30px;
            }
        }
        
        /* –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã (< 480px) */
        @media (max-width: 480px) {
            .container { padding: 8px; }
            
            .content {
                padding: 0;
            }
            
            .content > .listing-grid,
            .content > .empty,
            .content > .loading {
                padding: 10px;
            }
            
            .filters {
                padding: 8px 0;
                border-radius: 0;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }

                padding: 6px 8px;
                width: 100%;
                box-sizing: border-box;
            }
            
            .header {
                padding: 10px;
                margin-bottom: 15px;
            }
            
            .header-top {
                gap: 10px;
            }
            
            .header-logo {
                height: 40px;
            }
            
            .header h1 {
                font-size: 16px;
            }
            
            .country-selector {
                padding: 6px 8px;
                gap: 6px;
            }
            
            .country-btn {
                padding: 6px 10px;
                font-size: 11px;
                min-width: 70px;
            }
            
            .banner {
                height: 273px;
                margin-bottom: 10px;
            }
            
            .tabs {
                grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
                gap: 6px;
                padding: 10px;
                margin-bottom: 15px;
            }
            
            .tab {
                padding: 12px 8px;
                font-size: 8px;
                gap: 2px;
            }
            
            .tab img {
                width: 45px;
                height: 45px;
            }
            
            .tab span {
                font-size: 8px;
                max-width: 70px;
            }
            
            .content {
                padding: 10px;
            }
            
            .grid {
                gap: 10px;
            }
            
            .card {
                padding: 10px;
            }
            
            .card h3 {
                font-size: 13px;
            }
            
            .card p {
                font-size: 11px;
            }
            
            .filters {
                padding: 10px;
                gap: 6px;
            }
            
            .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <img src="/static/images/logo.png" alt="Goldantelope" style="height: 100px; width: auto;">
                <div class="country-selector" id="user-country-selector">
                    <button class="country-btn active" onclick="switchCountry('vietnam')">üáªüá≥ –í—å–µ—Ç–Ω–∞–º</button>
                    <button class="country-btn" onclick="alert('–ó–∞–ø—É—Å–∫ —Ñ–µ–≤—Ä–∞–ª—å')">üáπüá≠ –¢–∞–π–ª–∞–Ω–¥</button>
                    <button class="country-btn" onclick="alert('–ó–∞–ø—É—Å–∫ –º–∞—Ä—Ç')">üáÆüá≥ –ò–Ω–¥–∏—è</button>
                    <button class="country-btn" onclick="alert('–ó–∞–ø—É—Å–∫ –∞–ø—Ä–µ–ª—å')">üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è</button>
                </div>
                <div class="country-selector" id="admin-country-selector" style="display: none;">
                    <button class="country-btn active" onclick="switchCountry('vietnam')">üáªüá≥ –í—å–µ—Ç–Ω–∞–º</button>
                    <button class="country-btn" onclick="switchCountry('thailand')">üáπüá≠ –¢–∞–π–ª–∞–Ω–¥</button>
                    <button class="country-btn" onclick="switchCountry('india')">üáÆüá≥ –ò–Ω–¥–∏—è</button>
                    <button class="country-btn" onclick="switchCountry('indonesia')">üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è</button>
                </div>
                <div class="rates-display" id="rates-display" style="display: inline-flex; align-items: center; gap: 8px; background: rgba(212,175,55,0.1); padding: 6px 14px; border-radius: 25px; white-space: nowrap;">
                    <span style="font-size: 14px;">üå§Ô∏è</span><span id="weather-city" style="font-size: 12px; color: #666;">TP.HCM</span><span id="weather-temp" style="font-size: 13px; font-weight: 600; color: #d4af37;">--¬∞C</span>
                    <span style="color: #ccc; margin: 0 2px;">|</span>
                    <span style="font-size: 14px;">üë•</span><span id="online-count" style="font-size: 13px; font-weight: 600; color: #d4af37;">--</span>
                    <span style="color: #ccc; margin: 0 2px;">|</span>
                    <button onclick="switchLang('ru')" id="lang-ru" class="lang-btn" style="padding: 3px 8px; border: none; border-radius: 12px; background: #d4af37; color: white; cursor: pointer; font-size: 11px; font-weight: 600;">RU</button>
                    <button onclick="switchLang('en')" id="lang-en" class="lang-btn" style="padding: 3px 8px; border: none; border-radius: 12px; background: transparent; color: #666; cursor: pointer; font-size: 11px; font-weight: 600;">EN</button>
                    <button onclick="switchLang('vi')" id="lang-vi" class="lang-btn" style="padding: 3px 8px; border: none; border-radius: 12px; background: transparent; color: #666; cursor: pointer; font-size: 11px; font-weight: 600;">VI</button>
                </div>
            </div>
            
            <div class="status-bar">
                <div class="status-item">
                    <span class="status-dot online"></span>
                    <span>–ü–∞—Ä—Å–µ—Ä: <strong id="parser-status">–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</strong></span>
                </div>
                <div class="status-item">
                    <span>–í—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π: <strong id="total-items">0</strong></span>
                </div>
                <div class="status-item">
                    <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ: <strong id="last-update">--:--</strong></span>
                </div>
            </div>
        </div>

        <div id="banner" class="banner">
            <img id="banner-img" src="" alt="Banner">
            <button class="banner-nav prev" onclick="event.stopPropagation(); changeBanner(-1)">‚Äπ</button>
            <button class="banner-nav next" onclick="event.stopPropagation(); changeBanner(1)">‚Ä∫</button>
        </div>

        <div class="tabs">
            <button class="tab" data-tab="entertainment" onclick="switchTab('entertainment')"><img src="/static/icons/entertainment.jpg" alt="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è"><span>–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</span></button>
            <button class="tab" data-tab="restaurants" onclick="switchTab('restaurants')"><img src="/static/images/icons/restaurants.jpg" alt="–†–µ—Å—Ç–æ—Ä–∞–Ω—ã"><span>–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</span></button>
            <button class="tab" data-tab="tours" onclick="switchTab('tours')"><img src="/static/images/icons/tours.jpg" alt="–≠–∫—Å–∫—É—Ä—Å–∏–∏"><span>–≠–∫—Å–∫—É—Ä—Å–∏–∏</span></button>
            <button class="tab" data-tab="transport" onclick="switchTab('transport')"><img src="/static/icons/transport.png" alt="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç"><span>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span></button>
            <button class="tab active" data-tab="realestate" onclick="switchTab('realestate')"><img src="/static/icons/realestate.png" alt="–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"><span>–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</span></button>
            <button class="tab" data-tab="exchange" onclick="switchTab('exchange')"><img src="/static/icons/exchange.png" alt="–û–±–º–µ–Ω"><span>–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</span></button>
            <button class="tab" data-tab="settings" onclick="switchTab('settings')"><img src="/static/icons/kids_new.png" alt="–î–µ—Ç–∏"><span>–î–µ—Ç–∏</span></button>
            <button class="tab" data-tab="marketplace" onclick="switchTab('marketplace')"><img src="/static/images/icons/marketplace.jpg" alt="–ë–∞—Ä–∞—Ö–æ–ª–∫–∞"><span>–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</span></button>
            <button class="tab" data-tab="visas" onclick="switchTab('visas')"><img src="/static/icons/visas.jpg" alt="–í–∏–∑–∞—Ä–∞–Ω"><span>–í–∏–∑–∞—Ä–∞–Ω</span></button>
            <button class="tab" data-tab="news" onclick="switchTab('news')"><img src="/static/icons/photoshoot.jpg" alt="–§–æ—Ç–æ—Å–µ—Å—Å–∏—è"><span>–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</span></button>
            <button class="tab" data-tab="medicine" onclick="switchTab('medicine')"><img src="/static/icons/medicine_new.png" alt="–ú–µ–¥–∏—Ü–∏–Ω–∞"><span>–ú–µ–¥–∏—Ü–∏–Ω–∞</span></button>
            <button class="tab" data-tab="chat" onclick="switchTab('chat')"><img src="/static/images/icons/chat.jpg" alt="–ß–∞—Ç"><span>–ß–∞—Ç</span></button>
            <button class="tab" data-tab="stats" onclick="switchTab('stats')"><img src="/static/icons/statistics.png" alt="–†–µ–∫–ª–∞–º–∞ –¢–ì"><span>–†–µ–∫–ª–∞–º–∞ –¢–ì</span></button>
            <button class="tab" data-tab="admin" onclick="switchTab('admin')" style="margin-left: auto;"><span>‚öôÔ∏è –ê–¥–º–∏–Ω</span></button>
        </div>

        <!-- –†–µ–∫–ª–∞–º–∞ –¢–ì -->
        <div id="stats" class="content">
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                <h2 style="margin: 0 0 10px 0;">üì¢ Telegram Ads - –†–µ–∫–ª–∞–º–∞ –≤ –∫–∞–Ω–∞–ª–∞—Ö</h2>
                <p style="margin: 0; opacity: 0.9;">–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ä–µ–∫–ª–∞–º—É –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö Telegram –≥—Ä—É–ø–ø–∞—Ö –ê–∑–∏–∏. –û—Ö–≤–∞—Ç —Ç—ã—Å—è—á —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!</p>
            </div>
            
            <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
                <h3 style="margin: 0 0 15px 0; color: #333; font-size: 18px;">üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥–ª—è —Ä–µ–∫–ª–∞–º—ã</h3>
                
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥–∞–º (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω—ã) -->
                <div id="ads-city-filter" style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px;">
                </div>
                
                <div style="overflow-x: auto;">
                    <table id="ads-table" style="width: 100%; border-collapse: collapse; font-size: 14px;">
                        <thead>
                            <tr style="background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%); color: white;">
                                <th style="padding: 12px; text-align: left; border-radius: 8px 0 0 0;">–ì—Ä—É–ø–ø–∞</th>
                                <th style="padding: 12px; text-align: center;">–û—Ö–≤–∞—Ç</th>
                                <th style="padding: 12px; text-align: center;">üí∞ –¶–µ–Ω–∞</th>
                                <th style="padding: 12px; text-align: center;">–ö–æ–Ω—Ç–∞–∫—Ç</th>
                                <th style="padding: 12px; text-align: center; border-radius: 0 8px 0 0;">–ó–∞–∫–∞–∑–∞—Ç—å</th>
                            </tr>
                        </thead>
                        <tbody id="ads-tbody">
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 15px 0; color: #333; font-size: 18px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –∫–∞–Ω–∞–ª</h3>
                <p style="color: #666; margin-bottom: 15px; font-size: 13px;">–£ –≤–∞—Å –µ—Å—Ç—å Telegram –∫–∞–Ω–∞–ª? –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –Ω–∞—à –∫–∞—Ç–∞–ª–æ–≥ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –∑–∞–∫–∞–∑—ã –Ω–∞ —Ä–µ–∫–ª–∞–º—É!</p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ *</label>
                        <input type="text" id="add-channel-name" placeholder="@your_channel" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="add-channel-category" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                            <option value="chat">üí¨ –ß–∞—Ç</option>
                            <option value="visas">üèñÔ∏è –í–∏–∑—ã</option>
                            <option value="realestate">üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                            <option value="transport">üèçÔ∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                            <option value="exchange">üí± –û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                            <option value="marketplace">üõçÔ∏è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                            <option value="restaurants">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                            <option value="tours">üß≥ –≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                            <option value="entertainment">üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                            <option value="medicine">üè• –ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                            <option value="news">üì∞ –ù–æ–≤–æ—Å—Ç–∏</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ì–æ—Ä–æ–¥ *</label>
                        <select id="add-channel-city" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                            <!-- –ì–æ—Ä–æ–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </select>
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ *</label>
                        <input type="number" id="add-channel-members" placeholder="1000" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–¶–µ–Ω–∞ –∑–∞ –ø–æ—Å—Ç ($) *</label>
                        <input type="number" id="add-channel-price" placeholder="30" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏ *</label>
                        <input type="text" id="add-channel-contact" placeholder="@your_username" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                <p style="font-size: 11px; color: #999; margin-top: 10px;">* –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</p>
                <button onclick="addChannelForAds()" style="margin-top: 15px; padding: 12px 30px; background: linear-gradient(135deg, #4CAF50, #45a049); color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª</button>
                <div id="add-channel-status" style="margin-top: 10px;"></div>
            </div>
        </div>

        <!-- –†–µ—Å—Ç–æ—Ä–∞–Ω—ã -->
        <div id="restaurants" class="content">
            <!-- –í—å–µ—Ç–Ω–∞–º - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="vietnam-restaurants-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn restaurant-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterRestaurantsByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/restaurants/nyachang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">106 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–•–æ—à–∏–º–∏–Ω" onclick="filterRestaurantsByCity('–•–æ—à–∏–º–∏–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/hochiminh.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">74 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterRestaurantsByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">95 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–•–∞–Ω–æ–π" onclick="filterRestaurantsByCity('–•–∞–Ω–æ–π')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/hanoi.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterRestaurantsByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–§–∞–Ω—Ç—å–µ—Ç" onclick="filterRestaurantsByCity('–§–∞–Ω—Ç—å–µ—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/phanthiet.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§–∞–Ω—Ç—å–µ—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–ö–∞–º—Ä–∞–Ω—å" onclick="filterRestaurantsByCity('–ö–∞–º—Ä–∞–Ω—å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/kamran.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º—Ä–∞–Ω—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–î–∞–ª–∞—Ç" onclick="filterRestaurantsByCity('–î–∞–ª–∞—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/dalat.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–•–æ–π–∞–Ω" onclick="filterRestaurantsByCity('–•–æ–π–∞–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/hoian.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ–π–∞–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-restaurant'); loadRestaurantCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-restaurants-buttons" style="display: none; padding: 20px;">
                <div id="restaurants-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="filters" style="display: flex; gap: 10px; padding: 15px; flex-wrap: wrap;">
                <button onclick="searchNearby5km()" class="nearby-btn" style="padding: 10px 20px; background: #4285F4; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">üìç –ò—Å–∫–∞—Ç—å –≤ —Ä–∞–¥–∏—É—Å–µ 5 –∫–º</button>
                <span style="border-left: 2px solid #ddd; margin: 0 5px;"></span>
                <button onclick="filterRestaurantType('all')" class="rest-type-btn active" data-type="all" style="padding: 10px 20px; background: #d4af37; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">üçΩÔ∏è –í—Å–µ</button>
                <button onclick="filterRestaurantType('—Ä–µ—Å—Ç–æ—Ä–∞–Ω')" class="rest-type-btn" data-type="—Ä–µ—Å—Ç–æ—Ä–∞–Ω" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #FF5722; border-radius: 8px; cursor: pointer; font-weight: 600;">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã</button>
                <button onclick="filterRestaurantType('–∫–∞—Ñ–µ')" class="rest-type-btn" data-type="–∫–∞—Ñ–µ" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #795548; border-radius: 8px; cursor: pointer; font-weight: 600;">‚òï –ö–∞—Ñ–µ</button>
                <button onclick="filterRestaurantType('–±–∞—Ä')" class="rest-type-btn" data-type="–±–∞—Ä" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #9C27B0; border-radius: 8px; cursor: pointer; font-weight: 600;">üç∏ –ë–∞—Ä—ã</button>
                <button onclick="filterRestaurantType('–Ω–æ—á–Ω–æ–π –∫–ª—É–±')" class="rest-type-btn" data-type="–Ω–æ—á–Ω–æ–π –∫–ª—É–±" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #E91E63; border-radius: 8px; cursor: pointer; font-weight: 600;">üéµ –ù–æ—á–Ω—ã–µ –∫–ª—É–±—ã</button>
                <button onclick="filterRestaurantType('—Ä—É—Å—Å–∫–∞—è –µ–¥–∞')" class="rest-type-btn" data-type="—Ä—É—Å—Å–∫–∞—è –µ–¥–∞" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #F44336; border-radius: 8px; cursor: pointer; font-weight: 600;">ü•ü –†—É—Å—Å–∫–∞—è –µ–¥–∞</button>
                <button onclick="filterRestaurantType('–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç')" class="rest-type-btn" data-type="–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #00BCD4; border-radius: 8px; cursor: pointer; font-weight: 600;">ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã</button>
                <button onclick="filterRestaurantType('high_rating')" class="rest-type-btn" data-type="high_rating" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #FFC107; border-radius: 8px; cursor: pointer; font-weight: 600;">‚≠ê –í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</button>
            </div>
            <div class="listing-grid" id="restaurants-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –≠–∫—Å–∫—É—Ä—Å–∏–∏ -->
        <div id="tours" class="content">
            <!-- –í—å–µ—Ç–Ω–∞–º - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="vietnam-tours-buttons" style="padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn tours-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterToursByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/tours/nyachang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">58 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–•–æ—à–∏–º–∏–Ω" onclick="filterToursByCity('–•–æ—à–∏–º–∏–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/hochiminh.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">33 —ç–∫—Å–∫—É—Ä—Å–∏–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–•–∞–Ω–æ–π" onclick="filterToursByCity('–•–∞–Ω–æ–π')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/hanoi.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterToursByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">27 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–§–∞–Ω—Ç—å–µ—Ç" onclick="filterToursByCity('–§–∞–Ω—Ç—å–µ—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/phanthiet.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§–∞–Ω—Ç—å–µ—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–ú—É–π–Ω–µ" onclick="filterToursByCity('–ú—É–π–Ω–µ')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/muine.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú—É–π–Ω–µ</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">6 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterToursByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">16 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–ö–∞–º—Ä–∞–Ω—å" onclick="filterToursByCity('–ö–∞–º—Ä–∞–Ω—å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/kamran.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º—Ä–∞–Ω—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">2 —ç–∫—Å–∫—É—Ä—Å–∏–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–î–∞–ª–∞—Ç" onclick="filterToursByCity('–î–∞–ª–∞—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/dalat.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">2 —ç–∫—Å–∫—É—Ä—Å–∏–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-tour'); loadTourCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-tours-buttons" style="display: none; padding: 20px;">
                <div id="tours-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="listing-grid" id="tours-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏ -->
        <div id="submit-tour" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üß≥ –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—é —ç–∫—Å–∫—É—Ä—Å–∏—é. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-tour-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="tour-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–∞–ª–∞—Ç –∑–∞ 2 –¥–Ω—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="tour-description" required rows="4" maxlength="500" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏, –º–∞—Ä—à—Ä—É—Ç, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π</label>
                            <select id="tour-days" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="1">1 –¥–µ–Ω—å</option>
                                <option value="2">2 –¥–Ω—è</option>
                                <option value="3">3 –¥–Ω—è</option>
                                <option value="4">4 –¥–Ω—è</option>
                                <option value="5">5 –¥–Ω–µ–π</option>
                                <option value="7">7 –¥–Ω–µ–π</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ ($)</label>
                            <input type="number" id="tour-price" placeholder="55" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="tour-location" placeholder="–í—ã–µ–∑–¥ –∏–∑ –ù—è—á–∞–Ω–≥–∞" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="tour-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="tour-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="tour-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="tour-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë• –ì—Ä—É–ø–ø–∞ –º–∞–∫—Å–∏–º—É–º —á–µ–ª–æ–≤–µ–∫</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="5" checked> –¥–æ 5
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="10"> –¥–æ 10
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="20"> –¥–æ 20
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="50"> –¥–æ 50
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="tour-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="tour-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="tour-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="tour-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="tour-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="tour-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="tour-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadTourCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="tour-captcha-answer">
                    </div>

                    <div id="tour-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #2196F3; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç -->
        <div id="transport" class="content">
            <div id="vietnam-transport-buttons" style="padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn transport-type-btn" data-type="bikes" onclick="filterTransportByType('bikes')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/transport/bikes.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="transport-bikes" style="font-weight: bold; font-size: 18px;">üèçÔ∏è –ë–∞–π–∫–∏</div>
                            <div class="tour-count" id="transport-bikes-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn transport-type-btn" data-type="cars" onclick="filterTransportByType('cars')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/transport/cars.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="transport-cars" style="font-weight: bold; font-size: 18px;">üöó –ê–≤—Ç–æ</div>
                            <div class="tour-count" id="transport-cars-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn transport-type-btn" data-type="yachts" onclick="filterTransportByType('yachts')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/transport/yachts.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="transport-yachts" style="font-weight: bold; font-size: 18px;">‚õµ –Ø—Ö—Ç—ã</div>
                            <div class="tour-count" id="transport-yachts-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn transport-type-btn" data-type="bicycles" onclick="filterTransportByType('bicycles')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/transport/bicycles.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="transport-bicycles" style="font-weight: bold; font-size: 18px;">üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥—ã</div>
                            <div class="tour-count" id="transport-bicycles-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-transport'); loadTransportCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="transport-submit" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" data-i18n="transport-add" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</div>
                        </div>
                    </div>
                </div>
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥–∞–º -->
                <div style="margin-top: 10px;">
                    <div data-i18n="city-filter" style="font-weight: 600; color: #333; margin-bottom: 8px; font-size: 14px;">üèôÔ∏è –ì–æ—Ä–æ–¥:</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <button class="transport-city-btn" data-city="" onclick="filterTransportCity('')" data-i18n="city-all" style="padding: 8px 16px; border: 2px solid #d4af37; background: #d4af37; color: white; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">–í—Å–µ</button>
                        <button class="transport-city-btn" data-city="Nha Trang" onclick="filterTransportCity('Nha Trang')" data-i18n="city-nhatrang" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–ù—è—á–∞–Ω–≥</button>
                        <button class="transport-city-btn" data-city="Da Nang" onclick="filterTransportCity('Da Nang')" data-i18n="city-danang" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–î–∞–Ω–∞–Ω–≥</button>
                        <button class="transport-city-btn" data-city="Phu Quoc" onclick="filterTransportCity('Phu Quoc')" data-i18n="city-phuquoc" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–§—É–∫—É–æ–∫</button>
                        <button class="transport-city-btn" data-city="Ho Chi Minh" onclick="filterTransportCity('Ho Chi Minh')" data-i18n="city-hochiminh" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–•–æ—à–∏–º–∏–Ω</button>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-transport-buttons" style="display: none; padding: 20px;">
                <div id="transport-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="listing-grid" id="transport-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ -->
        <div id="submit-transport" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üèçÔ∏è –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –±–∞–π–∫, –∞–≤—Ç–æ –∏–ª–∏ —è—Ö—Ç—É. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-transport-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ/–ú–æ–¥–µ–ª—å *</label>
                        <input type="text" id="transport-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Honda Air Blade 125cc" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="transport-description" required rows="4" maxlength="500" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–æ–±–µ–≥, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üîß –û–±—ä—ë–º –¥–≤–∏–≥–∞—Ç–µ–ª—è (—Å—Å)</label>
                            <input type="number" id="transport-engine" placeholder="125" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìÖ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</label>
                            <input type="number" id="transport-year" placeholder="2022" min="1990" max="2026" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label id="transport-price-label" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND) *</label>
                            <input type="number" id="transport-price" required placeholder="900000000" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø</label>
                            <select id="transport-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="bikes">üèçÔ∏è –ë–∞–π–∫</option>
                                <option value="cars">üöó –ê–≤—Ç–æ</option>
                                <option value="yachts">‚õµ –Ø—Ö—Ç–∞</option>
                                <option value="bicycles">üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="transport-location" placeholder="–ù—è—á–∞–Ω–≥, —Ü–µ–Ω—Ç—Ä" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="transport-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="transport-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="transport-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="transport-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="transport-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="transport-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="transport-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="transport-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="transport-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="transport-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="transport-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadTransportCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="transport-captcha-answer">
                    </div>

                    <div id="transport-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å -->
        <div id="realestate" class="content active">
            <div id="vietnam-realestate-buttons" style="padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn realestate-city-btn" data-city="nhatrang" onclick="filterRealEstateByCity('nhatrang')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_nhatrang.jpg?v=20260119" alt="–ù—è—á–∞–Ω–≥" style="width: 100%; height: 100%; object-fit: cover; min-height: 120px; background: #f0f0f0;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" id="realestate-nhatrang-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="danang" onclick="filterRealEstateByCity('danang')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_danang.jpg?v=20260119" alt="–î–∞–Ω–∞–Ω–≥" style="width: 100%; height: 100%; object-fit: cover; min-height: 120px; background: #f0f0f0;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" id="realestate-danang-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="hochiminh" onclick="filterRealEstateByCity('hochiminh')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/realestate_hochiminh.jpg?v=20260119" alt="–•–æ—à–∏–º–∏–Ω" style="width: 100%; height: 100%; object-fit: cover; min-height: 120px; background: #f0f0f0;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" id="realestate-hochiminh-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="hanoi" onclick="filterRealEstateByCity('hanoi')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_hanoi.jpg?v=20260119" alt="–•–∞–Ω–æ–π" style="width: 100%; height: 100%; object-fit: cover; min-height: 120px; background: #f0f0f0;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" id="realestate-hanoi-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="phuquoc" onclick="filterRealEstateByCity('phuquoc')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_phuquoc.jpg?v=20260119" alt="–§—É–∫—É–æ–∫" style="width: 100%; height: 100%; object-fit: cover; min-height: 120px; background: #f0f0f0;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" id="realestate-phuquoc-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="dalat" onclick="filterRealEstateByCity('dalat')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_dalat.jpg?v=20260119" alt="–î–∞–ª–∞—Ç" style="width: 100%; height: 100%; object-fit: cover; min-height: 120px; background: #f0f0f0;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" id="realestate-dalat-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-listing'); loadCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 14px; margin-top: 4px; color: #666;">–æ–±—ä—è–≤–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="vietnam-realestate-filters" class="filters" style="display: flex; gap: 10px; padding: 15px; flex-wrap: wrap;">
                <button onclick="filterRealEstateType('rent')" class="filter-type-btn" id="filter-rent" style="padding: 10px 20px; background: #fff; border: 2px solid #2196F3; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üîë –ê—Ä–µ–Ω–¥–∞</button>
                <button onclick="filterRealEstateType('sale')" class="filter-type-btn" id="filter-sale" style="padding: 10px 20px; background: #fff; border: 2px solid #4CAF50; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üè† –ü—Ä–æ–¥–∞–∂–∞</button>
                <span style="border-left: 2px solid #ddd; margin: 0 5px;"></span>
                <button onclick="sortRealEstate('price_asc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üìà –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</button>
                <button onclick="sortRealEstate('price_desc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üìâ –ü–æ —É–±—ã–≤–∞–Ω–∏—é</button>
                <button onclick="filterRealEstatePrice(7000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 7 –º–ª–Ω</button>
                <button onclick="filterRealEstatePrice(15000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 15 –º–ª–Ω</button>
                <button onclick="filterRealEstatePriceMin(15000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #E91E63; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–û—Ç 15 –º–ª–Ω</button>
                <button onclick="resetRealEstateFilters()" class="reset-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #999; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">‚úï –°–±—Ä–æ—Å</button>
            </div>
            <!-- –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–∞–º/–∫–æ–Ω—Ç–∞–∫—Ç–∞–º -->
            <div id="vietnam-realestate-groups" class="filters" style="display: flex; gap: 8px; padding: 0 15px 15px 15px; flex-wrap: wrap; align-items: center;">
                <span style="font-size: 13px; color: #666; margin-right: 5px;">üìå –ì—Ä—É–ø–ø—ã:</span>
                <button onclick="filterRealEstateGroup('')" class="group-filter-btn" data-group="" style="padding: 6px 12px; background: #d4af37; border: 2px solid #d4af37; border-radius: 6px; cursor: pointer; font-weight: 500; color: #fff; font-size: 12px; height: 32px; box-sizing: border-box;">–í—Å–µ</button>
                <select id="group-select" onchange="filterRealEstateGroup(this.value)" style="padding: 6px 12px; border: 2px solid #9C27B0; border-radius: 6px; font-size: 12px; font-weight: 500; color: #333; background: #fff; cursor: pointer; min-width: 150px; height: 32px; box-sizing: border-box;">
                    <option value="">-- –í—ã–±—Ä–∞—Ç—å –≥—Ä—É–ø–ø—É --</option>
                    <option value="hcmc_arenda">hcmc_arenda</option>
                    <option value="HoChiMinhRentl">HoChiMinhRentl</option>
                    <option value="DaNangApartmentRent">DaNangApartmentRent</option>
                    <option value="DaNangRentAFlat">DaNangRentAFlat</option>
                    <option value="Danang_House">Danang_House</option>
                    <option value="danag_viet_life_rent">danag_viet_life_rent</option>
                    <option value="danang_arenda">danang_arenda</option>
                    <option value="viet_life_niachang">viet_life_niachang</option>
                    <option value="gohomenhatrang">gohomenhatrang</option>
                    <option value="PhuquocRentl">PhuquocRentl</option>
                    <option value="Hanoirentapartment">Hanoirentapartment</option>
                </select>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
            <div id="other-realestate-buttons" style="display: none; padding: 20px;">
                <div id="realestate-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
                <!-- –§–∏–ª—å—Ç—Ä—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω -->
                <div class="filters" style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
                    <button onclick="filterRealEstateType('rent')" class="filter-type-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #2196F3; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üîë –ê—Ä–µ–Ω–¥–∞</button>
                    <button onclick="filterRealEstateType('sale')" class="filter-type-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #4CAF50; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üè† –ü—Ä–æ–¥–∞–∂–∞</button>
                    <span style="border-left: 2px solid #ddd; margin: 0 5px;"></span>
                    <button onclick="sortRealEstate('price_asc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üìà –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</button>
                    <button onclick="sortRealEstate('price_desc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üìâ –ü–æ —É–±—ã–≤–∞–Ω–∏—é</button>
                    <button onclick="filterRealEstatePrice(7000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 7 –º–ª–Ω</button>
                    <button onclick="filterRealEstatePrice(15000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 15 –º–ª–Ω</button>
                    <button onclick="resetRealEstateFilters()" class="reset-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #999; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">‚úï –°–±—Ä–æ—Å</button>
                </div>
            </div>
            <div class="listing-grid" id="real_estate-grid" style="min-height: 200px; padding: 15px;">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
        <div id="submit-realestate" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üè† –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-realestate-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="realestate-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 2 –∫–æ–º–Ω–∞—Ç—ã —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ *</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #9C27B0; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="apartment" checked> üè¢ –ö–≤–∞—Ä—Ç–∏—Ä–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #E91E63; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="house"> üè† –î–æ–º
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #FF9800; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="villa"> üè° –í–∏–ª–ª–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #2196F3; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="land"> üå≥ –£—á–∞—Å—Ç–æ–∫
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="realestate-description" required rows="4" maxlength="500" placeholder="–ü–ª–æ—â–∞–¥—å, —É–¥–æ–±—Å—Ç–≤–∞, —Ä–∞–π–æ–Ω, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üõèÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç</label>
                            <select id="realestate-rooms" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="studio">–°—Ç—É–¥–∏—è</option>
                                <option value="1">1 –∫–æ–º–Ω–∞—Ç–∞</option>
                                <option value="2">2 –∫–æ–º–Ω–∞—Ç—ã</option>
                                <option value="3">3 –∫–æ–º–Ω–∞—Ç—ã</option>
                                <option value="4+">4+ –∫–æ–º–Ω–∞—Ç</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìê –ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
                            <input type="number" id="realestate-area" placeholder="50" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label id="realestate-price-label" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND) *</label>
                            <input type="number" id="realestate-price" required placeholder="5000000000" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="realestate-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="realestate-location" placeholder="–¶–µ–Ω—Ç—Ä, —É –º–æ—Ä—è, —Ä–∞–π–æ–Ω..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4285F4;">üó∫Ô∏è –°—Å—ã–ª–∫–∞ –Ω–∞ Google Maps</label>
                        <input type="url" id="realestate-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="realestate-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="realestate-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="realestate-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="realestate-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="realestate-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="realestate-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="realestate-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="realestate-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="realestate-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadRealEstateCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="realestate-captcha-answer">
                    </div>

                    <div id="realestate-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #9C27B0; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –æ–±–º–µ–Ω–Ω–∏–∫–∞ -->
        <div id="submit-exchange" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üí± –î–æ–±–∞–≤–∏—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –ø—É–Ω–∫—Ç –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>
                <form id="submit-exchange-form" onsubmit="submitExchange(event)" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="exchange-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û–±–º–µ–Ω –≤–∞–ª—é—Ç –≤ —Ü–µ–Ω—Ç—Ä–µ –ù—è—á–∞–Ω–≥–∞" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                        <select id="exchange-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üíµ –í–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã</label>
                        <input type="text" id="exchange-pairs" placeholder="USD/VND, RUB/VND, EUR/VND" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="exchange-description" required rows="3" maxlength="500" placeholder="–£—Å–ª–æ–≤–∏—è –æ–±–º–µ–Ω–∞, –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ê–¥—Ä–µ—Å</label>
                        <input type="text" id="exchange-address" placeholder="–£–ª–∏—Ü–∞, –Ω–æ–º–µ—Ä –¥–æ–º–∞, —Ä–∞–π–æ–Ω" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="exchange-contact" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="exchange-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="exchange-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="exchange-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="exchange-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="exchange-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="exchange-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="exchange-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="exchange-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadExchangeCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="exchange-captcha-token">
                    </div>
                    <div id="exchange-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>
                    <button type="submit" style="width: 100%; padding: 15px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –¥–ª—è –¥–µ—Ç–µ–π -->
        <div id="submit-children" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #E91E63 0%, #C2185B 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üë∂ –î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É –¥–ª—è –¥–µ—Ç–µ–π</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –¥–µ—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ —Ç–æ–≤–∞—Ä. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>
                <form id="submit-children-form" onsubmit="submitChildren(event)" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë∂ –ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="children-category" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="events">üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</option>
                            <option value="nannies">üë©‚Äçüëß –ù—è–Ω–∏</option>
                            <option value="schools">üè´ –®–∫–æ–ª—ã</option>
                            <option value="products">üß∏ –î–µ—Ç—Å–∫–∏–µ —Å–∞–¥—ã</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="children-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–µ—Ç—Å–∫–∏–π —Å–∞–¥, –Ω—è–Ω—è, –∫—Ä—É–∂–æ–∫..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                            <select id="children-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë∂ –í–æ–∑—Ä–∞—Å—Ç –¥–µ—Ç–µ–π *</label>
                            <select id="children-age" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="0-3">0-3 –≥–æ–¥–∞</option>
                                <option value="3-6">3-6 –ª–µ—Ç</option>
                                <option value="6-12">6-12 –ª–µ—Ç</option>
                                <option value="12+">12+ –ª–µ—Ç</option>
                                <option value="–≤—Å–µ –≤–æ–∑—Ä–∞—Å—Ç—ã">–í—Å–µ –≤–æ–∑—Ä–∞—Å—Ç—ã</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="children-description" required rows="4" maxlength="500" placeholder="–í–æ–∑—Ä–∞—Å—Ç –¥–µ—Ç–µ–π, —É—Å–ª—É–≥–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞</label>
                        <input type="text" id="children-price" placeholder="–û—Ç 500,000 VND/–º–µ—Å—è—Ü" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="children-contact" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="children-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="children-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="children-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="children-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="children-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="children-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="children-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="children-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadChildrenCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="children-captcha-token">
                    </div>
                    <div id="children-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>
                    <button type="submit" style="width: 100%; padding: 15px; background: #E91E63; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –±–∞—Ä–∞—Ö–æ–ª–∫–∏ -->
        <div id="submit-marketplace" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #795548 0%, #5D4037 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üõçÔ∏è –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –±–∞—Ä–∞—Ö–æ–ª–∫—É</h2>
                    <p style="margin: 0; opacity: 0.9;">–ü—Ä–æ–¥–∞–π—Ç–µ –∏–ª–∏ –æ—Ç–¥–∞–π—Ç–µ –≤–µ—â–∏. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>
                <form id="submit-marketplace-form" onsubmit="submitMarketplace(event)" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="marketplace-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: iPhone 13, –¥–∏–≤–∞–Ω, –≤–µ–ª–æ—Å–∏–ø–µ–¥..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì¶ –ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="marketplace-category" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="electronics">üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                            <option value="clothing">üëó –û–¥–µ–∂–¥–∞ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã</option>
                            <option value="furniture">üõãÔ∏è –ú–µ–±–µ–ª—å –∏ –¥–æ–º</option>
                            <option value="free">üéÅ –û—Ç–¥–∞–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                        <select id="marketplace-form-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="marketplace-description" required rows="3" maxlength="500" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä—ã, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND)</label>
                        <input type="number" id="marketplace-price" placeholder="0 = –±–µ—Å–ø–ª–∞—Ç–Ω–æ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="marketplace-contact" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="marketplace-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="marketplace-form-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="marketplace-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="marketplace-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="marketplace-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="marketplace-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="marketplace-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="marketplace-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadMarketplaceCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="marketplace-captcha-token">
                    </div>
                    <div id="marketplace-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>
                    <button type="submit" style="width: 100%; padding: 15px; background: #795548; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –≤–∏–∑–∞—Ä–∞–Ω–∞ -->
        <div id="submit-visas" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #00BCD4 0%, #0097A7 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üèñÔ∏è –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑–∞—Ä–∞–Ω</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ —É—Å–ª—É–≥—É –≤–∏–∑–∞—Ä–∞–Ω–∞. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>
                <form id="submit-visas-form" onsubmit="submitVisas(event)" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="visas-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–∏–∑–∞—Ä–∞–Ω –≤ –ö–∞–º–±–æ–¥–∂—É –∏–∑ –ù—è—á–∞–Ω–≥–∞" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üåç –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ *</label>
                        <select id="visas-destination" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Cambodia">üá∞üá≠ –ö–∞–º–±–æ–¥–∂–∞</option>
                            <option value="Laos">üá±üá¶ –õ–∞–æ—Å</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü™™ –ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ *</label>
                        <select id="visas-citizenship" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="–†–æ—Å—Å–∏–π—Å–∫–æ–µ">–†–æ—Å—Å–∏–π—Å–∫–æ–µ</option>
                            <option value="–ö–∞–∑–∞—Ö—Å–∫–æ–µ">–ö–∞–∑–∞—Ö—Å–∫–æ–µ</option>
                            <option value="–ë–µ–ª–æ—Ä—É—Å—Å–∫–æ–µ">–ë–µ–ª–æ—Ä—É—Å—Å–∫–æ–µ</option>
                            <option value="–£–∫—Ä–∞–∏–Ω—Å–∫–æ–µ">–£–∫—Ä–∞–∏–Ω—Å–∫–æ–µ</option>
                            <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –í—ã–µ–∑–¥ –∏–∑ –≥–æ—Ä–æ–¥–∞ *</label>
                        <select id="visas-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="visas-description" required rows="4" maxlength="500" placeholder="–ú–∞—Ä—à—Ä—É—Ç, —á—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (USD)</label>
                        <input type="number" id="visas-price" placeholder="150" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="visas-contact" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="visas-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="visas-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="visas-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="visas-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="visas-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="visas-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="visas-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="visas-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadVisasCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="visas-captcha-token">
                    </div>
                    <div id="visas-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>
                    <button type="submit" style="width: 100%; padding: 15px; background: #00BCD4; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏ -->
        <div id="submit-photosession" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #673AB7 0%, #512DA8 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üì∏ –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é</h2>
                    <p style="margin: 0; opacity: 0.9;">–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —É—Å–ª—É–≥–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>
                <form id="submit-photosession-form" onsubmit="submitPhotosession(event)" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="photosession-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–≤–∞–¥–µ–±–Ω–∞—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—è, –ø–æ—Ä—Ç—Ä–µ—Ç..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –¢–∏–ø —Å—ä—ë–º–∫–∏</label>
                        <select id="photosession-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="–ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è">üë§ –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è</option>
                            <option value="–°–≤–∞–¥–µ–±–Ω–∞—è">üíí –°–≤–∞–¥–µ–±–Ω–∞—è</option>
                            <option value="–°–µ–º–µ–π–Ω–∞—è">üë®‚Äçüë©‚Äçüëß –°–µ–º–µ–π–Ω–∞—è</option>
                            <option value="–ö–æ–Ω—Ç–µ–Ω—Ç">üì± –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π</option>
                            <option value="–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è">üè¢ –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                        <select id="photosession-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="–ù—è—á–∞–Ω–≥">–ù—è—á–∞–Ω–≥</option>
                            <option value="–•–æ—à–∏–º–∏–Ω">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="–î–∞–Ω–∞–Ω–≥">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="–•–∞–Ω–æ–π">–•–∞–Ω–æ–π</option>
                            <option value="–§—É–∫—É–æ–∫">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="photosession-description" required rows="4" maxlength="500" placeholder="–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —É—Å–ª—É–≥—É, —Å—Ç–∏–ª—å, –æ–ø—ã—Ç..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (USD)</label>
                        <input type="number" id="photosession-price" placeholder="100" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="photosession-contact" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="photosession-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="photosession-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="photosession-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="photosession-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="photosession-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="photosession-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="photosession-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="photosession-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadPhotosessionCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="photosession-captcha-token">
                    </div>
                    <div id="photosession-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>
                    <button type="submit" style="width: 100%; padding: 15px; background: #673AB7; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –º–µ–¥–∏—Ü–∏–Ω—ã -->
        <div id="submit-medicine" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #F44336 0%, #D32F2F 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üè• –î–æ–±–∞–≤–∏—Ç—å –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é —É—Å–ª—É–≥—É</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>
                <form id="submit-medicine-form" onsubmit="submitMedicine(event)" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="medicine-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°—Ç–æ–º–∞—Ç–æ–ª–æ–≥, –º–∞—Å—Å–∞–∂, –∫–ª–∏–Ω–∏–∫–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè• –ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="medicine-type" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="questions">‚ùì –í–æ–ø—Ä–æ—Å—ã</option>
                            <option value="clinics">üè• –ö–ª–∏–Ω–∏–∫–∏</option>
                            <option value="doctors">üë®‚Äç‚öïÔ∏è –í—Ä–∞—á–∏</option>
                            <option value="insurance">üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</option>
                            <option value="directions">üìç –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                        <select id="medicine-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="medicine-description" required rows="3" maxlength="500" placeholder="–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —É—Å–ª—É–≥–∏, –æ–ø—ã—Ç, —è–∑—ã–∫–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ê–¥—Ä–µ—Å</label>
                        <input type="text" id="medicine-address" placeholder="–£–ª–∏—Ü–∞, –Ω–æ–º–µ—Ä –¥–æ–º–∞" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="medicine-contact" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="medicine-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="medicine-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="medicine-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="medicine-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="medicine-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="medicine-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="medicine-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="medicine-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadMedicineCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="medicine-captcha-token">
                    </div>
                    <div id="medicine-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>
                    <button type="submit" style="width: 100%; padding: 15px; background: #F44336; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –û–±–º–µ–Ω –¥–µ–Ω–µ–≥ -->
        <div id="exchange" class="content">
            <div id="vietnam-exchange-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn exchange-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterExchangeByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/categories/exchange/nhatrang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" id="exchange-nhatrang-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterExchangeByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/exchange/danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" id="exchange-danang-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="–•–æ—à–∏–º–∏–Ω" onclick="filterExchangeByCity('–•–æ—à–∏–º–∏–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/exchange/saigon.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" id="exchange-hochiminh-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterExchangeByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/exchange/phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" id="exchange-phuquoc-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom: 20px;">
                    <div class="tour-city-btn" onclick="switchTab('submit-exchange'); loadExchangeCaptcha();" style="cursor: pointer; display: inline-block; position: relative; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50; width: 200px;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 120px; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="thailand-exchange-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn exchange-city-btn" data-city="bangkok" onclick="filterExchangeByCity('bangkok')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1508009603885-50cf7c579365?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ë–∞–Ω–≥–∫–æ–∫</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="phuket" onclick="filterExchangeByCity('phuket')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1589394815804-964ed0be2eb5?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ü—Ö—É–∫–µ—Ç</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="pattaya" onclick="filterExchangeByCity('pattaya')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1552465011-b4e21bf6e79a?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ü–∞—Ç—Ç–∞–π—è</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="samui" onclick="filterExchangeByCity('samui')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1537956965359-7573183d1f57?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–°–∞–º—É–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-exchange'); loadExchangeCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="india-exchange-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn exchange-city-btn" data-city="goa" onclick="filterExchangeByCity('goa')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ì–æ–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="delhi" onclick="filterExchangeByCity('delhi')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1587474260584-136574528ed5?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–µ–ª–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="mumbai" onclick="filterExchangeByCity('mumbai')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1570168007204-dfb528c6958f?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú—É–º–±–∞–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="bangalore" onclick="filterExchangeByCity('bangalore')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1596176530529-78163a4f7af2?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ë–∞–Ω–≥–∞–ª–æ—Ä</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-exchange'); loadExchangeCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="indonesia-exchange-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn exchange-city-btn" data-city="bali" onclick="filterExchangeByCity('bali')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ë–∞–ª–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="jakarta" onclick="filterExchangeByCity('jakarta')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1555899434-94d1368aa7af?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∂–∞–∫–∞—Ä—Ç–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="denpasar" onclick="filterExchangeByCity('denpasar')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1604999333679-b86d54738315?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–µ–Ω–ø–∞—Å–∞—Ä</div>
                        </div>
                    </div>
                    <div class="tour-city-btn exchange-city-btn" data-city="ubud" onclick="filterExchangeByCity('ubud')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1558005530-a7958896ec60?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–£–±—É–¥</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-exchange'); loadExchangeCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="listing-grid" id="exchange-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è -->
        <div id="entertainment" class="content">
            <div id="vietnam-entertainment-buttons" style="padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn entertainment-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterEntertainmentByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/entertainment/nyachang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">51 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–•–æ—à–∏–º–∏–Ω" onclick="filterEntertainmentByCity('–•–æ—à–∏–º–∏–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/hochiminh.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">33 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–•–∞–Ω–æ–π" onclick="filterEntertainmentByCity('–•–∞–Ω–æ–π')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/hanoi.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterEntertainmentByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">27 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–§–∞–Ω—Ç—å–µ—Ç" onclick="filterEntertainmentByCity('–§–∞–Ω—Ç—å–µ—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/phanthiet.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§–∞–Ω—Ç—å–µ—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–ú—É–π–Ω–µ" onclick="filterEntertainmentByCity('–ú—É–π–Ω–µ')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/muine.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú—É–π–Ω–µ</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">6 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterEntertainmentByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">16 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–ö–∞–º—Ä–∞–Ω—å" onclick="filterEntertainmentByCity('–ö–∞–º—Ä–∞–Ω—å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/kamran.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º—Ä–∞–Ω—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">8 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–î–∞–ª–∞—Ç" onclick="filterEntertainmentByCity('–î–∞–ª–∞—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/dalat.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">12 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-entertainment'); loadEntertainmentCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-entertainment-buttons" style="display: none; padding: 20px;">
                <div id="entertainment-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="listing-grid" id="entertainment-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è -->
        <div id="submit-entertainment" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #9C27B0 0%, #673AB7 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üéÆ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –∏–ª–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-entertainment-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="entertainment-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–µ—á–µ—Ä–∏–Ω–∫–∞ –Ω–∞ —è—Ö—Ç–µ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="entertainment-description" required rows="4" maxlength="500" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, –ø—Ä–æ–≥—Ä–∞–º–º–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">‚≠ê –§–∏—à–∫–∞</label>
                            <input type="text" id="entertainment-feature" placeholder="–ñ–∏–≤–∞—è –º—É–∑—ã–∫–∞, DJ..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="entertainment-location" placeholder="–ü–ª—è–∂, –∫–ª—É–±, –æ—Ç–µ–ª—å..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                        <select id="entertainment-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                            <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                            <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="entertainment-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="entertainment-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="entertainment-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë• –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="entertainment-capacity" value="50" checked> –¥–æ 50
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="entertainment-capacity" value="100"> –¥–æ 100
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="entertainment-capacity" value="300"> –¥–æ 300
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="entertainment-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="entertainment-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="entertainment-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="entertainment-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="entertainment-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="entertainment-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="entertainment-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadEntertainmentCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="entertainment-captcha-answer">
                    </div>

                    <div id="entertainment-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #9C27B0; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ë–∞—Ä–∞—Ö–æ–ª–∫–∞ -->
        <div id="marketplace" class="content">
            <div id="vietnam-marketplace-buttons" style="display: none; padding: 20px;">
                <div style="margin-bottom: 15px;">
                    <div style="font-weight: 600; color: #333; margin-bottom: 8px; font-size: 14px;">üèôÔ∏è –ì–æ—Ä–æ–¥:</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <button class="marketplace-city-btn" data-city="" onclick="filterMarketplaceCity('')" style="padding: 8px 16px; border: 2px solid #d4af37; background: #d4af37; color: white; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">–í—Å–µ</button>
                        <button class="marketplace-city-btn" data-city="Nha Trang" onclick="filterMarketplaceCity('Nha Trang')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–ù—è—á–∞–Ω–≥</button>
                        <button class="marketplace-city-btn" data-city="Da Nang" onclick="filterMarketplaceCity('Da Nang')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–î–∞–Ω–∞–Ω–≥</button>
                        <button class="marketplace-city-btn" data-city="Phu Quoc" onclick="filterMarketplaceCity('Phu Quoc')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–§—É–∫—É–æ–∫</button>
                        <button class="marketplace-city-btn" data-city="Ho Chi Minh" onclick="filterMarketplaceCity('Ho Chi Minh')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–•–æ—à–∏–º–∏–Ω</button>
                    </div>
                </div>
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn marketplace-cat-btn" data-category="electronics" onclick="filterMarketplaceByCategory('electronics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/marketplace/electronics.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</div>
                            <div class="tour-count" id="marketplace-electronics-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="clothing" onclick="filterMarketplaceByCategory('clothing')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/marketplace/clothes.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–û–¥–µ–∂–¥–∞</div>
                            <div class="tour-count" id="marketplace-clothing-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="furniture" onclick="filterMarketplaceByCategory('furniture')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/marketplace/furniture.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú–µ–±–µ–ª—å</div>
                            <div class="tour-count" id="marketplace-furniture-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="free" onclick="filterMarketplaceByCategory('free')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/marketplace/free.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞—Ä–æ–º</div>
                            <div class="tour-count" id="marketplace-free-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-marketplace'); loadMarketplaceCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="submit-btn" style="font-weight: bold; font-size: 16px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" data-i18n="add-listing" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="thailand-marketplace-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn marketplace-cat-btn" data-category="electronics" onclick="filterMarketplaceByCategory('electronics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/marketplace/electronics.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="clothing" onclick="filterMarketplaceByCategory('clothing')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/marketplace/clothes.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–û–¥–µ–∂–¥–∞</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="furniture" onclick="filterMarketplaceByCategory('furniture')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/marketplace/furniture.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú–µ–±–µ–ª—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="free" onclick="filterMarketplaceByCategory('free')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/marketplace/free.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞—Ä–æ–º</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-marketplace'); loadMarketplaceCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="submit-btn" style="font-weight: bold; font-size: 16px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" data-i18n="add-listing" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="india-marketplace-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn marketplace-cat-btn" data-category="electronics" onclick="filterMarketplaceByCategory('electronics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/categories/marketplace/electronics.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="clothing" onclick="filterMarketplaceByCategory('clothing')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/marketplace/clothing.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–û–¥–µ–∂–¥–∞</div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="furniture" onclick="filterMarketplaceByCategory('furniture')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/marketplace/furniture.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–ú–µ–±–µ–ª—å</div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="free" onclick="filterMarketplaceByCategory('free')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/marketplace/free.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–î–∞—Ä–æ–º</div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-marketplace'); loadMarketplaceCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="submit-btn" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" data-i18n="add-listing" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="indonesia-marketplace-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn marketplace-cat-btn" data-category="electronics" onclick="filterMarketplaceByCategory('electronics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/categories/marketplace/electronics.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="clothing" onclick="filterMarketplaceByCategory('clothing')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/marketplace/clothing.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–û–¥–µ–∂–¥–∞</div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="furniture" onclick="filterMarketplaceByCategory('furniture')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/marketplace/furniture.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–ú–µ–±–µ–ª—å</div>
                    </div>
                    <div class="tour-city-btn marketplace-cat-btn" data-category="free" onclick="filterMarketplaceByCategory('free')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/categories/marketplace/free.png" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.6); color: white; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">–î–∞—Ä–æ–º</div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-marketplace'); loadMarketplaceCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" data-i18n="submit-btn" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" data-i18n="add-listing" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="listing-grid" id="marketplace-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –í–∏–∑–∞—Ä–∞–Ω -->
        <div id="visas" class="content">
            <div id="vietnam-visas-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn visas-city-btn" data-city="–ö–∞–º–±–æ–¥–∂–∞" onclick="filterVisasByCity('–ö–∞–º–±–æ–¥–∂–∞')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/visas/cambodia.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º–±–æ–¥–∂–∞</div>
                            <div class="tour-count" id="visa-cambodia-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn visas-city-btn" data-city="–õ–∞–æ—Å" onclick="filterVisasByCity('–õ–∞–æ—Å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/visas/laos.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–õ–∞–æ—Å</div>
                            <div class="tour-count" id="visa-laos-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-visas'); loadVisasCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑–∞—Ä–∞–Ω</div>
                        </div>
                    </div>
                </div>
                <!-- –§–∏–ª—å—Ç—Ä—ã –≤–∏–∑–∞—Ä–∞–Ω–∞ -->
                <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px;">
                    <div style="display: flex; gap: 6px; align-items: center; flex-wrap: wrap;">
                        <span style="font-weight: 600; color: #333; white-space: nowrap;">üåç –ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ:</span>
                        <button class="visa-filter-btn visa-nationality-btn active" data-nationality="all" onclick="filterVisasByNationality('all')" style="padding: 6px 12px; border: 2px solid #d4af37; background: #d4af37; color: white; border-radius: 20px; cursor: pointer; font-size: 12px; font-weight: 600;">–í—Å–µ</button>
                        <button class="visa-filter-btn visa-nationality-btn" data-nationality="russia" onclick="filterVisasByNationality('russia')" style="padding: 6px 12px; border: 2px solid #d4af37; background: white; color: #333; border-radius: 20px; cursor: pointer; font-size: 12px;">–†–æ—Å—Å–∏—è</button>
                        <button class="visa-filter-btn visa-nationality-btn" data-nationality="kazakhstan" onclick="filterVisasByNationality('kazakhstan')" style="padding: 6px 12px; border: 2px solid #d4af37; background: white; color: #333; border-radius: 20px; cursor: pointer; font-size: 12px;">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</button>
                        <button class="visa-filter-btn visa-nationality-btn" data-nationality="belarus" onclick="filterVisasByNationality('belarus')" style="padding: 6px 12px; border: 2px solid #d4af37; background: white; color: #333; border-radius: 20px; cursor: pointer; font-size: 12px;">–ë–µ–ª–∞—Ä—É—Å—å</button>
                        <button class="visa-filter-btn visa-nationality-btn" data-nationality="ukraine" onclick="filterVisasByNationality('ukraine')" style="padding: 6px 12px; border: 2px solid #d4af37; background: white; color: #333; border-radius: 20px; cursor: pointer; font-size: 12px;">–£–∫—Ä–∞–∏–Ω–∞</button>
                    </div>
                    <div style="display: flex; gap: 6px; align-items: center; flex-wrap: wrap;">
                        <span style="font-weight: 600; color: #333; white-space: nowrap;">üìÖ –°—Ä–æ–∫:</span>
                        <button class="visa-filter-btn visa-days-btn active" data-days="all" onclick="filterVisasByDays('all')" style="padding: 6px 12px; border: 2px solid #00BCD4; background: #00BCD4; color: white; border-radius: 20px; cursor: pointer; font-size: 12px; font-weight: 600;">–í—Å–µ</button>
                        <button class="visa-filter-btn visa-days-btn" data-days="45" onclick="filterVisasByDays('45')" style="padding: 6px 12px; border: 2px solid #00BCD4; background: white; color: #333; border-radius: 20px; cursor: pointer; font-size: 12px;">45 –¥–Ω–µ–π</button>
                        <button class="visa-filter-btn visa-days-btn" data-days="90" onclick="filterVisasByDays('90')" style="padding: 6px 12px; border: 2px solid #00BCD4; background: white; color: #333; border-radius: 20px; cursor: pointer; font-size: 12px;">90 –¥–Ω–µ–π</button>
                    </div>
                </div>
            </div>
            <div id="thailand-visas-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn visas-city-btn" data-city="–ú–∞–ª–∞–π–∑–∏—è" onclick="filterVisasByCity('–ú–∞–ª–∞–π–∑–∏—è')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1596422846543-75c6fc197f07?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú–∞–ª–∞–π–∑–∏—è</div>
                        </div>
                    </div>
                    <div class="tour-city-btn visas-city-btn" data-city="–õ–∞–æ—Å" onclick="filterVisasByCity('–õ–∞–æ—Å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/visas/laos.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–õ–∞–æ—Å</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-visas'); loadVisasCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑–∞—Ä–∞–Ω</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="india-visas-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn visas-city-btn" data-city="–ù–µ–ø–∞–ª" onclick="filterVisasByCity('–ù–µ–ø–∞–ª')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù–µ–ø–∞–ª</div>
                        </div>
                    </div>
                    <div class="tour-city-btn visas-city-btn" data-city="–®—Ä–∏-–õ–∞–Ω–∫–∞" onclick="filterVisasByCity('–®—Ä–∏-–õ–∞–Ω–∫–∞')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1586016413664-864c0dd76f53?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–®—Ä–∏-–õ–∞–Ω–∫–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-visas'); loadVisasCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑–∞—Ä–∞–Ω</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="indonesia-visas-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn visas-city-btn" data-city="–°–∏–Ω–≥–∞–ø—É—Ä" onclick="filterVisasByCity('–°–∏–Ω–≥–∞–ø—É—Ä')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1525625293386-3f8f99389edd?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–°–∏–Ω–≥–∞–ø—É—Ä</div>
                        </div>
                    </div>
                    <div class="tour-city-btn visas-city-btn" data-city="–ú–∞–ª–∞–π–∑–∏—è" onclick="filterVisasByCity('–ú–∞–ª–∞–π–∑–∏—è')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1596422846543-75c6fc197f07?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú–∞–ª–∞–π–∑–∏—è</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-visas'); loadVisasCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑–∞—Ä–∞–Ω</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="listing-grid" id="visas-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ç–æ—Å–µ—Å—Å–∏—è -->
        <div id="news" class="content">
            <div id="vietnam-news-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn news-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterPhotoshootByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/photoshoot/danang.jpg?v=2" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterPhotoshootByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/photoshoot/nhatrang.jpg?v=2" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterPhotoshootByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/photoshoot/phuquoc.jpg?v=2" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-photosession'); loadPhotosessionCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="thailand-news-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn news-city-btn" data-city="–ë–∞–Ω–≥–∫–æ–∫" onclick="filterPhotoshootByCity('–ë–∞–Ω–≥–∫–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1508009603885-50cf7c579365?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ë–∞–Ω–≥–∫–æ–∫</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–ü—Ö—É–∫–µ—Ç" onclick="filterPhotoshootByCity('–ü—Ö—É–∫–µ—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1589394815804-964ed0be2eb5?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ü—Ö—É–∫–µ—Ç</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–°–∞–º—É–∏" onclick="filterPhotoshootByCity('–°–∞–º—É–∏')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1537956965359-7573183d1f57?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–°–∞–º—É–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-photosession'); loadPhotosessionCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="india-news-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn news-city-btn" data-city="–ì–æ–∞" onclick="filterPhotoshootByCity('–ì–æ–∞')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ì–æ–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–î–µ–ª–∏" onclick="filterPhotoshootByCity('–î–µ–ª–∏')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1587474260584-136574528ed5?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–µ–ª–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–ú—É–º–±–∞–∏" onclick="filterPhotoshootByCity('–ú—É–º–±–∞–∏')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1570168007204-dfb528c6958f?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú—É–º–±–∞–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-photosession'); loadPhotosessionCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="indonesia-news-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn news-city-btn" data-city="–ë–∞–ª–∏" onclick="filterPhotoshootByCity('–ë–∞–ª–∏')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ë–∞–ª–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–î–∂–∞–∫–∞—Ä—Ç–∞" onclick="filterPhotoshootByCity('–î–∂–∞–∫–∞—Ä—Ç–∞')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1555899434-94d1368aa7af?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∂–∞–∫–∞—Ä—Ç–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn news-city-btn" data-city="–£–±—É–¥" onclick="filterPhotoshootByCity('–£–±—É–¥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1558005530-a7958896ec60?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–£–±—É–¥</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-photosession'); loadPhotosessionCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="listing-grid" id="news-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏ -->
        <div id="submit-photoshoot" class="content" style="display: none;">
            <div style="max-width: 600px; margin: 0 auto; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <h2 style="margin: 0 0 20px 0; color: #333; text-align: center;">üì∏ –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é</h2>
                <form onsubmit="submitPhotoshoot(event)">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–æ—Ä–æ–¥ *</label>
                        <select id="photoshoot-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                            <option value="–î–∞–Ω–∞–Ω–≥">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="–ù—è—á–∞–Ω–≥">–ù—è—á–∞–Ω–≥</option>
                            <option value="–§—É–∫—É–æ–∫">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="photoshoot-title" required placeholder="–§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –ù—è—á–∞–Ω–≥–µ, —Å–≤–∞–¥–µ–±–Ω–∞—è —Å—ä—ë–º–∫–∞" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìÑ –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="photoshoot-description" required rows="4" maxlength="500" placeholder="–û–ø–∏—à–∏—Ç–µ —É—Å–ª—É–≥–∏, —Å—Ç–∏–ª—å —Å—ä—ë–º–∫–∏, —Ü–µ–Ω—ã..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND)</label>
                        <input type="number" id="photoshoot-price" placeholder="3000000" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì± Telegram *</label>
                        <input type="text" id="photoshoot-telegram" required placeholder="@username –∏–ª–∏ t.me/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="photoshoot-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="photoshoot-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="photoshoot-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="photoshoot-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="photoshoot-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="photoshoot-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadPhotoshootCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="photoshoot-captcha-answer">
                    </div>

                    <div id="photoshoot-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #E91E63; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ú–µ–¥–∏—Ü–∏–Ω–∞ -->
        <div id="medicine" class="content">
            <div id="vietnam-medicine-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn medicine-type-btn" data-type="questions" onclick="filterMedicineByType('questions')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/medicine/questions.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">‚ùì –í–æ–ø—Ä–æ—Å—ã</div>
                            <div class="tour-count" style="font-size: 12px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="clinics" onclick="filterMedicineByType('clinics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/clinics.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üè• –ö–ª–∏–Ω–∏–∫–∏</div>
                            <div class="tour-count" style="font-size: 12px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="directions" onclick="filterMedicineByType('directions')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/directions.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üî¨ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                            <div class="tour-count" style="font-size: 12px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="insurance" onclick="filterMedicineByType('insurance')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/insurance.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</div>
                            <div class="tour-count" style="font-size: 12px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-medicine'); loadMedicineCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="thailand-medicine-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn medicine-type-btn" data-type="questions" onclick="filterMedicineByType('questions')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/medicine/questions.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">‚ùì –í–æ–ø—Ä–æ—Å—ã</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="clinics" onclick="filterMedicineByType('clinics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/clinics.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üè• –ö–ª–∏–Ω–∏–∫–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="doctors" onclick="filterMedicineByType('doctors')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üë®‚Äç‚öïÔ∏è –í—Ä–∞—á–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="insurance" onclick="filterMedicineByType('insurance')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/insurance.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-medicine'); loadMedicineCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="india-medicine-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn medicine-type-btn" data-type="questions" onclick="filterMedicineByType('questions')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/medicine/questions.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">‚ùì –í–æ–ø—Ä–æ—Å—ã</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="clinics" onclick="filterMedicineByType('clinics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/clinics.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üè• –ö–ª–∏–Ω–∏–∫–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="doctors" onclick="filterMedicineByType('doctors')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üë®‚Äç‚öïÔ∏è –í—Ä–∞—á–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="insurance" onclick="filterMedicineByType('insurance')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/insurance.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-medicine'); loadMedicineCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="indonesia-medicine-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn medicine-type-btn" data-type="questions" onclick="filterMedicineByType('questions')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/medicine/questions.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">‚ùì –í–æ–ø—Ä–æ—Å—ã</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="clinics" onclick="filterMedicineByType('clinics')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/clinics.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üè• –ö–ª–∏–Ω–∏–∫–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="doctors" onclick="filterMedicineByType('doctors')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=200&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üë®‚Äç‚öïÔ∏è –í—Ä–∞—á–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn medicine-type-btn" data-type="insurance" onclick="filterMedicineByType('insurance')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/medicine/insurance.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 14px;">üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn submit-btn" onclick="switchTab('submit-medicine'); loadMedicineCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="listing-grid" id="medicine-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –ß–∞—Ç -->
        <div id="chat" class="content">
            <div style="max-width: 900px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; padding: 20px; margin-bottom: 15px; color: white;">
                    <h3 style="margin: 0 0 8px 0; font-size: 20px;">üí¨ –ß–∞—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ GoldAntelope</h3>
                    <p style="margin: 0; opacity: 0.9; font-size: 13px;">–û–±—â–∞–π—Ç–µ—Å—å —Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º –ê–∑–∏–∏. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram.</p>
                </div>
                
                <!-- –û–∫–Ω–æ —á–∞—Ç–∞ (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–æ) -->
                <div style="background: white; border-radius: 12px; border: 1px solid #ddd; overflow: hidden;">
                    <div style="background: #f8f9fa; padding: 12px 15px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
                        <div id="chat-user-info">
                            <span style="color: #999; font-size: 13px;">–ß–∏—Ç–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram.</span>
                        </div>
                        <div id="chat-logout-btn" style="display: none;">
                            <span style="color: #333; font-weight: 600;">üë§ </span>
                            <span id="chat-username" style="color: #667eea; font-weight: 600;"></span>
                            <button onclick="logoutChat()" style="padding: 4px 10px; background: #dc3545; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer; margin-left: 10px;">–í—ã–π—Ç–∏</button>
                        </div>
                    </div>
                    <div id="chat-messages" style="height: 600px; overflow-y: auto; padding: 10px; background: #fafafa;">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π -->
                    <div id="chat-send-form" style="padding: 12px; border-top: 1px solid #eee; background: white;">
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <input type="text" id="chat-username-input" placeholder="–í–∞—à –Ω–∏–∫" style="width: 120px; padding: 12px; border: 2px solid #667eea; border-radius: 8px; font-size: 14px;">
                            <input type="text" id="chat-message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1; min-width: 150px; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px;" onkeypress="if(event.key==='Enter')sendChatMessage()">
                            <button onclick="sendChatMessage()" style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –î–ª—è –¥–µ—Ç–µ–π -->
        <div id="settings" class="content">
            <div style="padding: 20px;">
                <!-- –ö–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫–∞–∫ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="kids-category-btn" data-type="events" onclick="filterKidsCategory('events')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/kids/events.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 10px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 13px;">üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</div>
                            <div class="tour-count" id="kids-events-count" style="font-size: 10px; margin-top: 3px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="kids-category-btn" data-type="nannies" onclick="filterKidsCategory('nannies')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/kids/nannies.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 10px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 13px;">üë©‚Äçüëß –ù—è–Ω–∏</div>
                            <div class="tour-count" id="kids-nannies-count" style="font-size: 10px; margin-top: 3px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="kids-category-btn" data-type="schools" onclick="filterKidsCategory('schools')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/kids/schools.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 10px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 13px;">üè´ –®–∫–æ–ª—ã</div>
                            <div class="tour-count" id="kids-schools-count" style="font-size: 10px; margin-top: 3px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="kids-category-btn" data-type="products" onclick="filterKidsCategory('products')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/kids/products.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 10px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 13px;">üß∏ –î–µ—Ç—Å–∫–∏–µ —Å–∞–¥—ã</div>
                            <div class="tour-count" id="kids-products-count" style="font-size: 10px; margin-top: 3px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-children'); loadChildrenCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 10px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 13px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 10px; margin-top: 3px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É</div>
                        </div>
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥—É -->
                <div style="margin-bottom: 15px;">
                    <div style="font-weight: 600; color: #333; margin-bottom: 8px; font-size: 14px;">üèôÔ∏è –ì–æ—Ä–æ–¥:</div>
                    <div id="kids-city-filter" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É -->
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 600; color: #333; margin-bottom: 8px; font-size: 14px;">üë∂ –í–æ–∑—Ä–∞—Å—Ç:</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <button class="kids-age-btn" data-age="" onclick="filterKidsAge('')" style="padding: 8px 16px; border: 2px solid #9C27B0; background: #9C27B0; color: white; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">–í—Å–µ</button>
                        <button class="kids-age-btn" data-age="5" onclick="filterKidsAge('5')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–¥–æ 5 –ª–µ—Ç</button>
                        <button class="kids-age-btn" data-age="9" onclick="filterKidsAge('9')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–¥–æ 9 –ª–µ—Ç</button>
                        <button class="kids-age-btn" data-age="15" onclick="filterKidsAge('15')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–¥–æ 15 –ª–µ—Ç</button>
                    </div>
                </div>

                <div id="kids-feed">
                    <div class="loading"><div class="spinner"></div></div>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –¥–ª—è –¥–µ—Ç–µ–π -->
        <div id="submit-kids" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #FF9800 0%, #FFB74D 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 id="kids-form-title" style="margin: 0 0 10px 0; font-size: 22px;">üë∂ –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–π</h2>
                    <p style="margin: 0; opacity: 0.9;">–°–∞–¥–∏–∫–∏, —à–∫–æ–ª—ã, –Ω—è–Ω–∏, –∫—Ä—É–∂–∫–∏, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-kids-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë∂ –ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="kids-type" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="schools">üè´ –°–∞–¥–∏–∫–∏ –∏ —à–∫–æ–ª—ã</option>
                            <option value="events">üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</option>
                            <option value="nannies">üë©‚Äçüëß –ù—è–Ω–∏ –∏ –∫—Ä—É–∂–∫–∏</option>
                            <option value="products">üß∏ –î–µ—Ç—Å–∫–∏–µ —Å–∞–¥—ã</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="kids-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–µ—Ç—Å–∫–∏–π —Å–∞–¥ '–°–æ–ª–Ω—ã—à–∫–æ'" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="kids-description" required rows="3" maxlength="500" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                        <select id="kids-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë∂ –í–æ–∑—Ä–∞—Å—Ç</label>
                        <input type="text" id="kids-age" placeholder="0-3, 3-6, 7-12..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="kids-location" placeholder="–†–∞–π–æ–Ω, —É–ª–∏—Ü–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4285F4;">üó∫Ô∏è –°—Å—ã–ª–∫–∞ –Ω–∞ Google Maps</label>
                        <input type="url" id="kids-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <p style="margin: 5px 0 0 0; font-size: 12px; color: #666;">–û—Ç–∫—Ä–æ–π—Ç–µ –º–µ—Å—Ç–æ –≤ Google Maps ‚Üí –ü–æ–¥–µ–ª–∏—Ç—å—Å—è ‚Üí –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</p>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="kids-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="kids-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="kids-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="kids-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="kids-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="kids-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="kids-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>Ch∆∞a ch·ªçn t·ªáp</span></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="kids-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="kids-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadKidsCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="kids-captcha-token">
                    </div>

                    <div id="kids-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è -->
        <div id="move-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 400px; width: 90%;">
                <h3 style="margin: 0 0 15px 0; color: #333;">–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
                <p style="margin: 0 0 10px 0; color: #666; font-size: 13px;" id="move-modal-id"></p>
                <label style="font-size: 12px; color: #666; font-weight: 600; display: block; margin-bottom: 5px;">–í—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</label>
                <select id="move-modal-category" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; margin-bottom: 15px;">
                    <option value="restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                    <option value="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                    <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                    <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                    <option value="money_exchange">–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                    <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                    <option value="marketplace">–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                    <option value="visas">–í–∏–∑–∞—Ä–∞–Ω</option>
                    <option value="news">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                    <option value="medicine">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                    <option value="kids">–î–ª—è –¥–µ—Ç–µ–π</option>
                    <option value="chat">–ß–∞—Ç</option>
                </select>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmMoveFromCard()" style="flex: 1; padding: 10px; background: #0088cc; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å</button>
                    <button onclick="document.getElementById('move-modal').style.display = 'none';" style="flex: 1; padding: 10px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è -->
        <div id="delete-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 400px; width: 90%;">
                <h3 style="margin: 0 0 15px 0; color: #ff6b6b;">‚ö†Ô∏è –£–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ?</h3>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="delete-modal-id"></p>
                <p style="margin: 0 0 15px 0; color: #999; font-size: 12px;">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!</p>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmDeleteFromCard()" style="flex: 1; padding: 10px; background: #ff6b6b; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–£–¥–∞–ª–∏—Ç—å</button>
                    <button onclick="document.getElementById('delete-modal').style.display = 'none';" style="flex: 1; padding: 10px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–î–ª—è –¥–µ—Ç–µ–π" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="kids-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #E91E63;">üë∂ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–î–µ—Ç–∏"</h3>
                    <button onclick="closeKidsEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="kids-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë∂ –ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                    <select id="kids-edit-category" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="events">üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</option>
                        <option value="nannies">üë©‚Äçüëß –ù—è–Ω–∏</option>
                        <option value="schools">üè´ –®–∫–æ–ª—ã</option>
                        <option value="products">üß∏ –î–µ—Ç—Å–∫–∏–µ —Å–∞–¥—ã</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="kids-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–µ—Ç—Å–∫–∏–π —Å–∞–¥, –Ω—è–Ω—è, –∫—Ä—É–∂–æ–∫..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                        <select id="kids-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë∂ –í–æ–∑—Ä–∞—Å—Ç –¥–µ—Ç–µ–π *</label>
                        <select id="kids-edit-age" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="0-3">0-3 –≥–æ–¥–∞</option>
                            <option value="3-6">3-6 –ª–µ—Ç</option>
                            <option value="6-12">6-12 –ª–µ—Ç</option>
                            <option value="12+">12+ –ª–µ—Ç</option>
                            <option value="–≤—Å–µ –≤–æ–∑—Ä–∞—Å—Ç—ã">–í—Å–µ –≤–æ–∑—Ä–∞—Å—Ç—ã</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="kids-edit-desc" rows="4" maxlength="500" placeholder="–í–æ–∑—Ä–∞—Å—Ç –¥–µ—Ç–µ–π, —É—Å–ª—É–≥–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞</label>
                    <input type="text" id="kids-edit-price" placeholder="–û—Ç 500,000 VND/–º–µ—Å—è—Ü" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="kids-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="kids-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="kids-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="kids-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="kids-edit-photo-0" accept="image/*" onchange="previewKidsEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="kids-edit-photo-1" accept="image/*" onchange="previewKidsEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="kids-edit-photo-2" accept="image/*" onchange="previewKidsEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="kids-edit-photo-3" accept="image/*" onchange="previewKidsEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="kids-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveKidsPhotoEdit()" style="flex: 1; padding: 12px; background: #E91E63; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeKidsEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–û–±–º–µ–Ω –¥–µ–Ω–µ–≥" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="exchange-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #FF9800;">üíµ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–û–±–º–µ–Ω –¥–µ–Ω–µ–≥"</h3>
                    <button onclick="closeExchangeEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="exchange-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="exchange-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û–±–º–µ–Ω –≤–∞–ª—é—Ç, –ø–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                        <select id="exchange-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üíµ –í–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã</label>
                        <input type="text" id="exchange-edit-pairs" placeholder="USD/VND, RUB/VND..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="exchange-edit-desc" rows="4" maxlength="500" placeholder="–£—Å–ª–æ–≤–∏—è –æ–±–º–µ–Ω–∞, –∫—É—Ä—Å—ã, –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ê–¥—Ä–µ—Å</label>
                    <input type="text" id="exchange-edit-address" placeholder="–£–ª–∏—Ü–∞, –Ω–æ–º–µ—Ä –¥–æ–º–∞, —Ä–∞–π–æ–Ω" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="exchange-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="exchange-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="exchange-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="exchange-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="exchange-edit-photo-0" accept="image/*" onchange="previewExchangeEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="exchange-edit-photo-1" accept="image/*" onchange="previewExchangeEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="exchange-edit-photo-2" accept="image/*" onchange="previewExchangeEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="exchange-edit-photo-3" accept="image/*" onchange="previewExchangeEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="exchange-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveExchangePhotoEdit()" style="flex: 1; padding: 12px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeExchangeEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–ë–∞—Ä–∞—Ö–æ–ª–∫–∞" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="marketplace-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #795548;">üõçÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–ë–∞—Ä–∞—Ö–æ–ª–∫–∞"</h3>
                    <button onclick="closeMarketplaceEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="marketplace-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="marketplace-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: iPhone 13, –¥–∏–≤–∞–Ω, –≤–µ–ª–æ—Å–∏–ø–µ–¥..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì¶ –ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                    <select id="marketplace-edit-category" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="electronics">üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                        <option value="clothing">üëó –û–¥–µ–∂–¥–∞ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã</option>
                        <option value="furniture">üõãÔ∏è –ú–µ–±–µ–ª—å –∏ –¥–æ–º</option>
                        <option value="free">üéÅ –û—Ç–¥–∞–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                    <select id="marketplace-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                        <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                        <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                        <option value="Hanoi">–•–∞–Ω–æ–π</option>
                        <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="marketplace-edit-desc" rows="3" maxlength="500" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä—ã, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND)</label>
                    <input type="number" id="marketplace-edit-price" placeholder="0 = –±–µ—Å–ø–ª–∞—Ç–Ω–æ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="marketplace-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="marketplace-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="marketplace-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="marketplace-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="marketplace-edit-photo-0" accept="image/*" onchange="previewMarketplaceEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="marketplace-edit-photo-1" accept="image/*" onchange="previewMarketplaceEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="marketplace-edit-photo-2" accept="image/*" onchange="previewMarketplaceEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="marketplace-edit-photo-3" accept="image/*" onchange="previewMarketplaceEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="marketplace-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveMarketplacePhotoEdit()" style="flex: 1; padding: 12px; background: #795548; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeMarketplaceEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–í–∏–∑–∞—Ä–∞–Ω" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="visas-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #00BCD4;">üèñÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–í–∏–∑–∞—Ä–∞–Ω"</h3>
                    <button onclick="closeVisasEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="visas-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="visas-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–∏–∑–∞—Ä–∞–Ω –≤ –ö–∞–º–±–æ–¥–∂—É..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è *</label>
                        <select id="visas-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">‚úàÔ∏è –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ *</label>
                        <input type="text" id="visas-edit-destination" placeholder="–ö–∞–º–±–æ–¥–∂–∞, –¢–∞–∏–ª–∞–Ω–¥..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="visas-edit-desc" rows="4" maxlength="500" placeholder="–ú–∞—Ä—à—Ä—É—Ç, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü™™ –ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ *</label>
                        <select id="visas-edit-citizenship" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="–†–æ—Å—Å–∏–π—Å–∫–æ–µ">–†–æ—Å—Å–∏–π—Å–∫–æ–µ</option>
                            <option value="–ö–∞–∑–∞—Ö—Å–∫–æ–µ">–ö–∞–∑–∞—Ö—Å–∫–æ–µ</option>
                            <option value="–ë–µ–ª–æ—Ä—É—Å—Å–∫–æ–µ">–ë–µ–ª–æ—Ä—É—Å—Å–∫–æ–µ</option>
                            <option value="–£–∫—Ä–∞–∏–Ω—Å–∫–æ–µ">–£–∫—Ä–∞–∏–Ω—Å–∫–æ–µ</option>
                            <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ ($)</label>
                        <input type="number" id="visas-edit-price" placeholder="150" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="visas-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="visas-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="visas-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="visas-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="visas-edit-photo-0" accept="image/*" onchange="previewVisasEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="visas-edit-photo-1" accept="image/*" onchange="previewVisasEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="visas-edit-photo-2" accept="image/*" onchange="previewVisasEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="visas-edit-photo-3" accept="image/*" onchange="previewVisasEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="visas-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveVisasPhotoEdit()" style="flex: 1; padding: 12px; background: #00BCD4; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeVisasEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–§–æ—Ç–æ—Å–µ—Å—Å–∏—è" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="photosession-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #673AB7;">üì∏ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–§–æ—Ç–æ—Å–µ—Å—Å–∏—è"</h3>
                    <button onclick="closePhotosessionEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="photosession-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="photosession-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–≤–∞–¥–µ–±–Ω–∞—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—è, –ø–æ—Ä—Ç—Ä–µ—Ç..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –¢–∏–ø —Å—ä—ë–º–∫–∏</label>
                    <select id="photosession-edit-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="–ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è">üë§ –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è</option>
                        <option value="–°–≤–∞–¥–µ–±–Ω–∞—è">üíí –°–≤–∞–¥–µ–±–Ω–∞—è</option>
                        <option value="–°–µ–º–µ–π–Ω–∞—è">üë®‚Äçüë©‚Äçüëß –°–µ–º–µ–π–Ω–∞—è</option>
                        <option value="–ö–æ–Ω—Ç–µ–Ω—Ç">üì± –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π</option>
                        <option value="–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è">üè¢ –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                    <select id="photosession-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="–ù—è—á–∞–Ω–≥">–ù—è—á–∞–Ω–≥</option>
                        <option value="–•–æ—à–∏–º–∏–Ω">–•–æ—à–∏–º–∏–Ω</option>
                        <option value="–î–∞–Ω–∞–Ω–≥">–î–∞–Ω–∞–Ω–≥</option>
                        <option value="–•–∞–Ω–æ–π">–•–∞–Ω–æ–π</option>
                        <option value="–§—É–∫—É–æ–∫">–§—É–∫—É–æ–∫</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="photosession-edit-desc" rows="4" maxlength="500" placeholder="–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —É—Å–ª—É–≥—É, —Å—Ç–∏–ª—å, –æ–ø—ã—Ç..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (USD)</label>
                    <input type="number" id="photosession-edit-price" placeholder="100" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="photosession-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="photosession-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="photosession-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç (–¥–æ 4 —à—Ç)</label>
                    <div id="photosession-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="photosession-edit-photo-0" accept="image/*" onchange="previewPhotosessionEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="photosession-edit-photo-1" accept="image/*" onchange="previewPhotosessionEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="photosession-edit-photo-2" accept="image/*" onchange="previewPhotosessionEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="photosession-edit-photo-3" accept="image/*" onchange="previewPhotosessionEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="photosession-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="savePhotosessionPhotoEdit()" style="flex: 1; padding: 12px; background: #673AB7; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closePhotosessionEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–ú–µ–¥–∏—Ü–∏–Ω–∞" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="medicine-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #F44336;">üè• –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–ú–µ–¥–∏—Ü–∏–Ω–∞"</h3>
                    <button onclick="closeMedicineEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="medicine-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="medicine-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°—Ç–æ–º–∞—Ç–æ–ª–æ–≥, –º–∞—Å—Å–∞–∂, –∫–ª–∏–Ω–∏–∫–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè• –ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                    <select id="medicine-edit-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="questions">‚ùì –í–æ–ø—Ä–æ—Å—ã</option>
                        <option value="clinics">üè• –ö–ª–∏–Ω–∏–∫–∏</option>
                        <option value="doctors">üë®‚Äç‚öïÔ∏è –í—Ä–∞—á–∏</option>
                        <option value="insurance">üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</option>
                        <option value="directions">üìç –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                    <select id="medicine-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                        <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                        <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                        <option value="Hanoi">–•–∞–Ω–æ–π</option>
                        <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="medicine-edit-desc" rows="4" maxlength="500" placeholder="–£—Å–ª—É–≥–∏, –æ–ø—ã—Ç, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞</label>
                    <input type="text" id="medicine-edit-price" placeholder="–û—Ç 500,000 VND" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="medicine-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="medicine-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="medicine-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="medicine-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="medicine-edit-photo-0" accept="image/*" onchange="previewMedicineEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="medicine-edit-photo-1" accept="image/*" onchange="previewMedicineEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="medicine-edit-photo-2" accept="image/*" onchange="previewMedicineEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="medicine-edit-photo-3" accept="image/*" onchange="previewMedicineEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="medicine-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveMedicinePhotoEdit()" style="flex: 1; padding: 12px; background: #F44336; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeMedicineEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–¢—É—Ä—ã" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="tour-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #FF5722;">üß≥ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–¢—É—Ä—ã"</h3>
                    <button onclick="closeTourEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="tour-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="tour-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–∞–ª–∞—Ç –∑–∞ 2 –¥–Ω—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="tour-edit-desc" rows="4" maxlength="500" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏, –º–∞—Ä—à—Ä—É—Ç, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π</label>
                        <select id="tour-edit-days" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="1">1 –¥–µ–Ω—å</option>
                            <option value="2">2 –¥–Ω—è</option>
                            <option value="3">3 –¥–Ω—è</option>
                            <option value="4">4 –¥–Ω—è</option>
                            <option value="5">5 –¥–Ω–µ–π</option>
                            <option value="7">7 –¥–Ω–µ–π</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ ($)</label>
                        <input type="number" id="tour-edit-price" placeholder="55" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="tour-edit-location" placeholder="–í—ã–µ–∑–¥ –∏–∑ –ù—è—á–∞–Ω–≥–∞" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                        <select id="tour-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                            <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                            <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="tour-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="tour-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="tour-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="tour-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="tour-edit-photo-0" accept="image/*" onchange="previewTourEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="tour-edit-photo-1" accept="image/*" onchange="previewTourEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="tour-edit-photo-2" accept="image/*" onchange="previewTourEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="tour-edit-photo-3" accept="image/*" onchange="previewTourEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="tour-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveTourPhotoEdit()" style="flex: 1; padding: 12px; background: #FF5722; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeTourEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="transport-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #2196F3;">üèçÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç"</h3>
                    <button onclick="closeTransportEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="transport-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ/–ú–æ–¥–µ–ª—å *</label>
                    <input type="text" id="transport-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Honda Air Blade 125cc" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="transport-edit-desc" rows="4" maxlength="500" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–æ–±–µ–≥, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üîß –û–±—ä—ë–º –¥–≤–∏–≥–∞—Ç–µ–ª—è (—Å—Å)</label>
                        <input type="number" id="transport-edit-engine" placeholder="125" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìÖ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</label>
                        <input type="number" id="transport-edit-year" placeholder="2022" min="1990" max="2026" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND) *</label>
                        <input type="number" id="transport-edit-price" placeholder="900000000" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø</label>
                        <select id="transport-edit-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="bikes">üèçÔ∏è –ë–∞–π–∫</option>
                            <option value="cars">üöó –ê–≤—Ç–æ</option>
                            <option value="yachts">‚õµ –Ø—Ö—Ç–∞</option>
                            <option value="bicycles">üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥</option>
                        </select>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="transport-edit-location" placeholder="–ù—è—á–∞–Ω–≥, —Ü–µ–Ω—Ç—Ä" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                        <select id="transport-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="transport-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="transport-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="transport-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="transport-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="transport-edit-photo-0" accept="image/*" onchange="previewTransportEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="transport-edit-photo-1" accept="image/*" onchange="previewTransportEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="transport-edit-photo-2" accept="image/*" onchange="previewTransportEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="transport-edit-photo-3" accept="image/*" onchange="previewTransportEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="transport-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveTransportPhotoEdit()" style="flex: 1; padding: 12px; background: #2196F3; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeTransportEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–†–µ—Å—Ç–æ—Ä–∞–Ω—ã" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="restaurant-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #FF5722;">üçΩÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–†–µ—Å—Ç–æ—Ä–∞–Ω—ã"</h3>
                    <button onclick="closeRestaurantEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="restaurant-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="restaurant-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ñ–µ –í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è –∫—É—Ö–Ω—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è *</label>
                    <select id="restaurant-edit-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="—Ä–µ—Å—Ç–æ—Ä–∞–Ω">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω</option>
                        <option value="–∫–∞—Ñ–µ">‚òï –ö–∞—Ñ–µ</option>
                        <option value="–±–∞—Ä">üç∏ –ë–∞—Ä</option>
                        <option value="–Ω–æ—á–Ω–æ–π –∫–ª—É–±">üéµ –ù–æ—á–Ω–æ–π –∫–ª—É–±</option>
                        <option value="—Ä—É—Å—Å–∫–∞—è –µ–¥–∞">ü•ü –†—É—Å—Å–∫–∞—è –µ–¥–∞</option>
                        <option value="–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã">ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="restaurant-edit-desc" rows="4" maxlength="500" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è, –º–µ–Ω—é, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üç≥ –ö—É—Ö–Ω—è</label>
                        <input type="text" id="restaurant-edit-kitchen" placeholder="–í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è, –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="restaurant-edit-location" placeholder="–¶–µ–Ω—Ç—Ä, –ø–ª—è–∂, —Ä–∞–π–æ–Ω..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                    <select id="restaurant-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                        <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                        <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                        <option value="Hanoi">–•–∞–Ω–æ–π</option>
                        <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                    </select>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4285F4;">üó∫Ô∏è Google Maps</label>
                        <input type="url" id="restaurant-edit-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #FFC107;">‚≠ê –†–µ–π—Ç–∏–Ω–≥ Google</label>
                        <input type="text" id="restaurant-edit-google-rating" placeholder="4.5" style="width: 100%; padding: 12px; border: 1px solid #FFC107; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="restaurant-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="restaurant-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="restaurant-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="restaurant-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="restaurant-edit-photo-0" accept="image/*" onchange="previewRestaurantEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="restaurant-edit-photo-1" accept="image/*" onchange="previewRestaurantEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="restaurant-edit-photo-2" accept="image/*" onchange="previewRestaurantEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="restaurant-edit-photo-3" accept="image/*" onchange="previewRestaurantEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="restaurant-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveRestaurantPhotoEdit()" style="flex: 1; padding: 12px; background: #FF5722; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeRestaurantEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å" —Å 4 —Ñ–æ—Ç–æ -->
        <div id="realestate-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1001; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 600px; width: 90%; margin: 20px auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #9C27B0;">üè† –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"</h3>
                    <button onclick="closeRealestateEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                </div>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="realestate-edit-id"></p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="realestate-edit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 2 –∫–æ–º–Ω–∞—Ç—ã —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ *</label>
                    <select id="realestate-edit-property-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <option value="apartment">üè¢ –ö–≤–∞—Ä—Ç–∏—Ä–∞</option>
                        <option value="house">üè† –î–æ–º</option>
                        <option value="villa">üè° –í–∏–ª–ª–∞</option>
                        <option value="land">üå≥ –£—á–∞—Å—Ç–æ–∫</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìù –û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="realestate-edit-desc" rows="4" maxlength="500" placeholder="–ü–ª–æ—â–∞–¥—å, —É–¥–æ–±—Å—Ç–≤–∞, —Ä–∞–π–æ–Ω, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üõèÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç</label>
                        <select id="realestate-edit-rooms" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="studio">–°—Ç—É–¥–∏—è</option>
                            <option value="1">1 –∫–æ–º–Ω–∞—Ç–∞</option>
                            <option value="2">2 –∫–æ–º–Ω–∞—Ç—ã</option>
                            <option value="3">3 –∫–æ–º–Ω–∞—Ç—ã</option>
                            <option value="4+">4+ –∫–æ–º–Ω–∞—Ç</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìê –ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
                        <input type="number" id="realestate-edit-area" placeholder="50" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND) *</label>
                        <input type="number" id="realestate-edit-price" placeholder="5000000000" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø —Å–¥–µ–ª–∫–∏</label>
                        <select id="realestate-edit-listing-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="sale">–ü—Ä–æ–¥–∞–∂–∞</option>
                            <option value="rent">–ê—Ä–µ–Ω–¥–∞</option>
                            <option value="sale,rent">–ü—Ä–æ–¥–∞–∂–∞ –∏ –∞—Ä–µ–Ω–¥–∞</option>
                        </select>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="realestate-edit-location" placeholder="–¶–µ–Ω—Ç—Ä, –ø–ª—è–∂, —Ä–∞–π–æ–Ω..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                        <select id="realestate-edit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                    <input type="text" id="realestate-edit-contact" placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                        <input type="text" id="realestate-edit-whatsapp" placeholder="+84..." style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                        <input type="text" id="realestate-edit-telegram" placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                    <div id="realestate-edit-photos-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 10px;"></div>
                    <div class="photo-upload-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="realestate-edit-photo-0" accept="image/*" onchange="previewRealestateEditPhoto(0)"><span class="file-placeholder">–§–æ—Ç–æ 1</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="realestate-edit-photo-1" accept="image/*" onchange="previewRealestateEditPhoto(1)"><span class="file-placeholder">–§–æ—Ç–æ 2</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="realestate-edit-photo-2" accept="image/*" onchange="previewRealestateEditPhoto(2)"><span class="file-placeholder">–§–æ—Ç–æ 3</span></div>
                        <div class="photo-upload-wrapper" style="position: relative;"><input type="file" id="realestate-edit-photo-3" accept="image/*" onchange="previewRealestateEditPhoto(3)"><span class="file-placeholder">–§–æ—Ç–æ 4</span></div>
                    </div>
                </div>
                
                <div id="realestate-edit-status" style="display: none; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 13px; font-weight: 600;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveRealestatePhotoEdit()" style="flex: 1; padding: 12px; background: #9C27B0; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="closeRealestateEditModal()" style="flex: 1; padding: 12px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
        
        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞ -->
        <div id="city-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 450px; width: 90%;">
                <h3 style="margin: 0 0 15px 0; color: #1565c0;">üèôÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–æ–¥</h3>
                <input type="hidden" id="city-edit-section">
                <input type="hidden" id="city-edit-index">
                <input type="hidden" id="city-edit-old-name">
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; font-size: 13px; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:</label>
                    <input type="text" id="city-edit-name" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; font-size: 13px; color: #333;">–§–æ—Ç–æ –≥–æ—Ä–æ–¥–∞:</label>
                    <img id="city-edit-preview" src="" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; display: none;">
                    <input type="file" id="city-edit-photo" accept="image/*" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; font-size: 13px; color: #333;">–ü–æ–∑–∏—Ü–∏—è:</label>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="moveCityPosition(-1)" style="flex: 1; padding: 10px; background: #e3f2fd; color: #1565c0; border: 1px solid #90caf9; border-radius: 6px; cursor: pointer; font-weight: 600;">‚¨ÜÔ∏è –í—ã—à–µ</button>
                        <button onclick="moveCityPosition(1)" style="flex: 1; padding: 10px; background: #e3f2fd; color: #1565c0; border: 1px solid #90caf9; border-radius: 6px; cursor: pointer; font-weight: 600;">‚¨áÔ∏è –ù–∏–∂–µ</button>
                    </div>
                </div>
                
                <div id="city-edit-status" style="font-size: 13px; margin-bottom: 15px;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveCityChanges()" style="flex: 1; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="deleteCityFromModal()" style="padding: 12px 20px; background: #ff6b6b; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üóëÔ∏è</button>
                    <button onclick="closeCityEditModal()" style="padding: 12px 20px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 500px; width: 90%; margin: 20px auto;">
                <h3 style="margin: 0 0 15px 0; color: #4CAF50;">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="edit-modal-id"></p>
                
                <div style="margin-bottom: 12px;">
                    <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                    <input type="text" id="edit-title" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 12px;">
                    <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="edit-description" rows="5" maxlength="500" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div id="edit-realestate-fields">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–¶–µ–Ω–∞:</label>
                            <input type="number" id="edit-price" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–ö–æ–º–Ω–∞—Ç:</label>
                            <input type="text" id="edit-rooms" placeholder="1, 2, Studio" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–ü–ª–æ—â–∞–¥—å (–º¬≤):</label>
                            <input type="number" id="edit-area" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üè∑Ô∏è –¢–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è:</label>
                        <div style="display: flex; gap: 15px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="edit-type-sale" value="sale"> –ü—Ä–æ–¥–∞–∂–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="edit-type-rent" value="rent"> –ê—Ä–µ–Ω–¥–∞
                            </label>
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üìÖ –î–∞—Ç–∞:</label>
                        <input type="date" id="edit-date" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:</label>
                        <input type="text" id="edit-contact-name" placeholder="–ò–º—è" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #25D366;">üí¨ WhatsApp:</label>
                        <input type="text" id="edit-whatsapp" placeholder="8499999999" style="width: 100%; padding: 10px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #0088cc;">‚úàÔ∏è Telegram:</label>
                        <input type="text" id="edit-telegram" placeholder="@username" style="width: 100%; padding: 10px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-restaurant-fields" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥:</label>
                            <select id="edit-city" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                                <option value="Hoi An">–•–æ–π–∞–Ω</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üç≥ –ö—É—Ö–Ω—è:</label>
                            <input type="text" id="edit-kitchen" placeholder="–í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è, –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üè∑Ô∏è –¢–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è:</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #FF5722; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="—Ä–µ—Å—Ç–æ—Ä–∞–Ω"> üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #795548; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–∫–∞—Ñ–µ"> ‚òï –ö–∞—Ñ–µ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #9C27B0; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–±–∞—Ä"> üç∏ –ë–∞—Ä
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #E91E63; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–Ω–æ—á–Ω–æ–π –∫–ª—É–±"> üéµ –ù–æ—á–Ω–æ–π –∫–ª—É–±
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #F44336; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="—Ä—É—Å—Å–∫–∞—è –µ–¥–∞"> ü•ü –†—É—Å—Å–∫–∞—è –µ–¥–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #00BCD4; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã"> ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
                            </label>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üí∞ –¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <div style="display: flex; gap: 15px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="edit-price-category" value="cheap"> üíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="edit-price-category" value="normal"> üíµüíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="edit-price-category" value="expensive"> üíµüíµüíµ
                            </label>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #4285F4;">üó∫Ô∏è Google Maps:</label>
                        <input type="url" id="edit-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 10px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #FFC107;">‚≠ê –†–µ–π—Ç–∏–Ω–≥ Google:</label>
                        <input type="text" id="edit-google-rating" placeholder="4.5" style="width: 100%; padding: 10px; border: 1px solid #FFC107; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-exchange-fields" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥:</label>
                            <select id="edit-exchange-city" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                                <option value="Hoi An">–•–æ–π–∞–Ω</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üí± –í–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã:</label>
                            <input type="text" id="edit-currency-pairs" placeholder="USD/VND, RUB/VND..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                </div>
                
                <div id="edit-marketplace-fields" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üì¶ –ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                            <select id="edit-marketplace-category" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="electronics">üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                                <option value="clothing">üëó –û–¥–µ–∂–¥–∞</option>
                                <option value="furniture">üõãÔ∏è –ú–µ–±–µ–ª—å</option>
                                <option value="sports">‚öΩ –°–ø–æ—Ä—Ç</option>
                                <option value="kids">üß∏ –î–µ—Ç—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã</option>
                                <option value="beauty">üíÑ –ö—Ä–∞—Å–æ—Ç–∞</option>
                                <option value="other">üì¶ –î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥:</label>
                            <select id="edit-marketplace-city" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üí∞ –¶–µ–Ω–∞:</label>
                        <input type="text" id="edit-marketplace-price" placeholder="1,000,000 VND" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-visas-fields" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üõÇ –¢–∏–ø —É—Å–ª—É–≥–∏:</label>
                            <select id="edit-visas-service" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="visarun">üöå –í–∏–∑–∞—Ä–∞–Ω</option>
                                <option value="extension">üìã –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –≤–∏–∑—ã</option>
                                <option value="workpermit">üíº –†–∞–±–æ—á–∞—è –≤–∏–∑–∞</option>
                                <option value="residence">üè† –í–ù–ñ</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥:</label>
                            <select id="edit-visas-city" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üí∞ –¶–µ–Ω–∞:</label>
                        <input type="text" id="edit-visas-price" placeholder="100 USD" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-photosession-fields" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üì∑ –¢–∏–ø —Å—ä—ë–º–∫–∏:</label>
                            <select id="edit-photosession-type" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="portrait">üë§ –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è</option>
                                <option value="wedding">üíí –°–≤–∞–¥–µ–±–Ω–∞—è</option>
                                <option value="family">üë®‚Äçüë©‚Äçüëß –°–µ–º–µ–π–Ω–∞—è</option>
                                <option value="content">üì± –ö–æ–Ω—Ç–µ–Ω—Ç</option>
                                <option value="commercial">üè¢ –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥:</label>
                            <select id="edit-photosession-city" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üí∞ –¶–µ–Ω–∞ (USD):</label>
                        <input type="text" id="edit-photosession-price" placeholder="100" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-medicine-fields" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üè• –¢–∏–ø —É—Å–ª—É–≥–∏:</label>
                            <select id="edit-medicine-service" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="dentist">ü¶∑ –°—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è</option>
                                <option value="clinic">üè• –ö–ª–∏–Ω–∏–∫–∞</option>
                                <option value="massage">üíÜ –ú–∞—Å—Å–∞–∂</option>
                                <option value="therapy">üíä –¢–µ—Ä–∞–ø–∏—è</option>
                                <option value="beauty">üíÑ –ö–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è</option>
                                <option value="other">ü©∫ –î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥:</label>
                            <select id="edit-medicine-city" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üí∞ –¶–µ–Ω–∞:</label>
                        <input type="text" id="edit-medicine-price" placeholder="500,000 VND" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-status" style="margin-bottom: 12px; font-size: 13px; display: none;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveEditFromCard()" style="flex: 1; padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="document.getElementById('edit-modal').style.display = 'none';" style="flex: 1; padding: 10px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
        <div id="submit-listing" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üìù –ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="submit-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 2 –∫–æ–º–Ω–∞—Ç—ã –≤ —Ü–µ–Ω—Ç—Ä–µ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="submit-description" required rows="4" maxlength="500" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–¶–µ–Ω–∞</label>
                            <input type="number" id="submit-price" placeholder="0" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ö–æ–º–Ω–∞—Ç</label>
                            <input type="text" id="submit-rooms" placeholder="1, 2, Studio" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ü–ª–æ—â–∞–¥—å –º¬≤</label>
                            <input type="number" id="submit-area" placeholder="50" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="submit-location" placeholder="–¶–µ–Ω—Ç—Ä, —É –º–æ—Ä—è..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="submit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="submit-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="submit-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="submit-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–¢–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="submit-type-sale" value="sale"> –ü—Ä–æ–¥–∞–∂–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="submit-type-rent" value="rent"> –ê—Ä–µ–Ω–¥–∞
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="submit-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="submit-photo-0" accept="image/*"></div>
                            <div class="photo-upload-wrapper"><input type="file" id="submit-photo-1" accept="image/*"></div>
                            <div class="photo-upload-wrapper"><input type="file" id="submit-photo-2" accept="image/*"></div>
                            <div class="photo-upload-wrapper"><input type="file" id="submit-photo-3" accept="image/*"></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="submit-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="captcha-answer">
                    </div>

                    <div id="submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ -->
        <div id="submit-restaurant" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üçΩÔ∏è –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—ë –∑–∞–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª –†–µ—Å—Ç–æ—Ä–∞–Ω—ã. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-restaurant-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="restaurant-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ñ–µ –í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è –∫—É—Ö–Ω—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è *</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #FF5722; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="—Ä–µ—Å—Ç–æ—Ä–∞–Ω" checked> üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #795548; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–∫–∞—Ñ–µ"> ‚òï –ö–∞—Ñ–µ
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #9C27B0; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–±–∞—Ä"> üç∏ –ë–∞—Ä
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #E91E63; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–Ω–æ—á–Ω–æ–π –∫–ª—É–±"> üéµ –ù–æ—á–Ω–æ–π –∫–ª—É–±
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #F44336; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="—Ä—É—Å—Å–∫–∞—è –µ–¥–∞"> ü•ü –†—É—Å—Å–∫–∞—è –µ–¥–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #00BCD4; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã"> ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="restaurant-description" required rows="4" maxlength="500" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è, –º–µ–Ω—é, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üç≥ –ö—É—Ö–Ω—è</label>
                            <input type="text" id="restaurant-kitchen" placeholder="–í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è, –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="restaurant-location" placeholder="–¶–µ–Ω—Ç—Ä, –ø–ª—è–∂, —Ä–∞–π–æ–Ω..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                        <select id="restaurant-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                            <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                            <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            <option value="Hoi An">–•–æ–π–∞–Ω</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4285F4;">üó∫Ô∏è –°—Å—ã–ª–∫–∞ –Ω–∞ Google Maps</label>
                        <input type="url" id="restaurant-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <p style="margin: 5px 0 0 0; font-size: 12px; color: #666;">–û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ –≤ Google Maps ‚Üí –ü–æ–¥–µ–ª–∏—Ç—å—Å—è ‚Üí –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</p>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="restaurant-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="restaurant-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="restaurant-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="restaurant-price-category" value="cheap"> üíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="restaurant-price-category" value="normal" checked> üíµüíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="restaurant-price-category" value="expensive"> üíµüíµüíµ
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-wrapper"><input type="file" id="restaurant-photo-0" accept="image/*"><span class="file-placeholder" data-i18n-file>–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="restaurant-photo-1" accept="image/*"><span class="file-placeholder" data-i18n-file>–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="restaurant-photo-2" accept="image/*"><span class="file-placeholder" data-i18n-file>–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span></div>
                            <div class="photo-upload-wrapper"><input type="file" id="restaurant-photo-3" accept="image/*"><span class="file-placeholder" data-i18n-file>–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="restaurant-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="restaurant-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadRestaurantCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="restaurant-captcha-answer">
                    </div>

                    <div id="restaurant-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #FF6B35; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å -->
        <div id="admin" class="content">
            <div style="max-width: 900px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">‚öôÔ∏è –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h2>
                    <p style="margin: 0; opacity: 0.9;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏: —É–¥–∞–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è</p>
                </div>

                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid #ddd;">
                    <h3 style="margin: 0 0 15px 0; color: #333;">üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <input type="password" id="admin-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                        <button onclick="adminAuth()" style="padding: 10px 20px; background: #0088cc; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–í–æ–π—Ç–∏</button>
                    </div>
                    <div id="admin-status" style="font-size: 13px; color: #666;"></div>
                </div>

                <div id="admin-tools" style="display: none;">
                    <!-- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π -->
                    <div style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-bottom: 20px;">
                        <h3 style="margin: 0 0 15px 0; color: #333;">üìã –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π</h3>
                        <button onclick="loadPendingListings()" style="padding: 10px 20px; background: #0088cc; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; margin-bottom: 15px;">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ</button>
                        <div id="pending-count" style="font-size: 14px; color: #666; margin-bottom: 10px;"></div>
                        <div id="pending-list" style="display: grid; gap: 15px;"></div>
                    </div>
                    
                    <!-- –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ -->
                    <div style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-bottom: 20px;">
                        <h3 style="margin: 0 0 15px 0; color: #333;">üì¢ –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤</h3>
                        <button onclick="loadPendingAdsChannels()" style="padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; margin-bottom: 15px;">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ</button>
                        <div id="pending-ads-count" style="font-size: 14px; color: #666; margin-bottom: 10px;"></div>
                        <div id="pending-ads-list" style="display: grid; gap: 10px;"></div>
                    </div>

                    <div style="background: #fafafa; padding: 20px; border-radius: 8px; border: 1px solid #eee; margin-top: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: #333;">üñºÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞–º–∏ (${currentCountry})</h4>
                        
                        <!-- –¢–∞–±—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –±–∞–Ω–Ω–µ—Ä–∞ -->
                        <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                            <button id="banner-tab-web" onclick="switchBannerTab('web')" style="flex: 1; padding: 10px; background: #d4af37; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üñ•Ô∏è –í–µ–±-–≤–µ—Ä—Å–∏—è</button>
                            <button id="banner-tab-mobile" onclick="switchBannerTab('mobile')" style="flex: 1; padding: 10px; background: #ddd; color: #333; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üì± –ú–æ–±–∏–ª—å–Ω–∞—è</button>
                        </div>
                        
                        <!-- –í–µ–± –±–∞–Ω–Ω–µ—Ä—ã -->
                        <div id="banner-section-web">
                            <p style="font-size: 12px; color: #666; margin: 0 0 10px 0;">–ë–∞–Ω–Ω–µ—Ä—ã –¥–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏ (–ü–ö)</p>
                            <div id="admin-banners-list-web" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <!-- –í–µ–± –±–∞–Ω–Ω–µ—Ä—ã -->
                            </div>
                            <div style="display: flex; gap: 10px; align-items: flex-end;">
                                <div style="flex: 1;">
                                    <label style="font-size: 12px; color: #666; font-weight: 600;">–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–µ–± –±–∞–Ω–Ω–µ—Ä</label>
                                    <input type="file" id="banner-upload-input-web" accept="image/*" style="width: 100%; padding: 8px; background: white; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px;">
                                </div>
                                <button onclick="uploadBannerAdmin('web')" style="padding: 10px 20px; background: #31a24c; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; height: 40px;">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                            </div>
                            <div id="banner-upload-status-web" style="font-size: 12px; margin-top: 8px;"></div>
                        </div>
                        
                        <!-- –ú–æ–±–∏–ª—å–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã -->
                        <div id="banner-section-mobile" style="display: none;">
                            <p style="font-size: 12px; color: #666; margin: 0 0 10px 0;">–ë–∞–Ω–Ω–µ—Ä—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (Telegram Mini App)</p>
                            <div id="admin-banners-list-mobile" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <!-- –ú–æ–±–∏–ª—å–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã -->
                            </div>
                            <div style="display: flex; gap: 10px; align-items: flex-end;">
                                <div style="flex: 1;">
                                    <label style="font-size: 12px; color: #666; font-weight: 600;">–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–±–∏–ª—å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä</label>
                                    <input type="file" id="banner-upload-input-mobile" accept="image/*" style="width: 100%; padding: 8px; background: white; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px;">
                                </div>
                                <button onclick="uploadBannerAdmin('mobile')" style="padding: 10px 20px; background: #31a24c; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; height: 40px;">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                            </div>
                            <div id="banner-upload-status-mobile" style="font-size: 12px; margin-top: 8px;"></div>
                        </div>
                    </div>

                    <div style="background: #ffebee; padding: 20px; border-radius: 8px; border: 1px solid #ef9a9a; margin-top: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: #c62828;">üö´ –ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —á–∞—Ç–∞</h4>
                        <p style="font-size: 12px; color: #666; margin: 0 0 15px 0;">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</p>
                        <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                            <input type="text" id="blacklist-username" placeholder="@–Ω–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px;">
                            <button onclick="addToBlacklist()" style="padding: 10px 20px; background: #c62828; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                        <div id="blacklist-list" style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <span style="color: #999; font-size: 12px;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                    </div>

                    <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; border: 1px solid #90caf9; margin-top: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: #1565c0;">üì° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Telegram –∫–∞–Ω–∞–ª–∞–º–∏</h4>
                        <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                            <select id="channel-category" style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; min-width: 150px;">
                                <option value="chat">–ß–∞—Ç</option>
                                <option value="restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                                <option value="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                                <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                                <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                                <option value="money_exchange">–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                                <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                                <option value="marketplace">–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                                <option value="visas">–í–∏–∑–∞—Ä–∞–Ω</option>
                                <option value="news">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                                <option value="medicine">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                                <option value="kids">–î–ª—è –¥–µ—Ç–µ–π</option>
                            </select>
                            <input type="text" id="new-channel-name" placeholder="@channel_name" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; min-width: 200px;">
                            <button onclick="addChannelAdmin()" style="padding: 10px 20px; background: #1565c0; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                        <div id="channel-result" style="font-size: 12px; margin-bottom: 10px;"></div>
                        <div id="channels-list" style="max-height: 400px; overflow-y: auto; background: white; border-radius: 6px; border: 1px solid #ddd;">
                            <!-- –ö–∞–Ω–∞–ª—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                        </div>
                    </div>

                    <!-- –†—É—á–Ω–æ–π –ø–∞—Ä—Å–µ—Ä -->
                    <div style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-top: 20px;">
                        <h3 style="margin: 0 0 15px 0; color: #333;">üîç –†—É—á–Ω–æ–π –ø–∞—Ä—Å–µ—Ä Telegram</h3>
                        <p style="font-size: 13px; color: #666; margin-bottom: 15px;">–í–≤–µ–¥–∏—Ç–µ @username –∫–∞–Ω–∞–ª–∞ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é. –ë—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞.</p>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
                            <input type="text" id="parser-channel" placeholder="@channel_name" style="flex: 1; min-width: 200px; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                            <select id="parser-category" style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px;">
                                <option value="restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                                <option value="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                                <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                                <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                                <option value="money_exchange">–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                                <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                                <option value="marketplace">–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                                <option value="visas">–í–∏–∑–∞—Ä–∞–Ω</option>
                                <option value="news">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                                <option value="medicine">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                                <option value="kids">–î–ª—è –¥–µ—Ç–µ–π</option>
                                <option value="chat">–ß–∞—Ç</option>
                            </select>
                            <input type="number" id="parser-limit" placeholder="–õ–∏–º–∏—Ç (100)" value="100" min="1" max="1000" style="width: 100px; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                            <button onclick="startManualParser()" id="parser-btn" style="padding: 10px 20px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥</button>
                        </div>
                        <div id="parser-status" style="font-size: 13px; color: #666;"></div>
                        <div id="parser-log" style="max-height: 300px; overflow-y: auto; background: #f5f5f5; border-radius: 6px; padding: 10px; font-family: monospace; font-size: 12px; margin-top: 10px; display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–µ—Ä–≤—ã–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
        let currentCountry = 'vietnam';
        let currentLang = 'ru';
        let bannerConfig = {};
        let currentBannerTab = 'web';
        
        const translations = {
            ru: {
                countries: { vietnam: 'üáªüá≥ –í—å–µ—Ç–Ω–∞–º', thailand: 'üáπüá≠ –¢–∞–π–ª–∞–Ω–¥', india: 'üáÆüá≥ –ò–Ω–¥–∏—è', indonesia: 'üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è' },
                tabs: { entertainment: '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', restaurants: '–†–µ—Å—Ç–æ—Ä–∞–Ω—ã', tours: '–≠–∫—Å–∫—É—Ä—Å–∏–∏', transport: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', realestate: '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å', exchange: '–û–±–º–µ–Ω –¥–µ–Ω–µ–≥', settings: '–î–µ—Ç–∏', marketplace: '–ë–∞—Ä–∞—Ö–æ–ª–∫–∞', visas: '–í–∏–∑–∞—Ä–∞–Ω', news: '–§–æ—Ç–æ—Å–µ—Å—Å–∏—è', medicine: '–ú–µ–¥–∏—Ü–∏–Ω–∞', chat: '–ß–∞—Ç', stats: '–†–µ–∫–ª–∞–º–∞ –¢–ì' },
                status: { parser: '–ü–∞—Ä—Å–µ—Ä:', total: '–í—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:', updated: '–û–±–Ω–æ–≤–ª–µ–Ω–æ:', online: '–ù–∞ –ø–æ—Ä—Ç–∞–ª–µ', lang: '–Ø–∑—ã–∫' },
                filters: { rent: 'üîë –ê—Ä–µ–Ω–¥–∞', sale: 'üè† –ü—Ä–æ–¥–∞–∂–∞', ascending: 'üìà –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é', descending: 'üìâ –ü–æ —É–±—ã–≤–∞–Ω–∏—é', reset: '‚úï –°–±—Ä–æ—Å', upto7m: '–î–æ 7 –º–ª–Ω', upto15m: '–î–æ 15 –º–ª–Ω', from15m: '–û—Ç 15 –º–ª–Ω', all: '–í—Å–µ', bike: 'üèçÔ∏è –ú–æ—Ç–æ—Ü–∏–∫–ª', car: 'üöó –ê–≤—Ç–æ', scooter: 'üõµ –°–∫—É—Ç–µ—Ä', groups: 'üìå –ì—Ä—É–ø–ø—ã:', selectGroup: '-- –í—ã–±—Ä–∞—Ç—å –≥—Ä—É–ø–ø—É --', listings: '–æ–±—ä—è–≤–ª–µ–Ω–∏–π', submit: 'üìù –ü–æ–¥–∞—Ç—å', listing: '–æ–±—ä—è–≤–ª–µ–Ω–∏–µ' },
                transport: { bikes: 'üèçÔ∏è –ë–∞–π–∫–∏', cars: 'üöó –ê–≤—Ç–æ', yachts: '‚õµ –Ø—Ö—Ç—ã', bicycles: 'üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥—ã', submit: 'üìù –ü–æ–¥–∞—Ç—å', add: '–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç', cityFilter: 'üèôÔ∏è –ì–æ—Ä–æ–¥:' },
                cities: { hochiminh: '–•–æ—à–∏–º–∏–Ω', danang: '–î–∞–Ω–∞–Ω–≥', nhatrang: '–ù—è—á–∞–Ω–≥', phuquoc: '–§—É–∫—É–æ–∫', hanoi: '–•–∞–Ω–æ–π', dalat: '–î–∞–ª–∞—Ç', muine: '–ú—É–π–Ω–µ', vungtau: '–í—É–Ω–≥—Ç–∞—É', halong: '–•–∞–ª–æ–Ω–≥', hue: '–•—é—ç', phanthiet: '–§–∞–Ω—Ç—å–µ—Ç', camranh: '–ö–∞–º—Ä–∞–Ω—å', all: '–í—Å–µ' },
                forms: { title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫', description: '–û–ø–∏—Å–∞–Ω–∏–µ', price: '–¶–µ–Ω–∞', contact: '–ö–æ–Ω—Ç–∞–∫—Ç', phone: '–¢–µ–ª–µ—Ñ–æ–Ω', telegram: 'Telegram', whatsapp: 'WhatsApp', photo: '–§–æ—Ç–æ', submit: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å', cancel: '–û—Ç–º–µ–Ω–∏—Ç—å', addListing: '–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ', city: '–ì–æ—Ä–æ–¥', category: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è', type: '–¢–∏–ø', rooms: '–ö–æ–º–Ω–∞—Ç—ã', area: '–ü–ª–æ—â–∞–¥—å', address: '–ê–¥—Ä–µ—Å', submitListingTitle: 'üìù –ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ', submitListingDesc: '–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.', name: '–ù–∞–∑–≤–∞–Ω–∏–µ *', descLabel: '–û–ø–∏—Å–∞–Ω–∏–µ *', priceLabel: '–¶–µ–Ω–∞', roomsLabel: '–ö–æ–º–Ω–∞—Ç', areaLabel: '–ü–ª–æ—â–∞–¥—å –º¬≤', location: 'üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ', cityLabel: 'üèôÔ∏è –ì–æ—Ä–æ–¥', contactPerson: 'üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *', listingType: '–¢–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è', sale: '–ü—Ä–æ–¥–∞–∂–∞', rent: '–ê—Ä–µ–Ω–¥–∞', geolocation: 'üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps', geoHint: '–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps', photos: 'üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç)', captcha: 'ü§ñ –ö–∞–ø—á–∞ *', captchaAnswer: '–û—Ç–≤–µ—Ç', submitBtn: 'üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é', titlePlaceholder: '–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 2 –∫–æ–º–Ω–∞—Ç—ã –≤ —Ü–µ–Ω—Ç—Ä–µ', descPlaceholder: '–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞...', yourName: '–í–∞—à–µ –∏–º—è', locationPlaceholder: '–¶–µ–Ω—Ç—Ä, —É –º–æ—Ä—è...', noFileSelected: '–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω', addExchange: '–î–æ–±–∞–≤–∏—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫', exchangeDesc: '–î–æ–±–∞–≤—å—Ç–µ –ø—É–Ω–∫—Ç –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.', addKids: '–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É –¥–ª—è –¥–µ—Ç–µ–π', kidsDesc: '–î–æ–±–∞–≤—å—Ç–µ –¥–µ—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ —Ç–æ–≤–∞—Ä.', addMarketplace: '–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ', marketplaceDesc: '–ü—Ä–æ–¥–∞–π—Ç–µ –∏–ª–∏ –æ–±–º–µ–Ω—è–π—Ç–µ –≤–µ—â–∏.', addVisa: '–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑–∞—Ä–∞–Ω', visaDesc: '–î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∏–∑–∞—Ä–∞–Ω–µ.', addPhoto: '–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é', photoDesc: '–î–æ–±–∞–≤—å—Ç–µ —É—Å–ª—É–≥—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞.', addMedicine: '–î–æ–±–∞–≤–∏—Ç—å –º–µ–¥–∏—Ü–∏–Ω—É', medicineDesc: '–î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ–¥–∏—Ü–∏–Ω–µ.', addTour: '–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é', tourDesc: '–î–æ–±–∞–≤—å—Ç–µ —Ç—É—Ä –∏–ª–∏ —ç–∫—Å–∫—É—Ä—Å–∏—é.', addTransport: '–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç', transportDesc: '–î–æ–±–∞–≤—å—Ç–µ –º–æ—Ç–æ—Ü–∏–∫–ª –∏–ª–∏ –∞–≤—Ç–æ.', addEntertainment: '–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ', entertainmentDesc: '–î–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ.', addRestaurant: '–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω', restaurantDesc: '–î–æ–±–∞–≤—å—Ç–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∏–ª–∏ –∫–∞—Ñ–µ.' },
                common: { loading: '–ó–∞–≥—Ä—É–∑–∫–∞...', noResults: '–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π', error: '–û—à–∏–±–∫–∞', success: '–£—Å–ø–µ—à–Ω–æ', date: '–î–∞—Ç–∞', viewMore: '–ü–æ–¥—Ä–æ–±–Ω–µ–µ', close: '–ó–∞–∫—Ä—ã—Ç—å', save: '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å', delete: '–£–¥–∞–ª–∏—Ç—å', edit: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' }
            },
            en: {
                countries: { vietnam: 'üáªüá≥ Vietnam', thailand: 'üáπüá≠ Thailand', india: 'üáÆüá≥ India', indonesia: 'üáÆüá© Indonesia' },
                tabs: { entertainment: 'Entertainment', restaurants: 'Restaurants', tours: 'Tours', transport: 'Transport', realestate: 'Real Estate', exchange: 'Money Exchange', settings: 'For Kids', marketplace: 'Marketplace', visas: 'Visa Runs', news: 'Photoshoots', medicine: 'Medicine', chat: 'Chat', stats: 'TG Ads' },
                status: { parser: 'Parser:', total: 'Total listings:', updated: 'Updated:', online: 'Online', lang: 'Language' },
                filters: { rent: 'üîë Rent', sale: 'üè† Sale', ascending: 'üìà Ascending', descending: 'üìâ Descending', reset: '‚úï Reset', upto7m: 'Up to 7M', upto15m: 'Up to 15M', from15m: 'From 15M', all: 'All', bike: 'üèçÔ∏è Motorbike', car: 'üöó Car', scooter: 'üõµ Scooter', groups: 'üìå Groups:', selectGroup: '-- Select group --', listings: 'listings', submit: 'üìù Submit', listing: 'listing' },
                transport: { bikes: 'üèçÔ∏è Bikes', cars: 'üöó Cars', yachts: '‚õµ Yachts', bicycles: 'üö≤ Bicycles', submit: 'üìù Submit', add: 'Add Vehicle', cityFilter: 'üèôÔ∏è City:' },
                cities: { hochiminh: 'Ho Chi Minh', danang: 'Da Nang', nhatrang: 'Nha Trang', phuquoc: 'Phu Quoc', hanoi: 'Hanoi', dalat: 'Da Lat', muine: 'Mui Ne', vungtau: 'Vung Tau', halong: 'Ha Long', hue: 'Hue', phanthiet: 'Phan Thiet', camranh: 'Cam Ranh', all: 'All' },
                forms: { title: 'Title', description: 'Description', price: 'Price', contact: 'Contact', phone: 'Phone', telegram: 'Telegram', whatsapp: 'WhatsApp', photo: 'Photo', submit: 'Submit', cancel: 'Cancel', addListing: 'Add Listing', city: 'City', category: 'Category', type: 'Type', rooms: 'Rooms', area: 'Area', address: 'Address', submitListingTitle: 'üìù Submit Listing', submitListingDesc: 'Add your listing to the Real Estate section. After moderation, it will appear on the site.', name: 'Title *', descLabel: 'Description *', priceLabel: 'Price', roomsLabel: 'Rooms', areaLabel: 'Area m¬≤', location: 'üìç Location', cityLabel: 'üèôÔ∏è City', contactPerson: 'üë§ Contact Person *', listingType: 'Listing Type', sale: 'Sale', rent: 'Rent', geolocation: 'üìç Google Maps Location', geoHint: 'Copy link from Google Maps', photos: 'üì∑ Photos (up to 4)', captcha: 'ü§ñ Captcha *', captchaAnswer: 'Answer', submitBtn: 'üì§ Submit for Moderation', titlePlaceholder: 'Example: 2-bedroom apartment in center', descPlaceholder: 'Detailed description...', yourName: 'Your name', locationPlaceholder: 'Center, near the beach...', noFileSelected: 'No file selected', addExchange: 'Add Exchange Point', exchangeDesc: 'Add a currency exchange point. After moderation, it will appear on the site.', addKids: 'Add Kids Service', kidsDesc: 'Add a service or product for children.', addMarketplace: 'Post Listing', marketplaceDesc: 'Sell or exchange items.', addVisa: 'Add Visa Run', visaDesc: 'Add visa run information.', addPhoto: 'Add Photoshoot', photoDesc: 'Add photography service.', addMedicine: 'Add Medical Service', medicineDesc: 'Add medical information.', addTour: 'Add Tour', tourDesc: 'Add tour or excursion.', addTransport: 'Add Vehicle', transportDesc: 'Add motorbike or car.', addEntertainment: 'Add Entertainment', entertainmentDesc: 'Add entertainment activity.', addRestaurant: 'Add Restaurant', restaurantDesc: 'Add restaurant or cafe.' },
                common: { loading: 'Loading...', noResults: 'No listings found', error: 'Error', success: 'Success', date: 'Date', viewMore: 'View More', close: 'Close', save: 'Save', delete: 'Delete', edit: 'Edit' }
            },
            vi: {
                countries: { vietnam: 'üáªüá≥ Vi·ªát Nam', thailand: 'üáπüá≠ Th√°i Lan', india: 'üáÆüá≥ ·∫§n ƒê·ªô', indonesia: 'üáÆüá© Inƒë√¥n√™xia' },
                tabs: { entertainment: 'Gi·∫£i tr√≠', restaurants: 'Nh√† h√†ng', tours: 'Tour', transport: 'V·∫≠n chuy·ªÉn', realestate: 'B·∫•t ƒë·ªông s·∫£n', exchange: 'ƒê·ªïi ti·ªÅn', settings: 'Cho tr·∫ª em', marketplace: 'Ch·ª£ ƒë·ªì c≈©', visas: 'Visa Run', news: 'Ch·ª•p ·∫£nh', medicine: 'Y t·∫ø', chat: 'Tr√≤ chuy·ªán', stats: 'QC Telegram' },
                status: { parser: 'Parser:', total: 'T·ªïng tin:', updated: 'C·∫≠p nh·∫≠t:', online: 'Tr·ª±c tuy·∫øn', lang: 'Ng√¥n ng·ªØ' },
                filters: { rent: 'üîë Thu√™', sale: 'üè† B√°n', ascending: 'üìà TƒÉng d·∫ßn', descending: 'üìâ Gi·∫£m d·∫ßn', reset: '‚úï ƒê·∫∑t l·∫°i', upto7m: 'ƒê·∫øn 7 tri·ªáu', upto15m: 'ƒê·∫øn 15 tri·ªáu', from15m: 'T·ª´ 15 tri·ªáu', all: 'T·∫•t c·∫£', bike: 'üèçÔ∏è Xe m√°y', car: 'üöó √î t√¥', scooter: 'üõµ Xe tay ga', groups: 'üìå Nh√≥m:', selectGroup: '-- Ch·ªçn nh√≥m --', listings: 'tin ƒëƒÉng', submit: 'üìù ƒêƒÉng', listing: 'tin' },
                transport: { bikes: 'üèçÔ∏è Xe m√°y', cars: 'üöó √î t√¥', yachts: '‚õµ Du thuy·ªÅn', bicycles: 'üö≤ Xe ƒë·∫°p', submit: 'üìù ƒêƒÉng', add: 'Th√™m ph∆∞∆°ng ti·ªán', cityFilter: 'üèôÔ∏è Th√†nh ph·ªë:' },
                cities: { hochiminh: 'TP. H·ªì Ch√≠ Minh', danang: 'ƒê√† N·∫µng', nhatrang: 'Nha Trang', phuquoc: 'Ph√∫ Qu·ªëc', hanoi: 'H√† N·ªôi', dalat: 'ƒê√† L·∫°t', muine: 'M≈©i N√©', vungtau: 'V≈©ng T√†u', halong: 'H·∫° Long', hue: 'Hu·∫ø', phanthiet: 'Phan Thi·∫øt', camranh: 'Cam Ranh', all: 'T·∫•t c·∫£' },
                forms: { title: 'Ti√™u ƒë·ªÅ', description: 'M√¥ t·∫£', price: 'Gi√°', contact: 'Li√™n h·ªá', phone: 'ƒêi·ªán tho·∫°i', telegram: 'Telegram', whatsapp: 'WhatsApp', photo: '·∫¢nh', submit: 'G·ª≠i', cancel: 'H·ªßy', addListing: 'Th√™m tin', city: 'Th√†nh ph·ªë', category: 'Danh m·ª•c', type: 'Lo·∫°i', rooms: 'Ph√≤ng', area: 'Di·ªán t√≠ch', address: 'ƒê·ªãa ch·ªâ', submitListingTitle: 'üìù ƒêƒÉng tin', submitListingDesc: 'Th√™m tin ƒëƒÉng c·ªßa b·∫°n v√†o m·ª•c B·∫•t ƒë·ªông s·∫£n. Sau khi ki·ªÉm duy·ªát, tin s·∫Ω xu·∫•t hi·ªán tr√™n trang.', name: 'T√™n *', descLabel: 'M√¥ t·∫£ *', priceLabel: 'Gi√°', roomsLabel: 'Ph√≤ng', areaLabel: 'Di·ªán t√≠ch m¬≤', location: 'üìç V·ªã tr√≠', cityLabel: 'üèôÔ∏è Th√†nh ph·ªë', contactPerson: 'üë§ Ng∆∞·ªùi li√™n h·ªá *', listingType: 'Lo·∫°i tin ƒëƒÉng', sale: 'B√°n', rent: 'Thu√™', geolocation: 'üìç V·ªã tr√≠ Google Maps', geoHint: 'Sao ch√©p li√™n k·∫øt t·ª´ Google Maps', photos: 'üì∑ ·∫¢nh (t·ªëi ƒëa 4)', captcha: 'ü§ñ M√£ x√°c nh·∫≠n *', captchaAnswer: 'Tr·∫£ l·ªùi', submitBtn: 'üì§ G·ª≠i ki·ªÉm duy·ªát', titlePlaceholder: 'V√≠ d·ª•: CƒÉn h·ªô 2 ph√≤ng ng·ªß trung t√¢m', descPlaceholder: 'M√¥ t·∫£ chi ti·∫øt...', yourName: 'T√™n c·ªßa b·∫°n', locationPlaceholder: 'Trung t√¢m, g·∫ßn bi·ªÉn...', chooseFile: 'Ch·ªçn t·ªáp', noFileSelected: 'Ch∆∞a ch·ªçn t·ªáp', addExchange: 'Th√™m ƒëi·ªÉm ƒë·ªïi ti·ªÅn', exchangeDesc: 'Th√™m ƒëi·ªÉm ƒë·ªïi ti·ªÅn. Sau khi ki·ªÉm duy·ªát, tin s·∫Ω xu·∫•t hi·ªán.', addKids: 'Th√™m d·ªãch v·ª• tr·∫ª em', kidsDesc: 'Th√™m d·ªãch v·ª• ho·∫∑c s·∫£n ph·∫©m cho tr·∫ª em.', addMarketplace: 'ƒêƒÉng tin ch·ª£ ƒë·ªì', marketplaceDesc: 'B√°n ho·∫∑c trao ƒë·ªïi ƒë·ªì d√πng.', addVisa: 'Th√™m d·ªãch v·ª• visa', visaDesc: 'Th√™m th√¥ng tin visa run.', addPhoto: 'ƒêƒÉng d·ªãch v·ª• ch·ª•p ·∫£nh', photoDesc: 'Th√™m d·ªãch v·ª• ch·ª•p ·∫£nh.', addMedicine: 'Th√™m d·ªãch v·ª• y t·∫ø', medicineDesc: 'Th√™m th√¥ng tin y t·∫ø, b√°c sƒ©, ph√≤ng kh√°m.', addTour: 'Th√™m tour du l·ªãch', tourDesc: 'ƒêƒÉng tour ho·∫∑c d·ªãch v·ª• du l·ªãch.', addTransport: 'Th√™m ph∆∞∆°ng ti·ªán', transportDesc: 'ƒêƒÉng xe m√°y, √¥ t√¥ cho thu√™ ho·∫∑c b√°n.', addEntertainment: 'Th√™m gi·∫£i tr√≠', entertainmentDesc: 'Th√™m ho·∫°t ƒë·ªông gi·∫£i tr√≠.', addRestaurant: 'Th√™m nh√† h√†ng', restaurantDesc: 'ƒêƒÉng nh√† h√†ng, qu√°n ƒÉn.' },
                common: { loading: 'ƒêang t·∫£i...', noResults: 'Kh√¥ng t√¨m th·∫•y tin', error: 'L·ªói', success: 'Th√†nh c√¥ng', date: 'Ng√†y', viewMore: 'Xem th√™m', close: 'ƒê√≥ng', save: 'L∆∞u', delete: 'X√≥a', edit: 'S·ª≠a' }
            }
        };
        
        function t(key) {
            const keys = key.split('.');
            let val = translations[currentLang];
            for (const k of keys) { val = val?.[k]; }
            if (!val) { val = translations['ru']; for (const k of keys) { val = val?.[k]; } }
            return val || key;
        }
        
        // –•–µ–ª–ø–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª–æ–≤–∞ "–æ–±—ä—è–≤–ª–µ–Ω–∏–π" –Ω–∞ —Ç–µ–∫—É—â–µ–º —è–∑—ã–∫–µ
        function getListingsWord() {
            return translations[currentLang]?.filters?.listings || '–æ–±—ä—è–≤–ª–µ–Ω–∏–π';
        }
        
        function switchLang(lang) {
            currentLang = lang;
            localStorage.setItem('goldantelope_lang', lang);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å —è–∑—ã–∫–∞ –∫ body –¥–ª—è CSS –ø–µ—Ä–µ–≤–æ–¥–æ–≤
            document.body.classList.remove('lang-ru', 'lang-en', 'lang-vi');
            document.body.classList.add('lang-' + lang);
            
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.style.background = 'transparent';
                btn.style.color = '#666';
            });
            document.getElementById('lang-' + lang).style.background = '#d4af37';
            document.getElementById('lang-' + lang).style.color = 'white';
            
            const tr = translations[lang];
            
            document.querySelectorAll('.country-btn').forEach(btn => {
                const onclick = btn.getAttribute('onclick');
                if (!onclick) return;
                const match = onclick.match(/'(\w+)'/);
                if (!match) return;
                const country = match[1];
                if (tr.countries[country]) btn.textContent = tr.countries[country];
            });
            
            document.querySelectorAll('.tab[data-tab]').forEach(tab => {
                const tabName = tab.getAttribute('data-tab');
                const span = tab.querySelector('span');
                if (span && tr.tabs[tabName]) span.textContent = tr.tabs[tabName];
            });
            
            const statusItems = document.querySelectorAll('.status-item');
            if (statusItems[0]) statusItems[0].innerHTML = `<span class="status-dot online"></span><span>${tr.status.parser} <strong id="parser-status">OK</strong></span>`;
            if (statusItems[1]) statusItems[1].innerHTML = `<span>${tr.status.total} <strong id="total-items">${document.getElementById('total-items')?.textContent || '0'}</strong></span>`;
            if (statusItems[2]) statusItems[2].innerHTML = `<span>${tr.status.updated} <strong id="last-update">${document.getElementById('last-update')?.textContent || '--:--'}</strong></span>`;
            
            document.querySelectorAll('.rate-item .rate-label').forEach(lbl => {
                if (lbl.textContent.includes('–Ø–∑—ã–∫') || lbl.textContent.includes('Language') || lbl.textContent.includes('Ng√¥n ng·ªØ')) {
                    lbl.innerHTML = 'üåê ' + tr.status.lang;
                }
                if (lbl.textContent.includes('–ù–∞ –ø–æ—Ä—Ç–∞–ª–µ') || lbl.textContent.includes('Online') || lbl.textContent.includes('Tr·ª±c tuy·∫øn')) {
                    lbl.innerHTML = 'üë• ' + tr.status.online;
                }
            });
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                let val = t(key);
                if (key.startsWith('transport-')) {
                    const tkey = key.replace('transport-', '');
                    val = tr.transport?.[tkey] || val;
                } else if (key.startsWith('city-')) {
                    const ckey = key.replace('city-', '');
                    val = tr.cities?.[ckey] || val;
                } else if (key === 'submit-btn') {
                    val = tr.filters.submit;
                } else if (key === 'add-listing') {
                    val = tr.forms.addListing;
                }
                if (val && val !== key) el.textContent = val;
            });
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                const val = t(key);
                if (val && val !== key) el.placeholder = val;
            });
            
            document.querySelectorAll('.filter-type-btn').forEach(btn => {
                const onclick = btn.getAttribute('onclick') || '';
                if (onclick.includes("'rent'")) btn.textContent = tr.filters.rent;
                if (onclick.includes("'sale'")) btn.textContent = tr.filters.sale;
            });
            document.querySelectorAll('.sort-btn').forEach(btn => {
                const onclick = btn.getAttribute('onclick') || '';
                if (onclick.includes('price_asc')) btn.textContent = tr.filters.ascending;
                if (onclick.includes('price_desc')) btn.textContent = tr.filters.descending;
            });
            document.querySelectorAll('.reset-btn').forEach(btn => { 
                if(btn.textContent.includes('–°–±—Ä–æ—Å') || btn.textContent.includes('Reset') || btn.textContent.includes('ƒê·∫∑t l·∫°i')) 
                    btn.textContent = tr.filters.reset; 
            });
            document.querySelectorAll('.filter-btn').forEach(btn => {
                const onclick = btn.getAttribute('onclick') || '';
                if (onclick.includes('7000000')) btn.textContent = tr.filters.upto7m;
                if (onclick.includes('15000000') && onclick.includes('filterRealEstatePrice(')) btn.textContent = tr.filters.upto15m;
                if (onclick.includes('15000000') && onclick.includes('filterRealEstatePriceMin')) btn.textContent = tr.filters.from15m;
            });
            
            document.querySelectorAll('.city-btn').forEach(btn => {
                const city = btn.value || btn.getAttribute('data-city');
                if (city && tr.cities[city]) btn.textContent = tr.cities[city];
            });
            // –î–ª—è realestate-city-btn –º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ .city-name, —á—Ç–æ–±—ã –Ω–µ —É–¥–∞–ª–∏—Ç—å img
            document.querySelectorAll('.realestate-city-btn').forEach(btn => {
                const city = btn.getAttribute('data-city');
                const cityNameEl = btn.querySelector('.city-name');
                if (city && tr.cities[city] && cityNameEl) {
                    cityNameEl.textContent = tr.cities[city];
                }
            });
            
            document.querySelectorAll('.group-filter-btn[data-group=""]').forEach(btn => btn.textContent = tr.filters.all);
            const groupLabel = document.querySelector('#vietnam-realestate-groups > span');
            if (groupLabel) groupLabel.textContent = tr.filters.groups;
            const groupSelect = document.getElementById('group-select');
            if (groupSelect && groupSelect.options[0]) groupSelect.options[0].text = tr.filters.selectGroup;
            
            document.querySelectorAll('.city-name').forEach(el => {
                const parent = el.closest('[data-city]');
                if (parent) {
                    const city = parent.getAttribute('data-city');
                    if (tr.cities[city]) {
                        el.textContent = tr.cities[city];
                        return;
                    }
                }
                const text = el.textContent.toLowerCase();
                if (text.includes('—Ö–æ—à–∏–º–∏–Ω') || text.includes('ho chi minh') || text.includes('h·ªì ch√≠ minh') || text.includes('tp.')) el.textContent = tr.cities.hochiminh;
                else if (text.includes('–¥–∞–Ω–∞–Ω–≥') || text.includes('da nang') || text.includes('ƒë√† n·∫µng')) el.textContent = tr.cities.danang;
                else if (text.includes('–Ω—è—á–∞–Ω–≥') || text.includes('nha trang')) el.textContent = tr.cities.nhatrang;
                else if (text.includes('—Ñ—É–∫—É–æ–∫') || text.includes('phu quoc') || text.includes('ph√∫ qu·ªëc')) el.textContent = tr.cities.phuquoc;
                else if (text.includes('—Ö–∞–Ω–æ–π') || text.includes('hanoi') || text.includes('h√† n·ªôi')) el.textContent = tr.cities.hanoi;
                else if (text.includes('–¥–∞–ª–∞—Ç') || text.includes('da lat') || text.includes('ƒë√† l·∫°t')) el.textContent = tr.cities.dalat;
                else if (text.includes('–ø–æ–¥–∞—Ç—å') || text.includes('submit') || text.includes('ƒëƒÉng')) el.textContent = tr.filters.submit;
            });
            
            document.querySelectorAll('.tour-count').forEach(el => {
                const text = el.textContent;
                const match = text.match(/\d+/);
                if (match) {
                    const count = match[0];
                    if (text.includes('–æ–±—ä—è–≤–ª–µ–Ω') || text.includes('listing') || text.includes('tin')) {
                        el.textContent = count + ' ' + tr.filters.listings;
                    }
                }
                if (text.includes('–æ–±—ä—è–≤–ª–µ–Ω–∏–µ') || text.includes('listing') || text.includes('tin')) {
                    if (!text.match(/\d+/)) el.textContent = tr.filters.listing;
                }
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ —Ñ–æ—Ä–º—ã –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
            const submitForm = document.getElementById('submit-listing');
            if (submitForm) {
                const titleEl = submitForm.querySelector('h2');
                const descEl = submitForm.querySelector('p');
                if (titleEl) titleEl.textContent = tr.forms.submitListingTitle;
                if (descEl) descEl.textContent = tr.forms.submitListingDesc;
                
                const labels = submitForm.querySelectorAll('label');
                labels.forEach(lbl => {
                    const txt = lbl.textContent.toLowerCase();
                    if (txt.includes('–Ω–∞–∑–≤–∞–Ω–∏–µ') || txt.includes('title') || txt.includes('t√™n')) lbl.textContent = tr.forms.name;
                    else if (txt.includes('–æ–ø–∏—Å–∞–Ω–∏–µ') || txt.includes('description') || txt.includes('m√¥ t·∫£')) lbl.textContent = tr.forms.descLabel;
                    else if (txt.includes('—Ü–µ–Ω–∞') || txt.includes('price') || txt.includes('gi√°')) lbl.textContent = tr.forms.priceLabel;
                    else if (txt.includes('–∫–æ–º–Ω–∞—Ç') || txt.includes('rooms') || txt.includes('ph√≤ng')) lbl.textContent = tr.forms.roomsLabel;
                    else if (txt.includes('–ø–ª–æ—â–∞–¥—å') || txt.includes('area') || txt.includes('di·ªán t√≠ch')) lbl.textContent = tr.forms.areaLabel;
                    else if (txt.includes('—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ') || txt.includes('location') || txt.includes('v·ªã tr√≠')) lbl.textContent = tr.forms.location;
                    else if (txt.includes('–≥–æ—Ä–æ–¥') || txt.includes('city') || txt.includes('th√†nh ph·ªë')) lbl.textContent = tr.forms.cityLabel;
                    else if (txt.includes('–∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ') || txt.includes('contact person') || txt.includes('ng∆∞·ªùi li√™n h·ªá')) lbl.textContent = tr.forms.contactPerson;
                    else if (txt.includes('—Ç–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è') || txt.includes('listing type') || txt.includes('lo·∫°i tin')) lbl.textContent = tr.forms.listingType;
                    else if (txt.includes('–ø—Ä–æ–¥–∞–∂–∞') || txt.includes('sale') || txt.includes('b√°n')) lbl.innerHTML = lbl.innerHTML.replace(/–ü—Ä–æ–¥–∞–∂–∞|Sale|B√°n/gi, tr.forms.sale);
                    else if (txt.includes('–∞—Ä–µ–Ω–¥–∞') || txt.includes('rent') || txt.includes('thu√™')) lbl.innerHTML = lbl.innerHTML.replace(/–ê—Ä–µ–Ω–¥–∞|Rent|Thu√™/gi, tr.forms.rent);
                    else if (txt.includes('–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è') || txt.includes('google maps location') || txt.includes('v·ªã tr√≠ google')) lbl.textContent = tr.forms.geolocation;
                    else if (txt.includes('—Ñ–æ—Ç–æ') || txt.includes('photos') || txt.includes('·∫£nh')) lbl.textContent = tr.forms.photos;
                    else if (txt.includes('–∫–∞–ø—á–∞') || txt.includes('captcha') || txt.includes('m√£ x√°c nh·∫≠n')) lbl.textContent = tr.forms.captcha;
                });
                
                // Placeholders
                const titleInput = submitForm.querySelector('#submit-title');
                const descInput = submitForm.querySelector('#submit-description');
                const contactInput = submitForm.querySelector('#submit-contact-name');
                const captchaInput = submitForm.querySelector('#submit-captcha');
                const locationInput = submitForm.querySelector('#submit-location');
                if (titleInput) titleInput.placeholder = tr.forms.titlePlaceholder;
                if (descInput) descInput.placeholder = tr.forms.descPlaceholder;
                if (contactInput) contactInput.placeholder = tr.forms.yourName;
                if (captchaInput) captchaInput.placeholder = tr.forms.captchaAnswer;
                if (locationInput) locationInput.placeholder = tr.forms.locationPlaceholder;
                
                // –ü–æ–¥—Å–∫–∞–∑–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                const geoHint = submitForm.querySelector('small');
                if (geoHint) geoHint.textContent = tr.forms.geoHint;
                
                // –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
                const submitBtn = submitForm.querySelector('button[type="submit"]');
                if (submitBtn) submitBtn.textContent = tr.forms.submitBtn;
                
                // –ß–µ–∫–±–æ–∫—Å—ã –ü—Ä–æ–¥–∞–∂–∞/–ê—Ä–µ–Ω–¥–∞
                const saleLabel = submitForm.querySelector('label:has(#submit-type-sale)');
                const rentLabel = submitForm.querySelector('label:has(#submit-type-rent)');
                if (saleLabel) saleLabel.innerHTML = `<input type="checkbox" id="submit-type-sale" value="sale"> ${tr.forms.sale}`;
                if (rentLabel) rentLabel.innerHTML = `<input type="checkbox" id="submit-type-rent" value="rent"> ${tr.forms.rent}`;
                
                // –ì–æ—Ä–æ–¥–∞ –≤ —Å–µ–ª–µ–∫—Ç–µ
                const citySelect = submitForm.querySelector('#submit-city');
                if (citySelect) {
                    citySelect.querySelectorAll('option').forEach(opt => {
                        const val = opt.value.toLowerCase().replace(/\s+/g, '');
                        if (val.includes('nhatrang')) opt.textContent = tr.cities.nhatrang;
                        else if (val.includes('hochiminh')) opt.textContent = tr.cities.hochiminh;
                        else if (val.includes('danang')) opt.textContent = tr.cities.danang;
                        else if (val.includes('hanoi')) opt.textContent = tr.cities.hanoi;
                        else if (val.includes('phuquoc')) opt.textContent = tr.cities.phuquoc;
                        else if (val.includes('phanthiet') || val.includes('phan thiet')) opt.textContent = tr.cities.phanthiet;
                        else if (val.includes('camranh') || val.includes('cam ranh')) opt.textContent = tr.cities.camranh;
                        else if (val.includes('dalat')) opt.textContent = tr.cities.dalat;
                    });
                }
            }
            
            // –ü–µ—Ä–µ–≤–æ–¥–∏–º –≥–æ—Ä–æ–¥–∞ –≤–æ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ö (tour, entertainment –∏ –¥—Ä.)
            document.querySelectorAll('select[id*="-city"] option, select[id*="City"] option').forEach(opt => {
                const val = opt.value.toLowerCase().replace(/\s+/g, '');
                if (val.includes('nhatrang')) opt.textContent = tr.cities.nhatrang;
                else if (val.includes('hochiminh')) opt.textContent = tr.cities.hochiminh;
                else if (val.includes('danang')) opt.textContent = tr.cities.danang;
                else if (val.includes('hanoi')) opt.textContent = tr.cities.hanoi;
                else if (val.includes('phuquoc')) opt.textContent = tr.cities.phuquoc;
                else if (val.includes('phanthiet') || val.includes('phan thiet')) opt.textContent = tr.cities.phanthiet;
                else if (val.includes('camranh') || val.includes('cam ranh')) opt.textContent = tr.cities.camranh;
                else if (val.includes('dalat')) opt.textContent = tr.cities.dalat;
                else if (val.includes('muine') || val.includes('mui ne')) opt.textContent = tr.cities.muine;
                else if (val.includes('vungtau') || val.includes('vung tau')) opt.textContent = tr.cities.vungtau;
                else if (val.includes('halong') || val.includes('ha long')) opt.textContent = tr.cities.halong;
                else if (val.includes('hue')) opt.textContent = tr.cities.hue;
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ placeholder'–æ–≤ –¥–ª—è file input
            document.querySelectorAll('.file-placeholder[data-i18n-file]').forEach(el => {
                el.textContent = tr.forms.noFileSelected;
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ –í–°–ï–• —Ñ–æ—Ä–º –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
            translateAllForms(tr);
            updateWeather();
            
            if (lang !== 'ru') {
                translateVisibleCards(lang);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
        function translateAllForms(tr) {
            const isVi = currentLang === 'vi';
            const isEn = currentLang === 'en';
            
            // –ü–æ–ª–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è label
            const labelTranslations = {
                // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è
                '–Ω–∞–∑–≤–∞–Ω–∏–µ': isVi ? 'T√™n *' : (isEn ? 'Title *' : tr.forms.name),
                '–Ω–∞–∑–≤–∞–Ω–∏–µ/–º–æ–¥–µ–ª—å': isVi ? 'T√™n/Model *' : (isEn ? 'Title/Model *' : '–ù–∞–∑–≤–∞–Ω–∏–µ/–ú–æ–¥–µ–ª—å *'),
                '–æ–ø–∏—Å–∞–Ω–∏–µ': isVi ? 'M√¥ t·∫£ *' : (isEn ? 'Description *' : tr.forms.descLabel),
                '—Ü–µ–Ω–∞': isVi ? 'Gi√°' : (isEn ? 'Price' : tr.forms.priceLabel),
                '–≥–æ—Ä–æ–¥': isVi ? 'üèôÔ∏è Th√†nh ph·ªë' : (isEn ? 'üèôÔ∏è City' : tr.forms.cityLabel),
                '–∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ': isVi ? 'üë§ Ng∆∞·ªùi li√™n h·ªá *' : (isEn ? 'üë§ Contact Person *' : tr.forms.contactPerson),
                '—Ñ–æ—Ç–æ': isVi ? 'üì∑ ·∫¢nh (t·ªëi ƒëa 4)' : (isEn ? 'üì∑ Photos (up to 4)' : tr.forms.photos),
                '–∫–∞–ø—á–∞': isVi ? 'ü§ñ M√£ x√°c nh·∫≠n *' : (isEn ? 'ü§ñ Captcha *' : tr.forms.captcha),
                
                // –ö–æ–Ω—Ç–∞–∫—Ç—ã
                'whatsapp': 'üí¨ WhatsApp',
                'telegram': '‚úàÔ∏è Telegram',
                '—Ç–µ–ª–µ—Ñ–æ–Ω': isVi ? 'üìû ƒêi·ªán tho·∫°i' : (isEn ? 'üìû Phone' : 'üìû –¢–µ–ª–µ—Ñ–æ–Ω'),
                
                // –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
                '—Ç–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è': isVi ? 'Lo·∫°i tin ƒëƒÉng' : (isEn ? 'Listing Type' : '–¢–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è'),
                '–ø—Ä–æ–¥–∞–∂–∞': isVi ? 'B√°n' : (isEn ? 'Sale' : '–ü—Ä–æ–¥–∞–∂–∞'),
                '–∞—Ä–µ–Ω–¥–∞': isVi ? 'Thu√™' : (isEn ? 'Rent' : '–ê—Ä–µ–Ω–¥–∞'),
                '–∫–æ–º–Ω–∞—Ç': isVi ? 'Ph√≤ng' : (isEn ? 'Rooms' : '–ö–æ–º–Ω–∞—Ç'),
                '–ø–ª–æ—â–∞–¥—å': isVi ? 'Di·ªán t√≠ch m¬≤' : (isEn ? 'Area m¬≤' : '–ü–ª–æ—â–∞–¥—å –º¬≤'),
                '—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ': isVi ? 'üìç V·ªã tr√≠' : (isEn ? 'üìç Location' : 'üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ'),
                '–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è': isVi ? 'üìç V·ªã tr√≠ Google Maps' : (isEn ? 'üìç Google Maps Location' : 'üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps'),
                
                // –í–∏–∑–∞—Ä–∞–Ω
                '–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ': isVi ? 'üó∫ ƒêi·ªÉm ƒë·∫øn' : (isEn ? 'üó∫ Destination' : 'üó∫ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ'),
                '–≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ': isVi ? 'ü™™ Qu·ªëc t·ªãch' : (isEn ? 'ü™™ Citizenship' : 'ü™™ –ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ'),
                '—Å—Ä–æ–∫ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è': isVi ? '‚è± Th·ªùi gian l∆∞u tr√∫' : (isEn ? '‚è± Stay Duration' : '‚è± –°—Ä–æ–∫ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è'),
                
                // –î–µ—Ç–∏
                '–∫–∞—Ç–µ–≥–æ—Ä–∏—è': isVi ? 'üìÇ Danh m·ª•c' : (isEn ? 'üìÇ Category' : 'üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è'),
                '–≤–æ–∑—Ä–∞—Å—Ç': isVi ? 'üë∂ ƒê·ªô tu·ªïi' : (isEn ? 'üë∂ Age' : 'üë∂ –í–æ–∑—Ä–∞—Å—Ç'),
                
                // –ë–∞—Ä–∞—Ö–æ–ª–∫–∞
                '–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è': isVi ? 'üìÇ Danh m·ª•c con' : (isEn ? 'üìÇ Subcategory' : 'üìÇ –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è'),
                '—Å–æ—Å—Ç–æ—è–Ω–∏–µ': isVi ? 'üì¶ T√¨nh tr·∫°ng' : (isEn ? 'üì¶ Condition' : 'üì¶ –°–æ—Å—Ç–æ—è–Ω–∏–µ'),
                
                // –ú–µ–¥–∏—Ü–∏–Ω–∞
                '—Ç–∏–ø —É—Å–ª—É–≥–∏': isVi ? 'üíä Lo·∫°i d·ªãch v·ª•' : (isEn ? 'üíä Service Type' : 'üíä –¢–∏–ø —É—Å–ª—É–≥–∏'),
                '—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è': isVi ? 'ü©∫ Chuy√™n khoa' : (isEn ? 'ü©∫ Specialization' : 'ü©∫ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è'),
                
                // –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
                '—Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞': isVi ? 'üöó Lo·∫°i ph∆∞∆°ng ti·ªán' : (isEn ? 'üöó Vehicle Type' : 'üöó –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞'),
                '–≥–æ–¥ –≤—ã–ø—É—Å–∫–∞': isVi ? 'üìÖ NƒÉm s·∫£n xu·∫•t' : (isEn ? 'üìÖ Year' : 'üìÖ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞'),
                '–ø—Ä–æ–±–µ–≥': isVi ? 'üî¢ S·ªë km' : (isEn ? 'üî¢ Mileage' : 'üî¢ –ü—Ä–æ–±–µ–≥'),
                
                // –§–æ—Ç–æ—Å–µ—Å—Å–∏—è
                '—Å—Ç–∏–ª—å': isVi ? 'üé® Phong c√°ch' : (isEn ? 'üé® Style' : 'üé® –°—Ç–∏–ª—å'),
                '–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å': isVi ? '‚è± Th·ªùi l∆∞·ª£ng' : (isEn ? '‚è± Duration' : '‚è± –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å')
            };
            
            // –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Ñ–æ—Ä–º
            const formHeaders = {
                'submit-exchange': { title: 'üí± ' + (tr.forms.addExchange || 'Th√™m ƒëi·ªÉm ƒë·ªïi ti·ªÅn'), desc: tr.forms.exchangeDesc || 'Th√™m ƒëi·ªÉm ƒë·ªïi ti·ªÅn. Sau khi ki·ªÉm duy·ªát, tin s·∫Ω xu·∫•t hi·ªán.' },
                'submit-children': { title: 'üë∂ ' + (tr.forms.addKids || 'Th√™m d·ªãch v·ª• tr·∫ª em'), desc: tr.forms.kidsDesc || 'Th√™m d·ªãch v·ª• ho·∫∑c s·∫£n ph·∫©m cho tr·∫ª em.' },
                'submit-marketplace': { title: 'üõçÔ∏è ' + (tr.forms.addMarketplace || 'ƒêƒÉng tin ch·ª£ ƒë·ªì'), desc: tr.forms.marketplaceDesc || 'B√°n ho·∫∑c trao ƒë·ªïi ƒë·ªì d√πng.' },
                'submit-visas': { title: 'üèñÔ∏è ' + (tr.forms.addVisa || 'Th√™m d·ªãch v·ª• visa'), desc: tr.forms.visaDesc || 'Th√™m th√¥ng tin visa run.' },
                'submit-photosession': { title: 'üì∑ ' + (tr.forms.addPhoto || 'ƒêƒÉng d·ªãch v·ª• ch·ª•p ·∫£nh'), desc: tr.forms.photoDesc || 'Th√™m d·ªãch v·ª• ch·ª•p ·∫£nh.' },
                'submit-medicine': { title: 'üè• ' + (tr.forms.addMedicine || 'Th√™m d·ªãch v·ª• y t·∫ø'), desc: tr.forms.medicineDesc || 'Th√™m th√¥ng tin y t·∫ø, b√°c sƒ©, ph√≤ng kh√°m.' },
                'submit-tour': { title: 'üß≥ ' + (tr.forms.addTour || 'Th√™m tour du l·ªãch'), desc: tr.forms.tourDesc || 'ƒêƒÉng tour ho·∫∑c d·ªãch v·ª• du l·ªãch.' },
                'submit-transport': { title: 'üèçÔ∏è ' + (tr.forms.addTransport || 'Th√™m ph∆∞∆°ng ti·ªán'), desc: tr.forms.transportDesc || 'ƒêƒÉng xe m√°y, √¥ t√¥ cho thu√™ ho·∫∑c b√°n.' },
                'submit-entertainment': { title: 'üéâ ' + (tr.forms.addEntertainment || 'Th√™m gi·∫£i tr√≠'), desc: tr.forms.entertainmentDesc || 'Th√™m ho·∫°t ƒë·ªông gi·∫£i tr√≠.' },
                'submit-restaurant': { title: 'üçΩÔ∏è ' + (tr.forms.addRestaurant || 'Th√™m nh√† h√†ng'), desc: tr.forms.restaurantDesc || 'ƒêƒÉng nh√† h√†ng, qu√°n ƒÉn.' },
                'submit-kids': { title: 'üë∂ ' + (tr.forms.addKids || 'Th√™m d·ªãch v·ª• tr·∫ª em'), desc: tr.forms.kidsDesc || 'Th√™m d·ªãch v·ª• cho tr·∫ª em.' },
                'submit-listing': { title: isVi ? 'üìù ƒêƒÉng tin' : (isEn ? 'üìù Submit Listing' : 'üìù –ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ'), desc: isVi ? 'Th√™m tin ƒëƒÉng c·ªßa b·∫°n. Sau khi ki·ªÉm duy·ªát, tin s·∫Ω xu·∫•t hi·ªán tr√™n trang.' : (isEn ? 'Add your listing. After moderation, it will appear on the site.' : '–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏–µ. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.') },
                'submit-realestate': { title: isVi ? 'üè† ƒêƒÉng b·∫•t ƒë·ªông s·∫£n' : (isEn ? 'üè† Submit Real Estate' : 'üè† –ü–æ–¥–∞—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å'), desc: isVi ? 'Th√™m tin b·∫•t ƒë·ªông s·∫£n. Sau khi ki·ªÉm duy·ªát, tin s·∫Ω xu·∫•t hi·ªán tr√™n trang.' : (isEn ? 'Add your real estate listing. After moderation, it will appear on the site.' : '–î–æ–±–∞–≤—å—Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.') }
            };
            
            // –ü–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö —Ñ–æ—Ä–º
            Object.keys(formHeaders).forEach(formId => {
                const form = document.getElementById(formId);
                if (!form) return;
                
                const header = form.previousElementSibling || form.closest('.content')?.querySelector('div > h2')?.parentElement;
                if (header) {
                    const h2 = header.querySelector('h2');
                    const p = header.querySelector('p');
                    if (h2 && formHeaders[formId]) h2.textContent = formHeaders[formId].title;
                    if (p && formHeaders[formId]) p.textContent = formHeaders[formId].desc;
                }
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö label –≤ —Ñ–æ—Ä–º–∞—Ö
            document.querySelectorAll('form[id^="submit-"] label').forEach(lbl => {
                const txt = lbl.textContent.toLowerCase().trim();
                for (const [key, value] of Object.entries(labelTranslations)) {
                    if (txt.includes(key)) {
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —ç–º–æ–¥–∑–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
                        const emoji = lbl.textContent.match(/^[\p{Emoji}]/u)?.[0] || '';
                        lbl.textContent = emoji ? emoji + ' ' + value.replace(/^[\p{Emoji}]\s*/u, '') : value;
                        break;
                    }
                }
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ –∫–Ω–æ–ø–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
            document.querySelectorAll('form[id^="submit-"] button[type="submit"]').forEach(btn => {
                btn.textContent = tr.forms.submitBtn;
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ placeholder –æ—Ç–≤–µ—Ç–∞ –∫–∞–ø—á–∏
            document.querySelectorAll('input[id$="-captcha"]').forEach(inp => {
                inp.placeholder = tr.forms.captchaAnswer;
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö placeholders –≤ —Ñ–æ—Ä–º–∞—Ö
            const placeholderTranslations = {
                '–Ω–∞–ø—Ä–∏–º–µ—Ä': isVi ? 'V√≠ d·ª•' : (isEn ? 'Example' : '–ù–∞–ø—Ä–∏–º–µ—Ä'),
                '–ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ': isVi ? 'M√¥ t·∫£ chi ti·∫øt...' : (isEn ? 'Detailed description...' : '–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...'),
                '–≤–∞—à–µ –∏–º—è': isVi ? 'T√™n c·ªßa b·∫°n' : (isEn ? 'Your name' : '–í–∞—à–µ –∏–º—è'),
                '—Ü–µ–Ω—Ç—Ä': isVi ? 'Trung t√¢m, g·∫ßn bi·ªÉn...' : (isEn ? 'Center, near the beach...' : '–¶–µ–Ω—Ç—Ä, —É –º–æ—Ä—è...'),
                '—Å–æ—Å—Ç–æ—è–Ω–∏–µ': isVi ? 'T√¨nh tr·∫°ng, s·ªë km...' : (isEn ? 'Condition, mileage...' : '–°–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–æ–±–µ–≥...'),
                '–æ—Ç–≤–µ—Ç': isVi ? 'Tr·∫£ l·ªùi' : (isEn ? 'Answer' : '–û—Ç–≤–µ—Ç'),
                '—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É': isVi ? 'Sao ch√©p li√™n k·∫øt t·ª´ Google Maps' : (isEn ? 'Copy link from Google Maps' : '–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps')
            };
            
            document.querySelectorAll('form[id^="submit-"] input[placeholder], form[id^="submit-"] textarea[placeholder]').forEach(el => {
                const ph = el.placeholder.toLowerCase();
                for (const [key, value] of Object.entries(placeholderTranslations)) {
                    if (ph.includes(key)) {
                        el.placeholder = value;
                        break;
                    }
                }
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ select options –≤ —Ñ–æ—Ä–º–∞—Ö
            const optionTranslations = {
                '–≤—ã–±–µ—Ä–∏—Ç–µ': isVi ? 'Ch·ªçn...' : (isEn ? 'Select...' : '–í—ã–±–µ—Ä–∏—Ç–µ...'),
                '–º–æ—Ç–æ—Ü–∏–∫–ª': isVi ? 'üèçÔ∏è Xe m√°y' : (isEn ? 'üèçÔ∏è Motorbike' : 'üèçÔ∏è –ú–æ—Ç–æ—Ü–∏–∫–ª'),
                '–∞–≤—Ç–æ': isVi ? 'üöó √î t√¥' : (isEn ? 'üöó Car' : 'üöó –ê–≤—Ç–æ'),
                '–≤–µ–ª–æ—Å–∏–ø–µ–¥': isVi ? 'üö≤ Xe ƒë·∫°p' : (isEn ? 'üö≤ Bicycle' : 'üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥'),
                '—è—Ö—Ç–∞': isVi ? '‚õµ Du thuy·ªÅn' : (isEn ? '‚õµ Yacht' : '‚õµ –Ø—Ö—Ç–∞'),
                '–ø—Ä–æ–¥–∞–∂–∞': isVi ? 'B√°n' : (isEn ? 'Sale' : '–ü—Ä–æ–¥–∞–∂–∞'),
                '–∞—Ä–µ–Ω–¥–∞': isVi ? 'Thu√™' : (isEn ? 'Rent' : '–ê—Ä–µ–Ω–¥–∞'),
                '–∫–∞–º–±–æ–¥–∂–∞': isVi ? 'üá∞üá≠ Campuchia' : (isEn ? 'üá∞üá≠ Cambodia' : 'üá∞üá≠ –ö–∞–º–±–æ–¥–∂–∞'),
                '–ª–∞–æ—Å': isVi ? 'üá±üá¶ L√†o' : (isEn ? 'üá±üá¶ Laos' : 'üá±üá¶ –õ–∞–æ—Å'),
                '—Ä–æ—Å—Å–∏—è': isVi ? 'üá∑üá∫ Nga' : (isEn ? 'üá∑üá∫ Russia' : 'üá∑üá∫ –†–æ—Å—Å–∏—è'),
                '–∫–∞–∑–∞—Ö—Å—Ç–∞–Ω': isVi ? 'üá∞üáø Kazakhstan' : (isEn ? 'üá∞üáø Kazakhstan' : 'üá∞üáø –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω'),
                '45 –¥–Ω–µ–π': isVi ? '45 ng√†y' : (isEn ? '45 days' : '45 –¥–Ω–µ–π'),
                '90 –¥–Ω–µ–π': isVi ? '90 ng√†y' : (isEn ? '90 days' : '90 –¥–Ω–µ–π'),
                '–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è': isVi ? 'üéâ S·ª± ki·ªán' : (isEn ? 'üéâ Events' : 'üéâ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è'),
                '–Ω—è–Ω–∏': isVi ? 'üë©‚Äçüëß Tr√¥ng tr·∫ª' : (isEn ? 'üë©‚Äçüëß Nannies' : 'üë©‚Äçüëß –ù—è–Ω–∏'),
                '—à–∫–æ–ª—ã': isVi ? 'üè´ Tr∆∞·ªùng h·ªçc' : (isEn ? 'üè´ Schools' : 'üè´ –®–∫–æ–ª—ã'),
                '—Ç–æ–≤–∞—Ä—ã': isVi ? 'üß∏ ƒê·ªì ch∆°i' : (isEn ? 'üß∏ Kindergartens' : 'üß∏ –î–µ—Ç—Å–∫–∏–µ —Å–∞–¥—ã'),
                '—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞': isVi ? 'üì± ƒêi·ªán t·ª≠' : (isEn ? 'üì± Electronics' : 'üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞'),
                '–æ–¥–µ–∂–¥–∞': isVi ? 'üëï Qu·∫ßn √°o' : (isEn ? 'üëï Clothing' : 'üëï –û–¥–µ–∂–¥–∞'),
                '–º–µ–±–µ–ª—å': isVi ? 'ü™ë N·ªôi th·∫•t' : (isEn ? 'ü™ë Furniture' : 'ü™ë –ú–µ–±–µ–ª—å'),
                '–æ—Ç–¥–∞–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ': isVi ? 'üÜì Mi·ªÖn ph√≠' : (isEn ? 'üÜì Free' : 'üÜì –û—Ç–¥–∞–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ'),
                '–≤–æ–ø—Ä–æ—Å—ã': isVi ? '‚ùì C√¢u h·ªèi' : (isEn ? '‚ùì Questions' : '‚ùì –í–æ–ø—Ä–æ—Å—ã'),
                '–∫–ª–∏–Ω–∏–∫–∏': isVi ? 'üè• Ph√≤ng kh√°m' : (isEn ? 'üè• Clinics' : 'üè• –ö–ª–∏–Ω–∏–∫–∏'),
                '–≤—Ä–∞—á–∏': isVi ? 'üë®‚Äç‚öïÔ∏è B√°c sƒ©' : (isEn ? 'üë®‚Äç‚öïÔ∏è Doctors' : 'üë®‚Äç‚öïÔ∏è –í—Ä–∞—á–∏'),
                '—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞': isVi ? 'üìã B·∫£o hi·ªÉm' : (isEn ? 'üìã Insurance' : 'üìã –°—Ç—Ä–∞—Ö–æ–≤–∫–∞'),
                '–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è': isVi ? 'üî¨ Chuy√™n khoa' : (isEn ? 'üî¨ Specializations' : 'üî¨ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è')
            };
            
            document.querySelectorAll('form[id^="submit-"] select option').forEach(opt => {
                const txt = opt.textContent.toLowerCase().trim();
                for (const [key, value] of Object.entries(optionTranslations)) {
                    if (txt.includes(key)) {
                        opt.textContent = value;
                        break;
                    }
                }
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥ —á–µ–∫–±–æ–∫—Å–æ–≤ –∏ radio labels
            document.querySelectorAll('form[id^="submit-"] label').forEach(lbl => {
                if (lbl.querySelector('input[type="checkbox"]') || lbl.querySelector('input[type="radio"]')) {
                    const txt = lbl.textContent.toLowerCase();
                    if (txt.includes('–ø—Ä–æ–¥–∞–∂–∞') || txt.includes('sale')) {
                        const inp = lbl.querySelector('input');
                        lbl.innerHTML = '';
                        if (inp) lbl.appendChild(inp);
                        lbl.appendChild(document.createTextNode(' ' + (isVi ? 'B√°n' : (isEn ? 'Sale' : '–ü—Ä–æ–¥–∞–∂–∞'))));
                    } else if (txt.includes('–∞—Ä–µ–Ω–¥–∞') || txt.includes('rent')) {
                        const inp = lbl.querySelector('input');
                        lbl.innerHTML = '';
                        if (inp) lbl.appendChild(inp);
                        lbl.appendChild(document.createTextNode(' ' + (isVi ? 'Thu√™' : (isEn ? 'Rent' : '–ê—Ä–µ–Ω–¥–∞'))));
                    }
                }
            });
        }
        
        let translationCache = {};
        
        async function translateVisibleCards(lang = currentLang) {
            console.log('translateVisibleCards called, lang:', lang);
            if (lang === 'ru') return;
            
            // –ò—â–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–ª—å–∫–æ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö grid-–∞—Ö —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ (–Ω–µ –≥–æ—Ä–æ–¥—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏)
            const activeContent = document.querySelector('.content.active');
            if (!activeContent) {
                console.log('No active content found');
                return;
            }
            
            const grids = activeContent.querySelectorAll('[id$="-grid"]');
            let cards = [];
            grids.forEach(grid => {
                // –ò—â–µ–º listing-card (–æ–±—ä—è–≤–ª–µ–Ω–∏—è) –∏ card (—Å—Ç–∞—Ä—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏)
                const listingCards = grid.querySelectorAll('.listing-card, .card');
                listingCards.forEach(c => {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å h3 –∏ p
                    if (c.querySelector('h3') && c.querySelector('p')) {
                        cards.push(c);
                    }
                });
            });
            
            console.log('Found listing cards:', cards.length);
            if (cards.length === 0) return;
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 30 –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
            cards = cards.slice(0, 30);
            
            const textsToTranslate = [];
            const cardElements = [];
            
            cards.forEach(card => {
                // –ü–µ—Ä–µ–≤–æ–¥–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ h3
                const titleEl = card.querySelector('h3');
                if (titleEl && titleEl.textContent.trim()) {
                    const originalText = titleEl.getAttribute('data-original') || titleEl.textContent;
                    titleEl.setAttribute('data-original', originalText);
                    const cacheKey = `${originalText.substring(0,100)}:${lang}`;
                    if (translationCache[cacheKey]) {
                        titleEl.textContent = translationCache[cacheKey];
                    } else {
                        textsToTranslate.push(originalText.substring(0, 300));
                        cardElements.push({el: titleEl, original: originalText});
                    }
                }
                
                // –ü–µ—Ä–µ–≤–æ–¥–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ p (—Ç–æ–ª—å–∫–æ .card-info p –∏–ª–∏ –ø—Ä—è–º–æ–π p –≤ card)
                const descEl = card.querySelector('.card-info p') || card.querySelector('p');
                if (descEl && descEl.textContent.trim() && descEl.textContent.length > 20) {
                    const originalText = descEl.getAttribute('data-original') || descEl.textContent;
                    descEl.setAttribute('data-original', originalText);
                    const cacheKey = `${originalText.substring(0,100)}:${lang}`;
                    if (translationCache[cacheKey]) {
                        descEl.textContent = translationCache[cacheKey];
                    } else {
                        textsToTranslate.push(originalText.substring(0, 500));
                        cardElements.push({el: descEl, original: originalText});
                    }
                }
            });
            
            console.log('Texts to translate:', textsToTranslate.length);
            if (textsToTranslate.length === 0) {
                console.log('All texts cached, skipping API call');
                return;
            }
            
            const batchSize = 20;
            for (let i = 0; i < textsToTranslate.length; i += batchSize) {
                const batch = textsToTranslate.slice(i, i + batchSize);
                const batchCards = cardElements.slice(i, i + batchSize);
                
                try {
                    console.log('Sending batch for translation:', batch.length);
                    const response = await fetch('/api/translate', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({texts: batch, lang: lang})
                    });
                    
                    console.log('Translate API response status:', response.status);
                    if (response.ok) {
                        const data = await response.json();
                        console.log('Got translations:', data.translations?.length);
                        data.translations.forEach((translated, idx) => {
                            if (batchCards[idx]) {
                                batchCards[idx].el.textContent = translated;
                                const cacheKey = `${batchCards[idx].original.substring(0,100)}:${lang}`;
                                translationCache[cacheKey] = translated;
                            }
                        });
                    } else {
                        console.log('Translation failed:', response.status, await response.text());
                    }
                } catch (e) {
                    console.log('Translation error:', e);
                }
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('goldantelope_lang');
            if (savedLang && ['ru', 'en', 'vi'].includes(savedLang)) {
                switchLang(savedLang);
            }
        });
        
        const countryConfig = {
            'vietnam': { pair: 'USDT/VND', rubPair: 'VND/RUB', currency: 'VND' },
            'thailand': { pair: 'USDT/THB', rubPair: 'THB/RUB', currency: 'THB' },
            'india': { pair: 'USDT/INR', rubPair: 'INR/RUB', currency: 'INR' },
            'indonesia': { pair: 'USDT/IDR', rubPair: 'IDR/RUB', currency: 'IDR' }
        };
        
        function changeBanner(direction) {
            const banners = typeof getCurrentBanners === 'function' ? getCurrentBanners() : (bannerConfig[currentCountry] || []);
            if (banners.length <= 1) return;
            let currentIdx = countryConfig[currentCountry].currentBanner || 0;
            currentIdx = (currentIdx + direction + banners.length) % banners.length;
            countryConfig[currentCountry].currentBanner = currentIdx;
            if (typeof updateBanner === 'function') updateBanner();
        }
        
        function switchTab(tabName) {
            window.currentSubcategory = null;
            document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            let contentEl = document.getElementById(tabName);
            if (contentEl) contentEl.classList.add('active');
            let tabBtn = document.querySelector(`[data-tab="${tabName}"]`);
            if (tabBtn) tabBtn.classList.add('active');
            if (tabName === 'stats') { if(typeof loadStats==='function') loadStats(); }
            else if (tabName === 'chat') { if(typeof loadChatFeed==='function') loadChatFeed(); }
            else if (tabName === 'settings') { if(typeof loadKidsFeed==='function') loadKidsFeed(); if(typeof loadKidsCounts==='function') loadKidsCounts(); }
            else if (tabName === 'submit-kids') { if(typeof loadKidsCaptcha==='function') loadKidsCaptcha(); }
            else if (tabName === 'submit-medicine') { if(typeof loadMedicineCaptcha==='function') loadMedicineCaptcha(); }
            else if (tabName === 'submit-exchange') { if(typeof loadExchangeCaptcha==='function') loadExchangeCaptcha(); }
            else if (tabName === 'submit-children') { if(typeof loadChildrenCaptcha==='function') loadChildrenCaptcha(); }
            else if (tabName === 'submit-marketplace') { if(typeof loadMarketplaceCaptcha==='function') loadMarketplaceCaptcha(); }
            else if (tabName === 'submit-visas') { if(typeof loadVisasCaptcha==='function') loadVisasCaptcha(); }
            else if (tabName === 'visas') { 
                const visasCountries = ['vietnam', 'thailand', 'india', 'indonesia'];
                visasCountries.forEach(c => {
                    const btn = document.getElementById(`${c}-visas-buttons`);
                    if (btn) btn.style.display = (currentCountry === c) ? 'block' : 'none';
                });
                if(typeof applyVisasFilters==='function') applyVisasFilters(); 
                loadVisasCounts(); 
            }
            else if (tabName === 'submit-photosession') { if(typeof loadPhotoshootCaptcha==='function') loadPhotoshootCaptcha(); }
            else if (tabName === 'realestate') { if(typeof loadRealEstateCounts==='function') loadRealEstateCounts(); if(typeof loadListings==='function') loadListings('real_estate'); }
            else if (tabName === 'transport') { if(typeof updateTransportCounts==='function') updateTransportCounts(); if(typeof loadListings==='function') loadListings('transport', currentTransportType); }
            else if (tabName === 'entertainment') { 
                if(document.getElementById('vietnam-entertainment-buttons')) document.getElementById('vietnam-entertainment-buttons').style.display = 'block';
                if(typeof loadListings==='function') loadListings('entertainment'); 
            }
            else { let category = tabName === 'realestate' ? 'real_estate' : tabName; if(typeof loadListings==='function') loadListings(category); }
        }

        function renderListingCard(item, category) {
            try {
            let channelName = (item.source_channel || '').replace('@', '');
            let tgLink = item.message_id && channelName ? `https://t.me/${channelName}/${item.message_id}` : null;
            
            // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ñ–æ—Ç–æ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª–µ–π
            let images = item.all_images || item.photos || [];
            if (images.length === 0) {
                if (item.image_url) images.push(item.image_url);
                if (item.image_url_2) images.push(item.image_url_2);
                if (item.image_url_3) images.push(item.image_url_3);
                if (item.image_url_4) images.push(item.image_url_4);
                if (images.length === 0 && item.photo_url) images.push(item.photo_url);
            }
            // –î–æ–±–∞–≤–ª—è–µ–º timestamp –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞
            const cacheBuster = Date.now();
            images = images.map(url => url + (url.includes('?') ? '&' : '?') + '_t=' + cacheBuster);
            
            let badgesHtml = '';
            if (category === 'visas') {
                badgesHtml = `<div style="position:absolute;top:8px;left:8px;display:flex;gap:8px;z-index:10;flex-wrap:wrap;">
                    ${item.destination ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">üó∫ ${item.destination}</span>` : ''}
                    ${item.price ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">üí∞ ${item.price}</span>` : ''}
                    ${item.citizenship ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">ü™™ ${item.citizenship}</span>` : ''}
                    ${item.city ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">üìç ${item.city}</span>` : ''}
                </div>`;
            } else if (category === 'medicine') {
                badgesHtml = `<div style="position:absolute;top:8px;left:8px;display:flex;gap:8px;z-index:10;flex-wrap:wrap;">
                    ${item.medicine_type ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">üíä ${item.medicine_type}</span>` : ''}
                    ${item.city ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">üìç ${item.city}</span>` : ''}
                </div>`;
            }
            
            let adminBtnsHtml = '';
            if (adminAuthenticated) {
                let editFunc = category === 'medicine' ? 'openMedicinePhotoEdit' : (category === 'visas' ? 'openVisasPhotoEdit' : 'openEditModal');
                adminBtnsHtml = `<div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                    <button onclick="${editFunc}('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è</button>
                    <button onclick="openDeleteModal('${item.id}', '${category}')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                </div>`;
            }
            
            let sliderHtml = '';
            if (images.length > 1) {
                sliderHtml = `<div class="card-slider" style="position:relative;height:180px;overflow:hidden;border-radius:12px 12px 0 0;">
                    ${badgesHtml}
                    ${adminBtnsHtml}
                    <div class="slides" style="display:flex;transition:transform 0.3s;height:100%;">
                        ${images.map(img => `<img src="${img}" style="min-width:100%;height:180px;object-fit:cover;">`).join('')}
                    </div>
                    <button class="slide-btn prev" onclick="event.stopPropagation();slideCard(this,-1)" style="position:absolute;left:5px;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:white;border:none;width:28px;height:28px;border-radius:50%;cursor:pointer;">‚Äπ</button>
                    <button class="slide-btn next" onclick="event.stopPropagation();slideCard(this,1)" style="position:absolute;right:5px;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:white;border:none;width:28px;height:28px;border-radius:50%;cursor:pointer;">‚Ä∫</button>
                </div>`;
            } else if (images.length === 1) {
                sliderHtml = `<div style="position:relative;height:180px;overflow:hidden;border-radius:12px 12px 0 0;">
                    ${badgesHtml}
                    ${adminBtnsHtml}
                    <img src="${images[0]}" style="width:100%;height:180px;object-fit:cover;">
                </div>`;
            } else {
                sliderHtml = `<div style="position:relative;height:120px;background:linear-gradient(135deg,#00BCD4 0%,#0097A7 100%);border-radius:12px 12px 0 0;display:flex;align-items:center;justify-content:center;">
                    ${badgesHtml}
                    ${adminBtnsHtml}
                    <span style="font-size:48px;opacity:0.3;">üèñÔ∏è</span>
                </div>`;
            }
            
            let title = item.title || item.name || '–û–±—ä—è–≤–ª–µ–Ω–∏–µ';
            let desc = item.description || item.text || '';
            let dateStr = item.date ? new Date(item.date).toLocaleDateString('ru-RU') : (item.created_at ? new Date(item.created_at).toLocaleDateString('ru-RU') : '');
            
            let contactsHtml = '';
            if (category === 'visas') {
                let tgUsername = item.telegram || channelName || '';
                let tgContactLink = tgUsername ? `https://t.me/${tgUsername.replace('@','').replace('https://t.me/','')}` : tgLink;
                contactsHtml = `
                    <div style="margin-top:auto;padding-top:12px;border-top:1px solid #eee;">
                        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:10px;">
                            <div style="background:#f5f5f5;padding:8px;border-radius:6px;text-align:center;">
                                <div style="font-size:11px;color:#888;">üìÖ –î–∞—Ç–∞</div>
                                <div style="font-size:13px;font-weight:600;color:#333;">${dateStr || '-'}</div>
                            </div>
                            <div style="background:#fff3e0;padding:8px;border-radius:6px;text-align:center;">
                                <div style="font-size:11px;color:#888;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç</div>
                                <div style="font-size:12px;font-weight:600;color:#e65100;">${item.contact_name || item.contact || channelName || '-'}</div>
                            </div>
                        </div>
                        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
                            <a href="${item.whatsapp ? 'https://wa.me/' + item.whatsapp.replace(/[^0-9]/g,'') : '#'}" target="_blank" onclick="event.stopPropagation()" style="background:#ccc;color:white;padding:10px;border-radius:6px;text-align:center;text-decoration:none;font-weight:600;font-size:13px;">üí¨ WhatsApp</a>
                            <a href="${tgContactLink || '#'}" target="_blank" onclick="event.stopPropagation()" style="background:#ccc;color:white;padding:10px;border-radius:6px;text-align:center;text-decoration:none;font-weight:600;font-size:13px;">‚úàÔ∏è Telegram</a>
                        </div>
                    </div>`;
            } else if (category === 'medicine') {
                let tgUsername = item.telegram || channelName || '';
                let tgContactLink = tgUsername ? `https://t.me/${tgUsername.replace('@','').replace('https://t.me/','')}` : tgLink;
                contactsHtml = `
                    <div style="margin-top:auto;padding-top:12px;border-top:1px solid #eee;">
                        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:10px;">
                            <div style="background:#f5f5f5;padding:8px;border-radius:6px;text-align:center;">
                                <div style="font-size:11px;color:#888;">üìÖ –î–∞—Ç–∞</div>
                                <div style="font-size:13px;font-weight:600;color:#333;">${dateStr || '-'}</div>
                            </div>
                            <div style="background:#fff3e0;padding:8px;border-radius:6px;text-align:center;">
                                <div style="font-size:11px;color:#888;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç</div>
                                <div style="font-size:12px;font-weight:600;color:#e65100;">${item.contact_name || item.contact || channelName || '-'}</div>
                            </div>
                        </div>
                        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
                            <a href="${item.whatsapp ? 'https://wa.me/' + item.whatsapp.replace(/[^0-9]/g,'') : '#'}" target="_blank" onclick="event.stopPropagation()" style="background:${item.whatsapp ? '#25D366' : '#ccc'};color:white;padding:10px;border-radius:6px;text-align:center;text-decoration:none;font-weight:600;font-size:13px;">üí¨ WhatsApp</a>
                            <a href="${tgContactLink || '#'}" target="_blank" onclick="event.stopPropagation()" style="background:${tgContactLink ? '#0088cc' : '#ccc'};color:white;padding:10px;border-radius:6px;text-align:center;text-decoration:none;font-weight:600;font-size:13px;">‚úàÔ∏è Telegram</a>
                        </div>
                    </div>`;
            }
            
            return `<div class="listing-card" data-id="${item.id || ''}" data-category="${category}" style="background:white;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1);overflow:hidden;display:flex;flex-direction:column;">
                ${sliderHtml}
                <div style="padding:14px;flex:1;display:flex;flex-direction:column;">
                    <h3 style="margin:0 0 10px 0;font-size:16px;font-weight:700;color:#333;line-height:1.3;">${title}</h3>
                    <p style="margin:0;font-size:13px;color:#555;line-height:1.5;white-space:pre-wrap;">${desc}</p>
                    ${contactsHtml}
                </div>
            </div>`;
            } catch(e) {
                console.error('renderListingCard error:', e, 'item:', item);
                return `<div style="background:#fff;border-radius:12px;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1);">
                    <p style="color:#333;">${item.title || item.name || '–û–±—ä—è–≤–ª–µ–Ω–∏–µ'}</p>
                    <p style="color:#666;font-size:13px;">${(item.description || item.text || '').substring(0,100)}...</p>
                </div>`;
            }
        }

        function slideCard(btn, dir) {
            const slider = btn.closest('.card-slider');
            if (!slider) return;
            const slides = slider.querySelector('.slides');
            const imgs = slides.querySelectorAll('img');
            if (imgs.length <= 1) return;
            const w = slider.offsetWidth;
            let idx = parseInt(slides.dataset.idx || 0);
            idx = (idx + dir + imgs.length) % imgs.length;
            slides.dataset.idx = idx;
            slides.style.transform = `translateX(-${idx * w}px)`;
        }

        function slideSlider(slider, dir) {
            const slides = slider.querySelector('.slides');
            const imgs = slides.querySelectorAll('img');
            if (imgs.length <= 1) return;
            const w = slider.offsetWidth;
            let idx = parseInt(slides.dataset.idx || 0);
            idx = (idx + dir + imgs.length) % imgs.length;
            slides.dataset.idx = idx;
            slides.style.transform = `translateX(-${idx * w}px)`;
        }

        function initSwipeListeners() {
            document.addEventListener('touchstart', function(e) {
                const slider = e.target.closest('.card-slider');
                if (!slider) return;
                slider.dataset.touchStartX = e.touches[0].clientX;
                slider.dataset.touchStartY = e.touches[0].clientY;
            }, { passive: true });

            document.addEventListener('touchend', function(e) {
                const slider = e.target.closest('.card-slider');
                if (!slider || !slider.dataset.touchStartX) return;
                const startX = parseFloat(slider.dataset.touchStartX);
                const startY = parseFloat(slider.dataset.touchStartY);
                const endX = e.changedTouches[0].clientX;
                const endY = e.changedTouches[0].clientY;
                const diffX = startX - endX;
                const diffY = startY - endY;
                if (Math.abs(diffX) > 50 && Math.abs(diffX) > Math.abs(diffY)) {
                    if (diffX > 0) {
                        slideSlider(slider, 1);
                    } else {
                        slideSlider(slider, -1);
                    }
                }
                delete slider.dataset.touchStartX;
                delete slider.dataset.touchStartY;
            }, { passive: true });
        }

        initSwipeListeners();

        async function loadCityCounts(category, btnClass) {
            try {
                const r = await fetch(`/api/city-counts/${category}?country=${currentCountry}`);
                const counts = await r.json();
                const tr = translations[currentLang];
                document.querySelectorAll(btnClass).forEach(btn => {
                    const city = btn.dataset.city;
                    if (city && counts[city] !== undefined) {
                        const countEl = btn.querySelector('.tour-count');
                        if (countEl) {
                            const num = counts[city];
                            let word = tr.filters.listings || '–æ–±—ä—è–≤–ª–µ–Ω–∏–π';
                            // –†—É—Å—Å–∫–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞ –¥–ª—è —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö
                            if (currentLang === 'ru') {
                                if (num % 10 === 1 && num % 100 !== 11) word = '–æ–±—ä—è–≤–ª–µ–Ω–∏–µ';
                                else if ([2,3,4].includes(num % 10) && ![12,13,14].includes(num % 100)) word = '–æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                            }
                            countEl.textContent = `${num} ${word}`;
                        }
                    }
                });
            } catch(e) { console.error('Error loading city counts:', e); }
        }
        
        function updateAllCityCounts() {
            if (currentCountry === 'vietnam') {
                loadCityCounts('entertainment', '.entertainment-city-btn');
                loadCityCounts('restaurants', '.restaurant-city-btn');
                loadCityCounts('tours', '.tours-city-btn');
                loadCityCounts('real_estate', '.realestate-city-btn');
                loadCityCounts('news', '.news-city-btn');
                loadMedicineTypeCounts();
            }
        }
        
        async function loadMedicineTypeCounts() {
            try {
                const r = await fetch(`/api/medicine-type-counts?country=${currentCountry}`);
                const counts = await r.json();
                const tr = translations[currentLang];
                document.querySelectorAll('.medicine-type-btn').forEach(btn => {
                    const type = btn.dataset.type;
                    if (type && counts[type] !== undefined) {
                        const countEl = btn.querySelector('.tour-count');
                        if (countEl) {
                            const num = counts[type];
                            let word = tr.filters.listings || '–æ–±—ä—è–≤–ª–µ–Ω–∏–π';
                            if (currentLang === 'ru') {
                                if (num % 10 === 1 && num % 100 !== 11) word = '–æ–±—ä—è–≤–ª–µ–Ω–∏–µ';
                                else if ([2,3,4].includes(num % 10) && ![12,13,14].includes(num % 100)) word = '–æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                            }
                            countEl.textContent = `${num} ${word}`;
                        }
                    }
                });
            } catch(e) { console.error('Error loading medicine type counts:', e); }
        }
        
        async function loadBanners() {
            try {
                console.log('Loading banners...');
                const r = await fetch('/api/banners');
                bannerConfig = await r.json();
                console.log('Banner config loaded:', bannerConfig);
                
                // Normalize to new format if needed and preload all banners
                for (const country in bannerConfig) {
                    if (bannerConfig[country]) {
                        const countryData = bannerConfig[country];
                        // If old format (array), convert to new format
                        if (Array.isArray(countryData)) {
                            bannerConfig[country] = { web: countryData, mobile: [] };
                        }
                        // Preload web and mobile banners
                        const webBanners = bannerConfig[country].web || [];
                        const mobileBanners = bannerConfig[country].mobile || [];
                        [...webBanners, ...mobileBanners].forEach(src => {
                            const img = new Image();
                            img.src = src;
                        });
                    }
                }
                
                updateBanner();
                if (adminAuthenticated) {
                    renderAdminBanners();
                    switchBannerTab(currentBannerTab);
                }
            } catch (e) {
                console.error('Error loading banners:', e);
            }
        }

        function isMobileDevice() {
            const isTelegramWebApp = window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initData;
            const isMobileUA = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const isSmallScreen = window.innerWidth <= 768;
            return isTelegramWebApp || isMobileUA || isSmallScreen;
        }
        
        function getCurrentBanners() {
            const countryData = bannerConfig[currentCountry] || {};
            // Handle old array format
            if (Array.isArray(countryData)) {
                return countryData;
            }
            const bannerType = isMobileDevice() ? 'mobile' : 'web';
            let banners = countryData[bannerType] || [];
            // Fallback to other type if current type has no banners
            if (banners.length === 0) {
                banners = countryData['web'] || countryData['mobile'] || [];
            }
            return banners;
        }
        
        function updateBanner() {
            const banners = getCurrentBanners();
            const banner = document.getElementById('banner');
            if (!banner) return;
            
            const navs = banner.querySelectorAll('.banner-nav');
            
            if (banners.length > 0) {
                if (countryConfig[currentCountry].currentBanner === undefined) countryConfig[currentCountry].currentBanner = 0;
                let currentIdx = countryConfig[currentCountry].currentBanner;
                
                if (currentIdx >= banners.length) {
                    currentIdx = 0;
                    countryConfig[currentCountry].currentBanner = 0;
                }

                navs.forEach(nav => nav.style.display = banners.length > 1 ? 'flex' : 'none');

                const imgUrl = banners[currentIdx];
                const bannerImg = document.getElementById('banner-img');
                if (bannerImg) {
                    bannerImg.src = imgUrl;
                }
                banner.style.display = 'block';
                
                banner.onclick = (e) => {
                    if (!e.target.classList.contains('banner-nav')) {
                        if (typeof changeBanner === 'function') changeBanner(1);
                    }
                };
            } else {
                banner.style.display = 'none';
            }
        }

        setInterval(() => {
            const banners = getCurrentBanners();
            if (banners.length > 1) {
                const currentIdx = countryConfig[currentCountry].currentBanner || 0;
                const nextIdx = (currentIdx + 1) % banners.length;
                countryConfig[currentCountry].currentBanner = nextIdx;
                updateBanner();
            }
        }, 10000);

        function switchCountry(country) {
            // –ï—Å–ª–∏ –∞–¥–º–∏–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –æ–Ω –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ —Å–≤–æ–µ–π —Å—Ç—Ä–∞–Ω–æ–π (–∫—Ä–æ–º–µ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞)
            if (adminAuthenticated && adminCountry && adminCountry !== 'all' && country !== adminCountry) {
                const countryNames = {
                    'vietnam': 'üáªüá≥ –í—å–µ—Ç–Ω–∞–º',
                    'thailand': 'üáπüá≠ –¢–∞–∏–ª–∞–Ω–¥',
                    'india': 'üáÆüá≥ –ò–Ω–¥–∏—è',
                    'indonesia': 'üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è'
                };
                alert('–í—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –∞–¥–º–∏–Ω ' + countryNames[adminCountry] + '. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω–æ–π –≤—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å –¥—Ä—É–≥–∏–º –ø–∞—Ä–æ–ª–µ–º.');
                return;
            }
            
            currentCountry = country;
            document.querySelectorAll('.country-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('onclick').includes(country));
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –í—å–µ—Ç–Ω–∞–º–∞ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω
            const isVietnam = (country === 'vietnam');
            if (document.getElementById('vietnam-entertainment-buttons'))
                document.getElementById('vietnam-entertainment-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-realestate-buttons'))
                document.getElementById('vietnam-realestate-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-tours-buttons'))
                document.getElementById('vietnam-tours-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-transport-buttons'))
                document.getElementById('vietnam-transport-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-restaurants-buttons'))
                document.getElementById('vietnam-restaurants-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-visas-buttons'))
                document.getElementById('vietnam-visas-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-news-buttons'))
                document.getElementById('vietnam-news-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-medicine-buttons'))
                document.getElementById('vietnam-medicine-buttons').style.display = isVietnam ? 'block' : 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω
            if (document.getElementById('other-restaurants-buttons'))
                document.getElementById('other-restaurants-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-tours-buttons'))
                document.getElementById('other-tours-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-entertainment-buttons'))
                document.getElementById('other-entertainment-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-transport-buttons'))
                document.getElementById('other-transport-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-realestate-buttons'))
                document.getElementById('other-realestate-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('vietnam-realestate-filters'))
                document.getElementById('vietnam-realestate-filters').style.display = isVietnam ? 'flex' : 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
            const allCountries = ['vietnam', 'thailand', 'india', 'indonesia'];
            const categories = ['exchange', 'marketplace', 'visas', 'news', 'medicine'];
            categories.forEach(cat => {
                allCountries.forEach(c => {
                    const btn = document.getElementById(`${c}-${cat}-buttons`);
                    if (btn) btn.style.display = (c === country) ? 'block' : 'none';
                });
            });
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≥–æ—Ä–æ–¥–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω
            if (!isVietnam) {
                renderDynamicCityButtons();
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –¥–µ—Ç–µ–π
            renderKidsCityFilter();
            updateKidsCitySelect();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∞–ª—é—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ö
            updateFormCurrency();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–æ—Ä–æ–¥–∞ –≤ —Ñ–æ—Ä–º–∞—Ö –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
            updateFormCities();

            
            if (!countryConfig[country].currentBanner) countryConfig[country].currentBanner = 0;
            updateBanner();
            if (adminAuthenticated) renderAdminBanners();
            
            updateRates();
            loadStats();
            updateAllCityCounts();
            if (document.getElementById('chat').classList.contains('active')) loadChatFeed();
            loadListings('restaurants');
        }
        
        // –ü–æ–≥–æ–¥–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
        const weatherCities = {
            vietnam: { city: 'Ho Chi Minh', name: { ru: '–•–æ—à–∏–º–∏–Ω', en: 'Ho Chi Minh', vi: 'TP.HCM' } },
            thailand: { city: 'Bangkok', name: { ru: '–ë–∞–Ω–≥–∫–æ–∫', en: 'Bangkok', vi: 'Bangkok' } },
            india: { city: 'Delhi', name: { ru: '–î–µ–ª–∏', en: 'Delhi', vi: 'Delhi' } },
            indonesia: { city: 'Bali', name: { ru: '–ë–∞–ª–∏', en: 'Bali', vi: 'Bali' } }
        };
        
        function updateRates() {
            updateWeather();
        }
        
        function updateWeather() {
            const config = weatherCities[currentCountry] || weatherCities.vietnam;
            const cityName = config.name[currentLang] || config.name.en;
            document.getElementById('weather-city').textContent = cityName;
            
            fetch(`/api/weather?city=${encodeURIComponent(config.city)}`)
                .then(r => r.json())
                .then(data => {
                    document.getElementById('weather-temp').textContent = data.temp || '--¬∞C';
                })
                .catch(err => {
                    console.log('Weather error:', err);
                    document.getElementById('weather-temp').textContent = '--¬∞C';
                });
        }
        
        setInterval(updateWeather, 3600000);

        function loadChatFeed() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –Ω–∏–∫
            const savedNickname = localStorage.getItem('chat_nickname');
            if (savedNickname) {
                const nicknameInput = document.getElementById('chat-username-input');
                if (nicknameInput) nicknameInput.value = savedNickname;
            }
            loadChatMessages();
            
            if (!window.chatRefreshInterval) {
                window.chatRefreshInterval = setInterval(() => {
                    if (document.getElementById('chat').classList.contains('active')) {
                        loadChatMessages();
                    }
                }, 5000);
            }
        }
        
        async function loadChatMessages() {
            const container = document.getElementById('chat-messages');
            if (!container) return;
            try {
                const r = await fetch(`/api/chat/messages?country=${currentCountry}`);
                const data = await r.json();
                const messages = data.messages || [];
                if (messages.length === 0) {
                    container.innerHTML = '<div style="text-align: center; padding: 40px; color: #999;">–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</div>';
                    return;
                }
                const isAdmin = adminAuthenticated;
                const myNickname = localStorage.getItem('chat_nickname') || '';
                container.innerHTML = messages.map(msg => {
                    const date = new Date(msg.timestamp);
                    const timeStr = date.toLocaleString('ru-RU', { day: '2-digit', month: '2-digit', hour: '2-digit', minute: '2-digit' });
                    const isMe = myNickname && msg.username === myNickname;
                    const deleteBtn = isAdmin ? `<button onclick="deleteChatMessage('${msg.id}')" style="background: #dc3545; color: white; border: none; padding: 2px 6px; border-radius: 4px; font-size: 10px; cursor: pointer; margin-left: 5px;">üóëÔ∏è</button>` : '';
                    const blockBtn = isAdmin && !isMe ? `<button onclick="blockChatUser('${msg.username}')" style="background: #ff9800; color: white; border: none; padding: 2px 6px; border-radius: 4px; font-size: 10px; cursor: pointer; margin-left: 3px;">üö´</button>` : '';
                    return `
                        <div style="background: ${isMe ? '#e3f2fd' : 'white'}; border-radius: 8px; padding: 8px 12px; margin-bottom: 6px; border: 1px solid ${isMe ? '#90caf9' : '#e0e0e0'};">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                <span style="font-weight: 600; color: #667eea; font-size: 13px;">@${msg.username}${deleteBtn}${blockBtn}</span>
                                <span style="color: #999; font-size: 11px;">${timeStr}</span>
                            </div>
                            <div style="color: #333; font-size: 14px; line-height: 1.4; white-space: pre-wrap;">${msg.message}</div>
                        </div>
                    `;
                }).join('');
                container.scrollTop = container.scrollHeight;
            } catch(e) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #f44;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';
            }
        }
        
        async function sendChatMessage() {
            const usernameInput = document.getElementById('chat-username-input');
            const messageInput = document.getElementById('chat-message-input');
            const username = usernameInput.value.trim() || '–ì–æ—Å—Ç—å';
            const message = messageInput.value.trim();
            if (!message) return;
            messageInput.value = '';
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∏–∫ –≤ localStorage
            if (username !== '–ì–æ—Å—Ç—å') {
                localStorage.setItem('chat_nickname', username);
            }
            try {
                const r = await fetch('/api/chat/send', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({username: username, message: message, country: currentCountry})
                });
                const data = await r.json();
                if (!data.success) {
                    alert(data.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏');
                    messageInput.value = message;
                } else {
                    loadChatMessages();
                }
            } catch(e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
                messageInput.value = message;
            }
        }
        
        async function deleteChatMessage(msgId) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ?')) return;
            try {
                await fetch('/api/admin/chat-delete', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, message_id: msgId})
                });
                loadChatMessages();
            } catch(e) {}
        }
        
        async function blockChatUser(username) {
            if (!confirm(`–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å @${username}?`)) return;
            try {
                await fetch('/api/admin/chat-blacklist', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, action: 'add', username: username})
                });
                alert(`@${username} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω`);
                loadChatMessages();
                loadBlacklist();
            } catch(e) {}
        }
        
        async function loadBlacklist() {
            const list = document.getElementById('blacklist-list');
            if (!list || !adminPassword) return;
            try {
                const r = await fetch('/api/admin/chat-blacklist', {
                    method: 'GET',
                    headers: {'X-Admin-Key': adminPassword}
                });
                const data = await r.json();
                const users = data.users || [];
                if (users.length === 0) {
                    list.innerHTML = '<span style="color: #999; font-size: 12px;">–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç</span>';
                    return;
                }
                list.innerHTML = users.map(u => `
                    <div style="display: flex; align-items: center; gap: 5px; background: #fff; border: 1px solid #ef9a9a; border-radius: 20px; padding: 5px 10px;">
                        <span style="font-size: 13px;">@${u}</span>
                        <button onclick="removeFromBlacklist('${u}')" style="background: none; border: none; cursor: pointer; font-size: 12px; color: #c62828;">‚úï</button>
                    </div>
                `).join('');
            } catch(e) {
                list.innerHTML = '<span style="color: #c62828; font-size: 12px;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</span>';
            }
        }
        
        async function addToBlacklist() {
            const input = document.getElementById('blacklist-username');
            const username = input.value.trim();
            if (!username) return;
            try {
                await fetch('/api/admin/chat-blacklist', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, action: 'add', username: username})
                });
                input.value = '';
                loadBlacklist();
            } catch(e) {
                alert('–û—à–∏–±–∫–∞');
            }
        }
        
        async function removeFromBlacklist(username) {
            try {
                await fetch('/api/admin/chat-blacklist', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, action: 'remove', username: username})
                });
                loadBlacklist();
            } catch(e) {}
        }


        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            
            const messagesDiv = document.getElementById('chat-messages');
            const msgEl = document.createElement('div');
            msgEl.style.cssText = 'background: white; padding: 12px; border-radius: 6px; margin-bottom: 10px; border-left: 3px solid #d4af37;';
            msgEl.innerHTML = `<div style="font-weight: 600; color: #333; font-size: 13px;">–í—ã</div><div style="color: #666; font-size: 12px; margin-top: 4px;">${message}</div><div style="color: #999; font-size: 11px; margin-top: 4px;">${new Date().toLocaleTimeString('ru-RU')}</div>`;
            
            messagesDiv.appendChild(msgEl);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            input.value = '';
        }

        // Allow Enter key to send message
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
            
            // Photo upload color change handler with 3MB size limit
            const MAX_FILE_SIZE = 3 * 1024 * 1024; // 3MB
            document.querySelectorAll('.photo-upload-wrapper input[type="file"]').forEach(input => {
                input.addEventListener('change', function() {
                    if (this.files && this.files.length > 0) {
                        const file = this.files[0];
                        if (file.size > MAX_FILE_SIZE) {
                            alert('–†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 3 –ú–ë. –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª.');
                            this.value = '';
                            this.classList.remove('has-file');
                            return;
                        }
                        this.classList.add('has-file');
                    } else {
                        this.classList.remove('has-file');
                    }
                });
            });
        });

        function loadStats() {
            fetch(`/api/status?country=${currentCountry}`)
                .then(r => r.json())
                .then(data => {
                    const totalEl = document.getElementById('total-items');
                    const statusEl = document.getElementById('parser-status');
                    const updateEl = document.getElementById('last-update');
                    if (totalEl) totalEl.innerText = data.total_listings;
                    if (statusEl) statusEl.innerText = data.parser_status === 'connected' ? '–ü–æ–¥–∫–ª—é—á–µ–Ω' : '–û—Ç–∫–ª—é—á–µ–Ω';
                    if (updateEl) updateEl.innerText = new Date(data.last_update).toLocaleTimeString('ru-RU');
                });
            
            loadGroupsStats();
        }
        
        // –ú–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π API –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è tabs
        function getCategoryTabName(cat) {
            const mapping = {
                'real_estate': 'realestate',
                'transport': 'transport',
                'money_exchange': 'exchange',
                'chat': 'chat',
                'restaurants': 'restaurants',
                'tours': 'tours',
                'entertainment': 'entertainment',
                'marketplace': 'marketplace',
                'visas': 'visas',
                'news': 'news',
                'medicine': 'medicine'
            };
            return mapping[cat] || cat;
        }
        
        function loadAdsChannels() {
            const cityParam = currentAdsCity ? `&city=${encodeURIComponent(currentAdsCity)}` : '';
            fetch(`/api/ads-channels?country=${currentCountry}${cityParam}`)
                .then(r => r.json())
                .then(data => {
                    const tbody = document.getElementById('ads-tbody');
                    if (!data.channels || data.channels.length === 0) {
                        tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 20px; color: #888;">–ü–æ–∫–∞ –Ω–µ—Ç –∫–∞–Ω–∞–ª–æ–≤. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π!</td></tr>';
                        return;
                    }
                    
                    const categoryNames = {
                        'chat': 'üí¨ –ß–∞—Ç',
                        'visas': 'üèñÔ∏è –í–∏–∑—ã',
                        'realestate': 'üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
                        'transport': 'üèçÔ∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
                        'exchange': 'üí± –û–±–º–µ–Ω',
                        'marketplace': 'üõçÔ∏è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞',
                        'restaurants': 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã',
                        'tours': 'üß≥ –≠–∫—Å–∫—É—Ä—Å–∏–∏',
                        'entertainment': 'üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
                        'medicine': 'üè• –ú–µ–¥–∏—Ü–∏–Ω–∞',
                        'news': 'üì∞ –ù–æ–≤–æ—Å—Ç–∏'
                    };
                    
                    let rows = '';
                    for (const ch of data.channels) {
                        const catName = categoryNames[ch.category] || ch.category;
                        const cityName = ch.city || '';
                        const adminBtns = adminAuthenticated ? `
                            <button onclick="editAdsChannel('${ch.id}', '${ch.name.replace(/'/g, "\\'")}', '${ch.category}', ${ch.members}, ${ch.price}, '${ch.contact.replace(/'/g, "\\'")}', '${(ch.city || '').replace(/'/g, "\\'")}')" style="padding: 6px 12px; background: #FF9800; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; margin-right: 5px;">‚úèÔ∏è</button>
                            <button onclick="deleteAdsChannel('${ch.id}', '${ch.name.replace(/'/g, "\\'")}')" style="padding: 6px 12px; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">üóëÔ∏è</button>
                        ` : '';
                        rows += `
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px;">
                                    <div style="font-weight: 600;">${ch.name}</div>
                                    <div style="font-size: 12px; color: #888;">${catName}${cityName ? ' ‚Ä¢ ' + cityName : ''}</div>
                                </td>
                                <td style="padding: 12px; text-align: center;">${ch.members.toLocaleString()}</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #d4af37;">$${ch.price}</td>
                                <td style="padding: 12px; text-align: center;">
                                    <a href="https://t.me/${ch.contact.replace('@', '')}" target="_blank" style="color: #0088cc; text-decoration: none;">${ch.contact}</a>
                                </td>
                                <td style="padding: 12px; text-align: center;">
                                    ${adminBtns}
                                    <a href="https://t.me/${ch.contact.replace('@', '')}" target="_blank" style="padding: 8px 16px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border-radius: 6px; text-decoration: none; font-size: 13px;">üì© –ó–∞–∫–∞–∑–∞—Ç—å</a>
                                </td>
                            </tr>
                        `;
                    }
                    tbody.innerHTML = rows;
                })
                .catch(e => console.error('Error loading ads channels:', e));
        }
        
        let currentAdsCity = '';
        
        const citiesByCountry = {
            'vietnam': ['–ù—è—á–∞–Ω–≥', '–•–æ—à–∏–º–∏–Ω', '–î–∞–Ω–∞–Ω–≥', '–•–∞–Ω–æ–π', '–§—É–∫—É–æ–∫', '–§–∞–Ω—Ç—å–µ—Ç', '–ú—É–π–Ω–µ', '–î–∞–ª–∞—Ç', '–ö–∞–º—Ä–∞–Ω—å'],
            'thailand': ['–ë–∞–Ω–≥–∫–æ–∫', '–ü—Ö—É–∫–µ—Ç', '–ß–∏–∞–Ω–≥–º–∞–π', '–ü–∞—Ç—Ç–∞–π—è', '–°–∞–º—É–∏', '–•—É–∞—Ö–∏–Ω', '–ö—Ä–∞–±–∏', '–ß–∏–∞–Ω–≥—Ä–∞–π', '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏'],
            'indonesia': ['–î–∂–∞–∫–∞—Ä—Ç–∞', '–ë–∞–ª–∏', '–°—É—Ä–∞–±–∞—è', '–ë–∞–Ω–¥—É–Ω–≥', '–ú–µ–¥–∞–Ω', '–°–µ–º–∞—Ä–∞–Ω–≥', '–î–µ–Ω–ø–∞—Å–∞—Ä', '–ú–∞–∫–∞—Å–∞—Ä', '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞'],
            'india': ['–ú—É–º–±–∞–∏', '–î–µ–ª–∏', '–ë–∞–Ω–≥–∞–ª–æ—Ä', '–•–∞–π–¥–∞—Ä–∞–±–∞–¥', '–ß–µ–Ω–Ω–∞–∏', '–ü—É–Ω–∞', '–ö–æ–ª–∫–∞—Ç–∞', '–ê—Ö–º–µ–¥–∞–±–∞–¥', '–ì–æ–∞']
        };
        
        const sectionCityImages = {
            restaurants: {
                vietnam: {
                    '–ù—è—á–∞–Ω–≥': '/static/images/realestate_nhatrang.jpg',
                    '–•–æ—à–∏–º–∏–Ω': '/static/images/realestate_hochiminh.jpg',
                    '–î–∞–Ω–∞–Ω–≥': '/static/images/realestate_danang.jpg',
                    '–•–∞–Ω–æ–π': '/static/images/realestate_hanoi.jpg',
                    '–§—É–∫—É–æ–∫': '/static/images/realestate_phuquoc.jpg',
                    '–§–∞–Ω—Ç—å–µ—Ç': 'https://images.unsplash.com/photo-1559592413-7cec4d0cae2b?w=300&h=200&fit=crop',
                    '–ú—É–π–Ω–µ': 'https://images.unsplash.com/photo-1528127269322-539801943592?w=300&h=200&fit=crop',
                    '–î–∞–ª–∞—Ç': '/static/images/realestate_dalat.jpg',
                    '–ö–∞–º—Ä–∞–Ω—å': 'https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=200&fit=crop'
                },
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1552566626-52f8b828add9?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1559339352-11d035aa65de?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1537047902294-62a40c20a6ae?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1424847651672-bf20a4b0982b?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1572715376701-98568319fd0b?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1498654896293-37aacf113fd9?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1551218808-94e220e084d2?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1476224203421-9ac39bcb3327?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1455619452474-d2be8b1e70cd?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1565299507177-b0ac66763828?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1432139509613-5c4255815697?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1473093295043-cdd812d0e601?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=300&h=200&fit=crop'
                }
            },
            tours: {
                vietnam: {
                    '–ù—è—á–∞–Ω–≥': '/static/images/realestate_nhatrang.jpg',
                    '–•–æ—à–∏–º–∏–Ω': '/static/images/realestate_hochiminh.jpg',
                    '–î–∞–Ω–∞–Ω–≥': '/static/images/realestate_danang.jpg',
                    '–•–∞–Ω–æ–π': '/static/images/realestate_hanoi.jpg',
                    '–§—É–∫—É–æ–∫': '/static/images/realestate_phuquoc.jpg',
                    '–§–∞–Ω—Ç—å–µ—Ç': 'https://images.unsplash.com/photo-1559592413-7cec4d0cae2b?w=300&h=200&fit=crop',
                    '–ú—É–π–Ω–µ': 'https://images.unsplash.com/photo-1528127269322-539801943592?w=300&h=200&fit=crop',
                    '–î–∞–ª–∞—Ç': '/static/images/realestate_dalat.jpg',
                    '–ö–∞–º—Ä–∞–Ω—å': 'https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=200&fit=crop'
                },
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1508009603885-50cf7c579365?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1589394815804-964ed0be2eb5?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1504214208698-ea1916a2195a?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1552465011-b4e21bf6e79a?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1540541338287-41700207dee6?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1519451241324-20b4ea2c4220?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1528181304800-259b08848526?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1563492065599-3520f775eeed?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1555899434-94d1368aa7af?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1596402184320-417e7178b2cd?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1539367628448-4bc5c9d171c8?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1518509562904-e7ef99cdcc86?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1584810359583-96fc3448beaa?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1529253355930-ddbe423a2ac7?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1587474260584-136574528ed5?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1596176530529-78163a4f7af2?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1582510003544-4d00b7f74220?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1570168007204-dfb528c6958f?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1558431382-27e303142255?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1595658658481-d53d3f999875?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1587922546307-776227941871?w=300&h=200&fit=crop'
                }
            },
            entertainment: {
                vietnam: {
                    '–ù—è—á–∞–Ω–≥': '/static/images/realestate_nhatrang.jpg',
                    '–•–æ—à–∏–º–∏–Ω': '/static/images/realestate_hochiminh.jpg',
                    '–î–∞–Ω–∞–Ω–≥': '/static/images/realestate_danang.jpg',
                    '–•–∞–Ω–æ–π': '/static/images/realestate_hanoi.jpg',
                    '–§—É–∫—É–æ–∫': '/static/images/realestate_phuquoc.jpg',
                    '–§–∞–Ω—Ç—å–µ—Ç': 'https://images.unsplash.com/photo-1559592413-7cec4d0cae2b?w=300&h=200&fit=crop',
                    '–ú—É–π–Ω–µ': 'https://images.unsplash.com/photo-1528127269322-539801943592?w=300&h=200&fit=crop',
                    '–î–∞–ª–∞—Ç': '/static/images/realestate_dalat.jpg',
                    '–ö–∞–º—Ä–∞–Ω—å': 'https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=200&fit=crop'
                },
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1429962714451-bb934ecdc4ec?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1506157786151-b8491531f063?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1501386761578-eac5c94b800a?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1540039155733-5bb30b53aa14?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1524368535928-5b5e00ddc76b?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1571266028243-e4733b0f0bb0?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1464375117522-1311d6a5b81f?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1496024840928-4c417adf211d?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1481066717861-4775e000c88a?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1485872299829-c673f5194813?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1429514513361-8fa32282fd5f?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1504680177321-2e6a879aac86?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1511735111819-9a3f7709049c?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1478147427282-58a87a120781?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1468359601543-843bfaef291a?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1507676184212-d03ab07a01bf?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=300&h=200&fit=crop'
                }
            },
            transport: {
                vietnam: {
                    '–ù—è—á–∞–Ω–≥': '/static/images/realestate_nhatrang.jpg',
                    '–•–æ—à–∏–º–∏–Ω': '/static/images/realestate_hochiminh.jpg',
                    '–î–∞–Ω–∞–Ω–≥': '/static/images/realestate_danang.jpg',
                    '–•–∞–Ω–æ–π': '/static/images/realestate_hanoi.jpg',
                    '–§—É–∫—É–æ–∫': '/static/images/realestate_phuquoc.jpg',
                    '–§–∞–Ω—Ç—å–µ—Ç': 'https://images.unsplash.com/photo-1559592413-7cec4d0cae2b?w=300&h=200&fit=crop',
                    '–ú—É–π–Ω–µ': 'https://images.unsplash.com/photo-1528127269322-539801943592?w=300&h=200&fit=crop',
                    '–î–∞–ª–∞—Ç': '/static/images/realestate_dalat.jpg',
                    '–ö–∞–º—Ä–∞–Ω—å': 'https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=200&fit=crop'
                },
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1568772585407-9361f9bf3a87?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1558981806-ec527fa84c39?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1558981403-c5f9899a28bc?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1558980664-769d59546b3d?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1485291571150-772bcfc10da5?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1558981285-6f0c94958bb6?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1549399542-7e3f8b79c341?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1502877338535-766e1452684a?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1489824904134-891ab64532f1?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1493238792000-8113da705763?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1517524008697-84bbe3c3fd98?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1542362567-b07e54358753?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1504215680853-026ed2a45def?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1553440569-bcc63803a83d?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1526726538690-5cbf956ae2fd?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1519046904884-53103b34b206?w=300&h=200&fit=crop'
                }
            },
            realestate: {
                vietnam: {
                    '–ù—è—á–∞–Ω–≥': '/static/images/realestate_nhatrang.jpg',
                    '–•–æ—à–∏–º–∏–Ω': '/static/images/realestate_hochiminh.jpg',
                    '–î–∞–Ω–∞–Ω–≥': '/static/images/realestate_danang.jpg',
                    '–•–∞–Ω–æ–π': '/static/images/realestate_hanoi.jpg',
                    '–§—É–∫—É–æ–∫': '/static/images/realestate_phuquoc.jpg',
                    '–§–∞–Ω—Ç—å–µ—Ç': 'https://images.unsplash.com/photo-1559592413-7cec4d0cae2b?w=300&h=200&fit=crop',
                    '–ú—É–π–Ω–µ': 'https://images.unsplash.com/photo-1528127269322-539801943592?w=300&h=200&fit=crop',
                    '–î–∞–ª–∞—Ç': '/static/images/realestate_dalat.jpg',
                    '–ö–∞–º—Ä–∞–Ω—å': 'https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=200&fit=crop'
                },
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1613977257363-707ba9348227?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1600573472592-401b489a3cdc?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1599809275671-b5942cabc7a2?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1600607687644-c7171b42498f?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1600585153490-76fb20a32601?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1600563438938-a9a27215b1fc?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1600566753051-f0b89df2dd90?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1600047509358-9dc75507daeb?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1600585154363-67eb9e2e2099?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1600585152220-90363fe7e115?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1600566752229-250ed79470f8?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1600573472591-ee6b68d14c68?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1600607688969-a5bfcd646154?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=300&h=200&fit=crop'
                }
            }
        };
        
        const cityImages = sectionCityImages.tours.thailand;
        
        const adsCitiesByCountry = citiesByCountry;
        
        // –ì–æ—Ä–æ–¥–∞ –¥–ª—è —Ñ–æ—Ä–º –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
        const formCitiesByCountry = {
            'vietnam': [
                {value: 'Nha Trang', label: '–ù—è—á–∞–Ω–≥'},
                {value: 'Ho Chi Minh', label: '–•–æ—à–∏–º–∏–Ω'},
                {value: 'Da Nang', label: '–î–∞–Ω–∞–Ω–≥'},
                {value: 'Hanoi', label: '–•–∞–Ω–æ–π'},
                {value: 'Phu Quoc', label: '–§—É–∫—É–æ–∫'},
                {value: 'Phan Thiet', label: '–§–∞–Ω—Ç—å–µ—Ç'},
                {value: 'Cam Ranh', label: '–ö–∞–º—Ä–∞–Ω—å'},
                {value: 'Da Lat', label: '–î–∞–ª–∞—Ç'},
                {value: 'Hoi An', label: '–•–æ–π–∞–Ω'}
            ],
            'thailand': [
                {value: 'Bangkok', label: '–ë–∞–Ω–≥–∫–æ–∫'},
                {value: 'Phuket', label: '–ü—Ö—É–∫–µ—Ç'},
                {value: 'Chiang Mai', label: '–ß–∏–∞–Ω–≥–º–∞–π'},
                {value: 'Pattaya', label: '–ü–∞—Ç—Ç–∞–π—è'},
                {value: 'Samui', label: '–°–∞–º—É–∏'},
                {value: 'Hua Hin', label: '–•—É–∞—Ö–∏–Ω'},
                {value: 'Krabi', label: '–ö—Ä–∞–±–∏'},
                {value: 'Chiang Rai', label: '–ß–∏–∞–Ω–≥—Ä–∞–π'},
                {value: 'Udon Thani', label: '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏'}
            ],
            'indonesia': [
                {value: 'Jakarta', label: '–î–∂–∞–∫–∞—Ä—Ç–∞'},
                {value: 'Bali', label: '–ë–∞–ª–∏'},
                {value: 'Surabaya', label: '–°—É—Ä–∞–±–∞—è'},
                {value: 'Bandung', label: '–ë–∞–Ω–¥—É–Ω–≥'},
                {value: 'Medan', label: '–ú–µ–¥–∞–Ω'},
                {value: 'Semarang', label: '–°–µ–º–∞—Ä–∞–Ω–≥'},
                {value: 'Denpasar', label: '–î–µ–Ω–ø–∞—Å–∞—Ä'},
                {value: 'Makassar', label: '–ú–∞–∫–∞—Å–∞—Ä'},
                {value: 'Yogyakarta', label: '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞'}
            ],
            'india': [
                {value: 'Mumbai', label: '–ú—É–º–±–∞–∏'},
                {value: 'Delhi', label: '–î–µ–ª–∏'},
                {value: 'Bangalore', label: '–ë–∞–Ω–≥–∞–ª–æ—Ä'},
                {value: 'Hyderabad', label: '–•–∞–π–¥–∞—Ä–∞–±–∞–¥'},
                {value: 'Chennai', label: '–ß–µ–Ω–Ω–∞–∏'},
                {value: 'Pune', label: '–ü—É–Ω–∞'},
                {value: 'Kolkata', label: '–ö–æ–ª–∫–∞—Ç–∞'},
                {value: 'Ahmedabad', label: '–ê—Ö–º–µ–¥–∞–±–∞–¥'},
                {value: 'Goa', label: '–ì–æ–∞'}
            ]
        };
        
        function updateFormCities() {
            const cities = formCitiesByCountry[currentCountry] || formCitiesByCountry['vietnam'];
            const formSelects = ['tour-city', 'restaurant-city', 'entertainment-city', 'transport-city', 'realestate-city', 'exchange-city', 'kids-city', 'visas-city', 'photosession-city', 'medicine-city'];
            
            formSelects.forEach(selectId => {
                const select = document.getElementById(selectId);
                if (!select) return;
                
                let html = '';
                cities.forEach(city => {
                    html += `<option value="${city.value}">${city.label}</option>`;
                });
                select.innerHTML = html;
            });
        }
        
        function renderDynamicCityButtons() {
            const cities = citiesByCountry[currentCountry] || [];
            
            // –†–µ–Ω–¥–µ—Ä–∏–º –≥–æ—Ä–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
            const sections = ['restaurants', 'tours', 'entertainment', 'transport', 'realestate'];
            const sectionLabels = {
                'restaurants': '—Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤',
                'tours': '—ç–∫—Å–∫—É—Ä—Å–∏–π',
                'entertainment': '—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π',
                'transport': '–æ–±—ä—è–≤–ª–µ–Ω–∏–π',
                'realestate': '–æ–±—ä—è–≤–ª–µ–Ω–∏–π'
            };
            const sectionFilters = {
                'restaurants': 'filterRestaurantsByCity',
                'tours': 'filterToursByCity',
                'entertainment': 'filterEntertainmentByCity',
                'transport': 'filterByCity',
                'realestate': 'filterRealEstateByCity'
            };
            
            sections.forEach(section => {
                const container = document.getElementById(`${section}-city-grid`);
                if (!container) return;
                
                const sectionData = sectionCityImages[section] || sectionCityImages.tours;
                const sectionImages = sectionData[currentCountry] || sectionData.thailand || {};
                
                let html = '';
                cities.forEach((city, idx) => {
                    const isFirst = idx === 0;
                    const img = sectionImages[city] || 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop';
                    const editBtn = adminAuthenticated ? 
                        `<button onclick="event.stopPropagation(); openCityEditModal('${section}', ${idx}, '${city}', '${img}')" style="position: absolute; top: 8px; right: 8px; width: 32px; height: 32px; background: rgba(255,255,255,0.95); border: none; border-radius: 50%; cursor: pointer; font-size: 14px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); z-index: 10;">‚úèÔ∏è</button>` : '';
                    html += `
                        <div class="tour-city-btn ${section}-city-btn" data-city="${city}" onclick="${sectionFilters[section]}('${city}')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid ${isFirst ? '#d4af37' : 'transparent'};">
                            ${editBtn}
                            <img src="${img}" style="width: 100%; height: 100%; object-fit: cover;">
                            <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                                <div class="city-name" style="font-weight: bold; font-size: 16px;">${city}</div>
                                <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 ${sectionLabels[section]}</div>
                            </div>
                        </div>
                    `;
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ"
                const submitLabels = {
                    'restaurants': '–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω',
                    'tours': '–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é',
                    'entertainment': '–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ',
                    'transport': '–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
                    'realestate': '–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å'
                };
                const submitActions = {
                    'restaurants': "switchTab('submit-restaurant'); loadRestaurantCaptcha();",
                    'tours': "switchTab('submit-tour'); loadTourCaptcha();",
                    'entertainment': "switchTab('submit-entertainment'); loadEntertainmentCaptcha();",
                    'transport': "switchTab('submit-transport'); loadTransportCaptcha();",
                    'realestate': "switchTab('submit-realestate'); loadRealEstateCaptcha();"
                };
                html += `
                    <div class="tour-city-btn submit-btn" onclick="${submitActions[section]}" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">${submitLabels[section]}</div>
                        </div>
                    </div>
                `;
                container.innerHTML = html;
            });
        }
        
        function renderKidsCityFilter() {
            const container = document.getElementById('kids-city-filter');
            if (!container) return;
            
            const cities = formCitiesByCountry[currentCountry] || [];
            
            let html = `<button class="kids-city-btn" data-city="" onclick="filterKidsCity('')" style="padding: 8px 16px; border: 2px solid #d4af37; background: #d4af37; color: white; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">–í—Å–µ</button>`;
            
            cities.forEach(city => {
                html += `<button class="kids-city-btn" data-city="${city.value}" onclick="filterKidsCity('${city.value}')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">${city.label}</button>`;
            });
            
            container.innerHTML = html;
        }
        
        function updateKidsCitySelect() {
            const select = document.getElementById('kids-city');
            if (!select) return;
            
            const cities = formCitiesByCountry[currentCountry] || [];
            let html = '';
            cities.forEach(city => {
                html += `<option value="${city.value}">${city.label}</option>`;
            });
            select.innerHTML = html;
        }
        
        function updateFormCurrency() {
            const currencies = {
                'vietnam': 'VND',
                'thailand': 'THB',
                'india': 'INR',
                'indonesia': 'IDR'
            };
            const currency = currencies[currentCountry] || 'VND';
            
            const transportLabel = document.getElementById('transport-price-label');
            if (transportLabel) transportLabel.textContent = 'üí∞ –¶–µ–Ω–∞ (' + currency + ') *';
            
            const realestateLabel = document.getElementById('realestate-price-label');
            if (realestateLabel) realestateLabel.textContent = 'üí∞ –¶–µ–Ω–∞ (' + currency + ') *';
        }
        
        function renderAdsCityFilter() {
            const container = document.getElementById('ads-city-filter');
            const cities = adsCitiesByCountry[currentCountry] || [];
            
            let html = `<button class="ads-city-btn" data-city="" onclick="filterAdsByCity('')" style="padding: 8px 16px; border: 2px solid #667eea; border-radius: 20px; background: ${currentAdsCity === '' ? '#667eea' : '#fff'}; color: ${currentAdsCity === '' ? 'white' : '#333'}; cursor: pointer; font-size: 13px; font-weight: 500;">–í—Å–µ –≥–æ—Ä–æ–¥–∞</button>`;
            
            for (const city of cities) {
                const isActive = currentAdsCity === city;
                html += `<button class="ads-city-btn" data-city="${city}" onclick="filterAdsByCity('${city}')" style="padding: 8px 16px; border: 2px solid #667eea; border-radius: 20px; background: ${isActive ? '#667eea' : '#fff'}; color: ${isActive ? 'white' : '#333'}; cursor: pointer; font-size: 13px;">${city}</button>`;
            }
            
            container.innerHTML = html;
        }
        
        function updateAdsCitySelect() {
            const select = document.getElementById('add-channel-city');
            if (!select) return;
            const cities = adsCitiesByCountry[currentCountry] || [];
            
            let html = '';
            for (const city of cities) {
                html += `<option value="${city}">${city}</option>`;
            }
            html += '<option value="other">–î—Ä—É–≥–æ–π</option>';
            select.innerHTML = html;
        }
        
        function filterAdsByCity(city) {
            currentAdsCity = city;
            document.querySelectorAll('.ads-city-btn').forEach(btn => {
                btn.style.background = btn.dataset.city === city ? '#667eea' : '#fff';
                btn.style.color = btn.dataset.city === city ? 'white' : '#333';
            });
            loadAdsChannels();
        }
        
        async function addChannelForAds() {
            const name = document.getElementById('add-channel-name').value.trim();
            const category = document.getElementById('add-channel-category').value;
            const city = document.getElementById('add-channel-city').value;
            const members = parseInt(document.getElementById('add-channel-members').value) || 0;
            const price = parseInt(document.getElementById('add-channel-price').value) || 0;
            const contact = document.getElementById('add-channel-contact').value.trim();
            const status = document.getElementById('add-channel-status');
            
            if (!name || !contact || !city || !members || !price) {
                status.innerHTML = '<span style="color: #dc3545;">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</span>';
                return;
            }
            
            try {
                const r = await fetch('/api/ads-channels/add', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({name, category, city, members, price, contact, country: currentCountry})
                });
                const data = await r.json();
                if (data.success) {
                    status.innerHTML = '<span style="color: #4CAF50;">‚úÖ –ö–∞–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é!</span>';
                    document.getElementById('add-channel-name').value = '';
                    document.getElementById('add-channel-members').value = '';
                    document.getElementById('add-channel-price').value = '';
                    document.getElementById('add-channel-contact').value = '';
                } else {
                    status.innerHTML = `<span style="color: #dc3545;">${data.error}</span>`;
                }
            } catch(e) {
                status.innerHTML = '<span style="color: #dc3545;">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        function loadGroupsStats() {
            currentAdsCity = '';
            renderAdsCityFilter();
            updateAdsCitySelect();
            loadAdsChannels();
        }

        function isEnglishOnly(text) {
            if (!text) return false;
            for (let i = 0; i < text.length; i++) {
                const code = text.charCodeAt(i);
                if (code > 127 && '.,!?-‚Ä¶()[]{}":;/\\ '.indexOf(text[i]) === -1) {
                    return false;
                }
            }
            return true;
        }

        function filterByCity(city) {
            console.log("Filtering by city:", city);
            loadListings(null, city);
        }
        
        let currentEntertainmentCity = '–ù—è—á–∞–Ω–≥';
        
        function filterEntertainmentByCity(city) {
            currentEntertainmentCity = city;
            document.querySelectorAll('.entertainment-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('entertainment', city);
        }
        
        let currentVisasCity = '';
        
        function filterVisasByCity(city) {
            currentVisasCity = city;
            document.querySelectorAll('.visas-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            applyVisasFilters();
        }

        let currentVisasNationality = 'all';
        let currentVisasDays = 'all';

        function filterVisasByNationality(nationality) {
            currentVisasNationality = nationality;
            document.querySelectorAll('.visa-nationality-btn').forEach(btn => {
                if (btn.dataset.nationality === nationality) {
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = 'white';
                    btn.style.color = '#333';
                    btn.style.fontWeight = 'normal';
                }
            });
            applyVisasFilters();
        }

        function filterVisasByDays(days) {
            currentVisasDays = days;
            document.querySelectorAll('.visa-days-btn').forEach(btn => {
                if (btn.dataset.days === days) {
                    btn.style.background = '#00BCD4';
                    btn.style.color = 'white';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = 'white';
                    btn.style.color = '#333';
                    btn.style.fontWeight = 'normal';
                }
            });
            applyVisasFilters();
        }

        function applyVisasFilters() {
            let url = `/api/listings/visas?country=${currentCountry}`;
            if (currentVisasCity && currentVisasCity !== 'all') {
                url += `&destination=${encodeURIComponent(currentVisasCity)}`;
            }
            if (currentVisasNationality && currentVisasNationality !== 'all') {
                url += `&nationality=${currentVisasNationality}`;
            }
            if (currentVisasDays && currentVisasDays !== 'all') {
                url += `&days=${currentVisasDays}`;
            }
            url += `&_t=${Date.now()}`;
            
            console.log('Fetching visas:', url);

            const grid = document.getElementById('visas-grid');
            if (!grid) {
                console.error('visas-grid not found!');
                return;
            }
            grid.innerHTML = '<div class="loading"><div class="spinner"></div></div>';

            fetch(url)
                .then(r => r.json())
                .then(items => {
                    console.log('DEBUG: API returned', items.length, 'items for visas');
                    if (items.length === 0) {
                        grid.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>';
                    } else {
                        try {
                            grid.innerHTML = items.map(item => renderListingCard(item, 'visas')).join('');
                            console.log('DEBUG: Rendered', items.length, 'visas cards');
                            // –ü–µ—Ä–µ–≤–æ–¥–∏–º –∫–∞—Ä—Ç–æ—á–∫–∏ –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –Ω–µ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
                            if (currentLang !== 'ru' && typeof translateVisibleCards === 'function') {
                                setTimeout(() => translateVisibleCards(), 100);
                            }
                        } catch(renderErr) {
                            console.error('Visas render error:', renderErr);
                            grid.innerHTML = '<div style="text-align: center; padding: 40px; color: #f44;">–û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
                        }
                    }
                })
                .catch(err => {
                    console.error('Visas fetch error:', err);
                    grid.innerHTML = '<div style="text-align: center; padding: 40px; color: #f44;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';
                });
        }
        
        let currentKidsCategory = '';
        let currentKidsCity = '';
        let currentKidsAge = '';
        
        function filterKidsCategory(type) {
            currentKidsCategory = type;
            document.querySelectorAll('.kids-category-btn').forEach(btn => {
                btn.style.border = btn.dataset.type === type ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadKidsFeed();
        }
        
        function filterKidsCity(city) {
            currentKidsCity = city;
            document.querySelectorAll('.kids-city-btn').forEach(btn => {
                if (btn.dataset.city === city) {
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                    btn.style.border = '2px solid #d4af37';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                    btn.style.fontWeight = 'normal';
                }
            });
            loadKidsFeed();
        }
        
        function filterKidsAge(age) {
            currentKidsAge = age;
            document.querySelectorAll('.kids-age-btn').forEach(btn => {
                if (btn.dataset.age === age) {
                    btn.style.background = '#9C27B0';
                    btn.style.color = 'white';
                    btn.style.border = '2px solid #9C27B0';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                    btn.style.fontWeight = 'normal';
                }
            });
            loadKidsFeed();
        }
        
        function loadKidsFeed() {
            const feed = document.getElementById('kids-feed');
            feed.innerHTML = '<div class="loading"><div class="spinner"></div></div>';
            
            let url = `/api/listings/kids?country=${currentCountry}&_t=${Date.now()}`;
            if (currentKidsCategory) url += `&kids_type=${currentKidsCategory}`;
            if (currentKidsCity) url += `&city=${encodeURIComponent(currentKidsCity)}`;
            if (currentKidsAge) url += `&max_age=${currentKidsAge}`;
            
            fetch(url)
                .then(r => r.json())
                .then(data => {
                    if (!data || data.length === 0) {
                        feed.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">–û–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>';
                        return;
                    }
                    
                    const kidsTypeLabels = {
                        'schools': 'üè´ –®–∫–æ–ª—ã',
                        'events': 'üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è', 
                        'nannies': 'üë©‚Äçüëß –ù—è–Ω–∏',
                        'products': 'üß∏ –¢–æ–≤–∞—Ä—ã'
                    };
                    
                    let html = '<div class="listing-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">' + data.map(item => {
                        let images = item.all_images || item.photos || [];
                        if (images.length === 0) {
                            if (item.image_url) images.push(item.image_url);
                            if (item.image_url_2) images.push(item.image_url_2);
                            if (item.image_url_3) images.push(item.image_url_3);
                            if (item.image_url_4) images.push(item.image_url_4);
                            if (images.length === 0 && item.photo_url) images.push(item.photo_url);
                        }
                        const cacheBuster = Date.now();
                        images = images.map(url => url + (url.includes('?') ? '&' : '?') + '_t=' + cacheBuster);
                        const kidsType = item.kids_category || item.kids_type || '';
                        const kidsTypeLabel = kidsTypeLabels[kidsType] || '';
                        
                        let imageHtml = images.length > 0 
                            ? `<img src="${images[0]}" style="width:100%;height:100%;object-fit:cover;" onerror="this.src='/static/images/placeholder.jpg'">`
                            : `<div style="width:100%;height:100%;background:linear-gradient(135deg,#FFE0B2 0%,#FFCC80 100%);display:flex;align-items:center;justify-content:center;"><span style="font-size:64px;">üë∂</span></div>`;
                        
                        return `<div class="card" style="background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 15px rgba(0,0,0,0.08);display:flex;flex-direction:column;height:100%;">
                            <div style="position:relative;height:250px;">
                                ${imageHtml}
                                <div style="position:absolute;top:8px;left:8px;display:flex;flex-wrap:wrap;gap:8px;z-index:10;">
                                    ${kidsTypeLabel ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">${kidsTypeLabel}</span>` : ''}
                                    ${item.city ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">üìç ${item.city}</span>` : ''}
                                    ${item.age ? `<span style="color:#fff;font-size:16px;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:4px;">üë∂ ${item.age}</span>` : ''}
                                </div>
                                ${adminAuthenticated ? `
                                    <div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                                        <button onclick="openKidsPhotoEdit('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è</button>
                                        <button onclick="openDeleteModal('${item.id}', 'kids')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                            </div>
                            <div style="padding:15px;display:flex;flex-direction:column;flex-grow:1;">
                                <h3 style="color:#d4af37;margin:0 0 10px 0;font-size:16px;font-weight:600;">${escapeHtml(item.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è')}</h3>
                                <div style="font-size:14px;color:#444;line-height:1.7;white-space:pre-wrap;margin-bottom:15px;">${escapeHtml((item.description || '').substring(0, 500))}</div>
                                <div style="margin-top:auto;padding-top:12px;border-top:1px solid #eee;">
                                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:10px;">
                                        <div style="background:#f5f5f5;padding:8px;border-radius:6px;text-align:center;">
                                            <div style="font-size:11px;color:#888;">üìÖ –î–∞—Ç–∞</div>
                                            <div style="font-size:13px;font-weight:600;color:#333;">${(item.date ? item.date.substring(0, 10) : '-')}</div>
                                        </div>
                                        <div style="background:#fff3e0;padding:8px;border-radius:6px;text-align:center;">
                                            <div style="font-size:11px;color:#888;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç</div>
                                            <div style="font-size:12px;font-weight:600;color:#e65100;">${item.contact_name || item.contact || '-'}</div>
                                        </div>
                                    </div>
                                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
                                        <a href="${item.whatsapp ? 'https://wa.me/' + item.whatsapp.replace(/[^0-9]/g,'') : '#'}" target="_blank" onclick="event.stopPropagation()" style="background:${item.whatsapp ? '#25D366' : '#ccc'};color:white;padding:10px;border-radius:6px;text-align:center;text-decoration:none;font-weight:600;font-size:13px;">üí¨ WhatsApp</a>
                                        <a href="${item.telegram ? 'https://t.me/' + item.telegram.replace('@','').replace('https://t.me/','') : '#'}" target="_blank" onclick="event.stopPropagation()" style="background:${item.telegram ? '#0088cc' : '#ccc'};color:white;padding:10px;border-radius:6px;text-align:center;text-decoration:none;font-weight:600;font-size:13px;">‚úàÔ∏è Telegram</a>
                                    </div>
                                </div>
                            </div>
                        </div>`;
                    }).join('') + '</div>';
                    
                    feed.innerHTML = html;
                })
                .catch(err => {
                    feed.innerHTML = '<p style="text-align: center; color: #ff6b6b; padding: 40px;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>';
                });
        }
        
        let currentRestaurantCity = '–ù—è—á–∞–Ω–≥';
        let currentRestaurantType = 'all';
        
        function filterRestaurantsByCity(city) {
            currentRestaurantCity = city;
            document.querySelectorAll('.restaurant-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('restaurants', city);
        }
        
        // Exchange city filter
        let currentExchangeCity = '';
        function filterExchangeByCity(city) {
            currentExchangeCity = city;
            document.querySelectorAll('.exchange-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('money_exchange');
        }
        
        // Marketplace category filter
        let currentMarketplaceCategory = '';
        function filterMarketplaceByCategory(category) {
            currentMarketplaceCategory = category;
            document.querySelectorAll('.marketplace-cat-btn').forEach(btn => {
                btn.style.border = btn.dataset.category === category ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('marketplace');
        }
        
        // Marketplace city filter
        let currentMarketplaceCity = '';
        function filterMarketplaceCity(city) {
            currentMarketplaceCity = city;
            document.querySelectorAll('.marketplace-city-btn').forEach(btn => {
                if (btn.dataset.city === city) {
                    btn.style.border = '2px solid #d4af37';
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                } else {
                    btn.style.border = '2px solid #ccc';
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                }
            });
            loadListings('marketplace');
        }
        
        function filterRestaurantType(type) {
            currentRestaurantType = type;
            document.querySelectorAll('.rest-type-btn').forEach(btn => {
                if (btn.dataset.type === type) {
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                    btn.style.border = 'none';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                }
            });
            loadListings('restaurants', currentRestaurantCity);
        }
        
        function searchNearby5km() {
            if (!navigator.geolocation) {
                alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º');
                return;
            }
            
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    const url = `https://www.google.com/maps/search/restaurants/@${lat},${lon},14z`;
                    window.open(url, '_blank');
                },
                (error) => {
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.');
                }
            );
        }

        let currentToursCity = '–ù—è—á–∞–Ω–≥';
        
        function filterToursByCity(city) {
            currentToursCity = city;
            document.querySelectorAll('.tours-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('tours', city);
        }

        let currentTransportType = 'bikes';
        let currentTransportCity = '';
        
        function filterTransportCity(city) {
            currentTransportCity = city;
            document.querySelectorAll('.transport-city-btn').forEach(btn => {
                if (btn.dataset.city === city) {
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                    btn.style.border = '2px solid #d4af37';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                    btn.style.fontWeight = 'normal';
                }
            });
            loadListings('transport', currentTransportType);
        }
        
        function filterTransportByType(type) {
            currentTransportType = type;
            document.querySelectorAll('.transport-type-btn').forEach(btn => {
                btn.style.border = btn.dataset.type === type ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('transport', type);
        }
        
        function updateTransportCounts() {
            fetch('/api/listings/transport?country=' + currentCountry)
                .then(r => r.json())
                .then(data => {
                    const types = ['bikes', 'cars', 'yachts', 'bicycles'];
                    types.forEach(type => {
                        const count = data.filter(item => item.transport_type === type).length;
                        const el = document.getElementById('transport-' + type + '-count');
                        if (el) el.textContent = count + ' ' + getListingsWord();
                    });
                });
        }

        let currentRealEstateCity = 'hochiminh';
        let currentRealEstateSort = '';
        let currentRealEstateType = '';
        let currentRealEstatePriceMax = null;
        let currentRealEstatePriceMin = null;
        let currentRealEstateGroup = '';
        
        function filterRealEstateByCity(city) {
            currentRealEstateCity = city;
            document.querySelectorAll('.realestate-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('real_estate');
            setTimeout(() => {
                const grid = document.getElementById('real_estate-grid');
                if (grid && window.innerWidth <= 768) {
                    grid.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }, 300);
        }
        
        function filterRealEstateType(type) {
            if (currentRealEstateType === type) {
                currentRealEstateType = '';
                document.querySelectorAll('.filter-type-btn').forEach(btn => btn.style.background = '#fff');
            } else {
                currentRealEstateType = type;
                document.querySelectorAll('.filter-type-btn').forEach(btn => btn.style.background = '#fff');
                document.getElementById('filter-' + type).style.background = type === 'rent' ? '#2196F3' : '#4CAF50';
                document.getElementById('filter-' + type).style.color = '#fff';
            }
            document.querySelectorAll('.filter-type-btn').forEach(btn => {
                if (btn.id !== 'filter-' + currentRealEstateType) {
                    btn.style.color = '#333';
                }
            });
            loadListings('real_estate');
        }
        
        function sortRealEstate(sortType) {
            if (currentRealEstateSort === sortType) {
                currentRealEstateSort = '';
            } else {
                currentRealEstateSort = sortType;
            }
            document.querySelectorAll('.sort-btn').forEach(btn => {
                const isActive = btn.textContent.includes(sortType === 'price_asc' ? '–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é' : '—É–±—ã–≤–∞–Ω–∏—é') && currentRealEstateSort === sortType;
                btn.style.background = isActive ? '#d4af37' : '#fff';
                btn.style.color = isActive ? '#fff' : '#333';
            });
            loadListings('real_estate');
        }
        
        function filterRealEstatePrice(maxPrice) {
            if (currentRealEstatePriceMax === maxPrice) {
                currentRealEstatePriceMax = null;
            } else {
                currentRealEstatePriceMax = maxPrice;
                currentRealEstatePriceMin = null;
            }
            updatePriceButtonStyles();
            loadListings('real_estate');
        }
        
        function filterRealEstatePriceMin(minPrice) {
            if (currentRealEstatePriceMin === minPrice) {
                currentRealEstatePriceMin = null;
            } else {
                currentRealEstatePriceMin = minPrice;
                currentRealEstatePriceMax = null;
            }
            updatePriceButtonStyles();
            loadListings('real_estate');
        }
        
        function updatePriceButtonStyles() {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                let isActive = false;
                if (btn.textContent.includes('–î–æ 7') && currentRealEstatePriceMax === 7000000) isActive = true;
                if (btn.textContent.includes('–î–æ 15') && currentRealEstatePriceMax === 15000000) isActive = true;
                if (btn.textContent.includes('–û—Ç 15') && currentRealEstatePriceMin === 15000000) isActive = true;
                btn.style.background = isActive ? '#FF9800' : '#fff';
                btn.style.color = isActive ? '#fff' : '#333';
            });
        }
        
        function resetRealEstateFilters() {
            currentRealEstateSort = '';
            currentRealEstatePriceMax = null;
            currentRealEstatePriceMin = null;
            currentRealEstateType = '';
            currentRealEstateGroup = '';
            document.querySelectorAll('.sort-btn, .filter-btn, .filter-type-btn, .group-filter-btn').forEach(btn => {
                btn.style.background = '#fff';
                btn.style.color = '#333';
            });
            loadListings('real_estate');
        }
        
        function filterRealEstateGroup(group) {
            currentRealEstateGroup = group;
            const allBtn = document.querySelector('.group-filter-btn[data-group=""]');
            const selectEl = document.getElementById('group-select');
            
            if (group === '') {
                // "–í—Å–µ" selected
                if (allBtn) {
                    allBtn.style.background = '#d4af37';
                    allBtn.style.color = '#fff';
                }
                if (selectEl) selectEl.value = '';
            } else {
                // Specific group selected
                if (allBtn) {
                    allBtn.style.background = '#fff';
                    allBtn.style.color = '#333';
                }
                if (selectEl) selectEl.value = group;
            }
            loadListings('real_estate');
        }
        
        function loadExchangeCounts() {
            const cities = [
                {key: 'nhatrang', filter: '–ù—è—á–∞–Ω–≥'},
                {key: 'danang', filter: '–î–∞–Ω–∞–Ω–≥'},
                {key: 'hochiminh', filter: '–•–æ—à–∏–º–∏–Ω'},
                {key: 'phuquoc', filter: '–§—É–∫—É–æ–∫'}
            ];
            cities.forEach(c => {
                fetch(`/api/listings/exchange?country=vietnam&city=${encodeURIComponent(c.filter)}`)
                    .then(r => r.json())
                    .then(data => {
                        const el = document.getElementById(`exchange-${c.key}-count`);
                        if (el) el.textContent = data.length + ' ' + getListingsWord();
                    });
            });
        }

        function loadKidsCounts() {
            fetch(`/api/kids-type-counts?country=${currentCountry}`)
                .then(r => r.json())
                .then(data => {
                    const categories = ['events', 'nannies', 'schools', 'products'];
                    categories.forEach(cat => {
                        const count = data[cat] || 0;
                        const el = document.getElementById(`kids-${cat}-count`);
                        if (el) el.textContent = count + ' ' + getListingsWord();
                    });
                });
        }

        function loadVisasCounts() {
            fetch(`/api/listings/visas?country=${currentCountry}`)
                .then(r => r.json())
                .then(data => {
                    const cambodiaCount = data.filter(item => {
                        const dest = (item.destination || '').toLowerCase();
                        return dest.includes('cambodia') || dest.includes('–∫–∞–º–±–æ–¥–∂');
                    }).length;
                    const laosCount = data.filter(item => {
                        const dest = (item.destination || '').toLowerCase();
                        return dest.includes('laos') || dest.includes('–ª–∞–æ—Å');
                    }).length;
                    const cambodiaEl = document.getElementById('visa-cambodia-count');
                    const laosEl = document.getElementById('visa-laos-count');
                    if (cambodiaEl) cambodiaEl.textContent = cambodiaCount + ' ' + getListingsWord();
                    if (laosEl) laosEl.textContent = laosCount + ' ' + getListingsWord();
                });
        }

        function loadMarketplaceCounts() {
            fetch(`/api/listings/marketplace?country=${currentCountry}`)
                .then(r => r.json())
                .then(data => {
                    const categories = ['electronics', 'clothing', 'furniture', 'free'];
                    categories.forEach(cat => {
                        const count = data.filter(item => {
                            const itemCat = (item.marketplace_category || item.subcategory || '').toLowerCase();
                            return itemCat === cat || itemCat.includes(cat);
                        }).length;
                        const el = document.getElementById(`marketplace-${cat}-count`);
                        if (el) el.textContent = count + ' ' + getListingsWord();
                    });
                });
        }

        function loadRealEstateCounts() {
            fetch(`/api/city-counts/real_estate?country=${currentCountry}`)
                .then(r => r.json())
                .then(counts => {
                    const cityMap = {
                        'nhatrang': '–ù—è—á–∞–Ω–≥',
                        'danang': '–î–∞–Ω–∞–Ω–≥',
                        'hochiminh': '–•–æ—à–∏–º–∏–Ω',
                        'hanoi': '–•–∞–Ω–æ–π',
                        'phuquoc': '–§—É–∫—É–æ–∫',
                        'dalat': '–î–∞–ª–∞—Ç',
                        'phantiet': '–§–∞–Ω—Ç—å–µ—Ç',
                        'camranh': '–ö–∞–º—Ä–∞–Ω—å',
                        'hoian': '–•–æ–π–∞–Ω',
                        'muine': '–ú—É–π–Ω–µ'
                    };
                    
                    for (const [key, ruName] of Object.entries(cityMap)) {
                        const count = counts[ruName] || 0;
                        const el = document.getElementById(`realestate-${key}-count`);
                        if (el) {
                            el.textContent = count + ' ' + getListingsWord();
                        }
                    }
                });
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatPrice(priceStr) {
            if (!priceStr) return '';
            let str = String(priceStr).toLowerCase().trim();
            let multiplier = 1;
            
            if (str.includes('–º–ª–Ω') || str.includes('–º–ª') || str.includes('mln') || str.includes('–º–∏–ª–ª–∏–æ–Ω') || str.includes('million')) {
                multiplier = 1000000;
            } else if (str.includes('—Ç—ã—Å') || str.includes('—Ç.') || str.includes('k')) {
                multiplier = 1000;
            }
            
            str = str.replace(/,/g, '.');
            let num = parseFloat(str.replace(/[^\d.]/g, ''));
            
            if (isNaN(num) || num === 0) return priceStr;
            
            if (num < 1000 && multiplier === 1) {
                multiplier = 1000000;
            }
            
            num = num * multiplier;
            
            let formatted = Math.round(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
            return formatted + ' VND';
        }
        
        function extractPriceFromText(text) {
            if (!text) return '';
            const patterns = [
                /—Ü–µ–Ω–∞[:\s]*(\d+[,.]?\d*)\s*(–º–ª–Ω|–º–ª|–º–∏–ª–ª–∏–æ–Ω|million)/i,
                /(\d+[,.]?\d*)\s*(–º–ª–Ω|–º–ª|–º–∏–ª–ª–∏–æ–Ω|million)/i,
                /—Ü–µ–Ω–∞[:\s]*(\d[\d\s]{2,})\s*(vnd|–¥–æ–Ω–≥|‚Ç´)?/i,
                /(\d[\d\s]{4,})\s*(vnd|–¥–æ–Ω–≥|‚Ç´)/i,
                /–∞—Ä–µ–Ω–¥–∞[:\s]*(\d+[,.]?\d*)\s*(–º–ª–Ω|–º–ª|–º–∏–ª–ª–∏–æ–Ω)/i
            ];
            for (const pattern of patterns) {
                const match = text.match(pattern);
                if (match) {
                    let numStr = match[1].replace(/\s/g, '').replace(',', '.');
                    let num = parseFloat(numStr);
                    if (!isNaN(num) && num > 0) {
                        let unit = (match[2] || '').toLowerCase();
                        if (unit.includes('–º–ª–Ω') || unit.includes('–º–ª') || unit.includes('–º–∏–ª–ª–∏–æ–Ω') || unit.includes('million')) {
                            num = num * 1000000;
                        } else if (num < 1000) {
                            num = num * 1000000;
                        }
                        return Math.round(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ') + ' VND';
                    }
                }
            }
            return '';
        }

        function changeListingImage(listingId, direction, event) {
            if (event) event.stopPropagation();
            const slider = document.getElementById(`slider-${listingId}`);
            if (!slider) return;
            
            const imgs = slider.querySelectorAll('img');
            const dots = slider.querySelectorAll('.slider-dot');
            let activeIdx = Array.from(imgs).findIndex(img => img.classList.contains('active'));
            
            imgs[activeIdx].classList.remove('active');
            dots[activeIdx].classList.remove('active');
            
            activeIdx = (activeIdx + direction + imgs.length) % imgs.length;
            
            imgs[activeIdx].classList.add('active');
            dots[activeIdx].classList.add('active');
        }

        // Subcategory state for Vietnam marketplace/exchange
        window.currentSubcategory = window.currentSubcategory || null;

        function renderMarketplaceSubcategories(subcategories, apiCategory, displayCategory) {
            var gridId = displayCategory + '-grid';
            var grid = document.getElementById(gridId);
            if (!grid) return;
            
            var title = (apiCategory === 'money_exchange') ? '–í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞' : '–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏';
            var html = '<div style="padding: 20px;"><h2 style="margin-bottom: 20px; font-size: 20px;">' + title + '</h2><div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;">';
            for (var i = 0; i < subcategories.length; i++) {
                var sub = subcategories[i];
                html += '<div class="card" style="cursor: pointer; padding: 10px; text-align: center;" onclick="loadSubcategoryListings(\'' + sub.id + '\', \'' + displayCategory + '\')">' +
                    '<img src="' + sub.image + '" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 10px;" onerror="this.src=\'/static/images/placeholder.png\'">' +
                    '<h3 style="font-size: 16px;">' + sub.name + '</h3></div>';
            }
            html += '</div></div>';
            grid.innerHTML = html;
        }

        function loadSubcategoryListings(subId, displayCategory) {
            window.currentSubcategory = subId;
            loadListings(displayCategory);
        }

        function loadListings(category, city = '') {
            if (!category) {
                // Determine category from active tab or current context
                const activeTab = document.querySelector('.tab.active');
                if (activeTab) {
                    const onclick = activeTab.getAttribute('onclick');
                    const match = onclick.match(/'([^']+)'/);
                    if (match) category = match[1];
                }
            }
            if (!category) category = 'restaurants';

            // Map category names if needed
            let displayCategory = category;
            if (category === 'real_estate') displayCategory = 'realestate';
            if (category === 'money_exchange') displayCategory = 'exchange';
            
            // Show/hide city buttons for Vietnam
            const vietnamToursBtns = document.getElementById('vietnam-tours-buttons');
            if (vietnamToursBtns) {
                vietnamToursBtns.style.display = (category === 'tours' && currentCountry === 'vietnam') ? 'block' : 'none';
            }
            const vietnamRestBtns = document.getElementById('vietnam-restaurants-buttons');
            if (vietnamRestBtns) {
                vietnamRestBtns.style.display = (category === 'restaurants' && currentCountry === 'vietnam') ? 'block' : 'none';
            }
            const vietnamEntBtns = document.getElementById('vietnam-entertainment-buttons');
            if (vietnamEntBtns) {
                vietnamEntBtns.style.display = (category === 'entertainment' && currentCountry === 'vietnam') ? 'block' : 'none';
            }
            // Show visas city buttons by country
            const visasCountries = ['vietnam', 'thailand', 'india', 'indonesia'];
            visasCountries.forEach(c => {
                const btn = document.getElementById(`${c}-visas-buttons`);
                if (btn) btn.style.display = (category === 'visas' && currentCountry === c) ? 'block' : 'none';
            });
            
            // Show news/photoshoot city buttons by country
            const newsCountries = ['vietnam', 'thailand', 'india', 'indonesia'];
            newsCountries.forEach(c => {
                const btn = document.getElementById(`${c}-news-buttons`);
                if (btn) btn.style.display = (category === 'news' && currentCountry === c) ? 'block' : 'none';
            });
            
            // Show medicine buttons by country
            const medicineCountries = ['vietnam', 'thailand', 'india', 'indonesia'];
            medicineCountries.forEach(c => {
                const btn = document.getElementById(`${c}-medicine-buttons`);
                if (btn) btn.style.display = (category === 'medicine' && currentCountry === c) ? 'block' : 'none';
            });
            
            // Show exchange city buttons by country
            const exchangeCountries = ['vietnam', 'thailand', 'india', 'indonesia'];
            exchangeCountries.forEach(c => {
                const btn = document.getElementById(`${c}-exchange-buttons`);
                if (btn) btn.style.display = ((category === 'exchange' || category === 'money_exchange') && currentCountry === c) ? 'block' : 'none';
            });
            
            // Show marketplace category buttons by country
            const marketplaceCountries = ['vietnam', 'thailand', 'india', 'indonesia'];
            marketplaceCountries.forEach(c => {
                const btn = document.getElementById(`${c}-marketplace-buttons`);
                if (btn) btn.style.display = (category === 'marketplace' && currentCountry === c) ? 'block' : 'none';
            });

            let params = new URLSearchParams();
            params.append('country', currentCountry);
            // For transport, city param is actually transport_type
            if (city && category !== 'transport') params.append('city', city);
            
            // Add exchange city filter
            if ((category === 'exchange' || category === 'money_exchange') && currentExchangeCity) {
                params.append('city', currentExchangeCity);
            }
            
            // Add marketplace category filter
            if (category === 'marketplace' && currentMarketplaceCategory) {
                params.append('subcategory', currentMarketplaceCategory);
            }
            
            // Add marketplace city filter
            if (category === 'marketplace' && currentMarketplaceCity) {
                params.append('city', currentMarketplaceCity);
            }
            
            if (category === 'transport') {
                if (currentTransportType) params.append('transport_type', currentTransportType);
                if (currentTransportCity) params.append('city', currentTransportCity);
                if (document.getElementById('bike-model')) params.append('model', document.getElementById('bike-model').value);
                if (document.getElementById('bike-year')) params.append('year', document.getElementById('bike-year').value);
                if (document.getElementById('bike-price-min')) params.append('price_min', document.getElementById('bike-price-min').value);
                if (document.getElementById('bike-price-max')) params.append('price_max', document.getElementById('bike-price-max').value);
            }
            
            if (category === 'real_estate') {
                params.append('realestate_city', currentRealEstateCity);
                if (currentRealEstateSort) params.append('sort', currentRealEstateSort);
                if (currentRealEstateType) params.append('listing_type', currentRealEstateType);
                if (currentRealEstatePriceMax) params.append('price_max', currentRealEstatePriceMax);
                if (currentRealEstatePriceMin) params.append('price_min', currentRealEstatePriceMin);
                if (currentRealEstateGroup) params.append('source_group', currentRealEstateGroup);
            }
            
            // –í —Ä–µ–∂–∏–º–µ –∞–¥–º–∏–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫—Ä—ã—Ç—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
            if (adminAuthenticated) {
                params.append('show_hidden', '1');
            }
            
            const url = `/api/listings/${category}?` + params.toString() + '&_t=' + Date.now();
            console.log('Fetching:', url);
            
            fetch(url)
                .then(r => r.json())
                .then(data => {
                    console.log(`DEBUG: API returned ${data.length} items for ${category}`);
                    let gridId = category === 'transport' ? 'transport-grid' : category === 'real_estate' ? 'real_estate-grid' : category === 'money_exchange' ? 'exchange-grid' : category + '-grid';
                    
                    let filteredData = data.filter(item => {
                        // –î–ª—è –í—å–µ—Ç–Ω–∞–º–∞ –≤–æ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –æ—Ç–∫–ª—é—á–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã —è–∑—ã–∫–∞, —á—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
                        if (currentCountry === 'vietnam' && ['restaurants', 'tours', 'entertainment', 'real_estate', 'transport', 'visas', 'medicine', 'marketplace', 'kids', 'photosession', 'money_exchange', 'exchange', 'news'].includes(category)) {
                            // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
                            if (category === 'restaurants' && currentRestaurantType !== 'all') {
                                if (currentRestaurantType === 'high_rating') {
                                    // –§–∏–ª—å—Ç—Ä –ø–æ –≤—ã—Å–æ–∫–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É (4.0+)
                                    const rating = parseFloat(item.google_rating) || 0;
                                    if (rating < 4.0) {
                                        return false;
                                    }
                                } else if (currentRestaurantType === '–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç') {
                                    // –§–∏–ª—å—Ç—Ä –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤ - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
                                    const desc = (item.description || item.title || '').toLowerCase();
                                    const restType = (item.restaurant_type || '').toLowerCase();
                                    const seafoodKeywords = ['–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç', 'seafood', '—Ä—ã–±', '–∫—Ä–∞–±', '–∫—Ä–µ–≤–µ—Ç–∫', '—É—Å—Ç—Ä–∏—Ü', '–æ–º–∞—Ä', '–ª–æ–±—Å—Ç–µ—Ä', '–∫–∞–ª—å–º–∞—Ä', '–æ—Å—å–º–∏–Ω–æ–≥', '–º–∏–¥–∏–∏', 'fish', 'crab', 'shrimp', 'oyster', 'h·∫£i s·∫£n'];
                                    const hasSeafood = seafoodKeywords.some(kw => desc.includes(kw) || restType.includes(kw));
                                    if (!hasSeafood) {
                                        return false;
                                    }
                                } else {
                                    const desc = (item.description || item.title || '').toLowerCase();
                                    if (!desc.includes(currentRestaurantType)) {
                                        return false;
                                    }
                                }
                            }
                            return true;
                        }
                        const text = (item.description || item.text || '') + ' ' + (item.title || item.name || '');
                        return !isEnglishOnly(text);
                    });
                    
                    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ "–í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥"
                    if (category === 'restaurants' && currentRestaurantType === 'high_rating') {
                        filteredData.sort((a, b) => {
                            const ratingA = parseFloat(a.google_rating) || 0;
                            const ratingB = parseFloat(b.google_rating) || 0;
                            return ratingB - ratingA; // –ü–æ —É–±—ã–≤–∞–Ω–∏—é
                        });
                    }
                    
                    console.log(`DEBUG: Rendering ${filteredData.length} items to ${gridId}`);
                    
                    // –û–±–Ω–æ–≤–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
                    const tabTitle = document.querySelector(`.tab-content[data-tab="${category}"] h2`);
                    if (tabTitle) {
                        const baseTitle = tabTitle.textContent.split(' (')[0];
                        tabTitle.textContent = `${baseTitle} (${filteredData.length})`;
                    }
                    
                    let html = filteredData.length ? filteredData.map(item => {
                        let channelName = (item.source_channel || '').replace('@', '');
                        let tgLink = item.message_id && channelName ? `https://t.me/${channelName}/${item.message_id}` : null;
                        
                        let images = item.all_images || item.photos || [];
                        if (images.length === 0) {
                            if (item.image_url) images.push(item.image_url);
                            if (item.image_url_2) images.push(item.image_url_2);
                            if (item.image_url_3) images.push(item.image_url_3);
                            if (item.image_url_4) images.push(item.image_url_4);
                            if (images.length === 0 && item.photo_url) images.push(item.photo_url);
                        }
                        const cacheBuster = Date.now();
                        images = images.map(url => url + (url.includes('?') ? '&' : '?') + '_t=' + cacheBuster);
                        let sliderHtml = '';
                        let badgesHtml = '';
                        let typeLabel = '';
                        if (item.listing_type) {
                            if (item.listing_type.includes('sale') && item.listing_type.includes('rent')) {
                                typeLabel = '<span style="background:#d4af37;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üè† –ü—Ä–æ–¥–∞–∂–∞/–ê—Ä–µ–Ω–¥–∞</span>';
                            } else if (item.listing_type.includes('sale')) {
                                typeLabel = '<span style="background:#4CAF50;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üè† –ü—Ä–æ–¥–∞–∂–∞</span>';
                            } else if (item.listing_type.includes('rent')) {
                                typeLabel = '<span style="background:#2196F3;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üîë –ê—Ä–µ–Ω–¥–∞</span>';
                            }
                        }
                        if (item.rooms || item.area || typeLabel) {
                            badgesHtml = `<div style="position:absolute;top:8px;left:8px;display:flex;gap:6px;z-index:10;flex-wrap:wrap;">
                                ${typeLabel}
                                ${item.rooms ? `<span style="background:rgba(0,0,0,0.75);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üõè ${item.rooms}</span>` : ''}
                                ${item.area ? `<span style="background:rgba(0,0,0,0.75);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üìê ${item.area}m¬≤</span>` : ''}
                            </div>`;
                        }
                        // –ü–µ—Ä–µ–≤–æ–¥ –≥–æ—Ä–æ–¥–∞ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
                        function getCityRu(city) {
                            const cityMap = {
                                'Nha Trang': '–ù—è—á–∞–Ω–≥',
                                'Ho Chi Minh': '–•–æ—à–∏–º–∏–Ω',
                                'Da Nang': '–î–∞–Ω–∞–Ω–≥',
                                'Hanoi': '–•–∞–Ω–æ–π',
                                'Phu Quoc': '–§—É–∫—É–æ–∫',
                                'Phan Thiet': '–§–∞–Ω—Ç—å–µ—Ç',
                                'Cam Ranh': '–ö–∞–º—Ä–∞–Ω—å',
                                'Da Lat': '–î–∞–ª–∞—Ç',
                                'Hoi An': '–•–æ–π–∞–Ω',
                                'Mui Ne': '–ú—É–π–Ω–µ'
                            };
                            return cityMap[city] || city;
                        }
                        
                        function getPhotoTypeRu(type) {
                            const typeMap = {
                                'portrait': '–ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è',
                                'wedding': '–°–≤–∞–¥–µ–±–Ω–∞—è',
                                'family': '–°–µ–º–µ–π–Ω–∞—è',
                                'content': '–ö–æ–Ω—Ç–µ–Ω—Ç',
                                'commercial': '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è'
                            };
                            return typeMap[type] || type;
                        }
                        
                        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫—É—Ö–Ω–∏ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤
                        let cuisineType = '';
                        let restTypeBadge = '';
                        let priceCatBadge = '';
                        if (category === 'restaurants') {
                            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
                            const restType = item.restaurant_type || '';
                            if (restType === '–∫–∞—Ñ–µ') restTypeBadge = '‚òï –ö–∞—Ñ–µ';
                            else if (restType === '–±–∞—Ä') restTypeBadge = 'üç∏ –ë–∞—Ä';
                            else if (restType === '–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã') restTypeBadge = 'ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã';
                            else if (restType === '—Ä–µ—Å—Ç–æ—Ä–∞–Ω') restTypeBadge = 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω';
                            
                            // –ö—É—Ö–Ω—è –∏–∑ –ø–æ–ª—è –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—è
                            if (item.kitchen) {
                                cuisineType = 'üç≥ ' + item.kitchen;
                            } else {
                                const desc = (item.description || '').toLowerCase();
                                if (desc.includes('–≤—å–µ—Ç–Ω–∞–º') || desc.includes('vi·ªát')) cuisineType = 'üçú –í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è';
                                else if (desc.includes('—Ä—É—Å—Å–∫') || desc.includes('–±–æ—Ä—â') || desc.includes('–ø–µ–ª—å–º–µ–Ω')) cuisineType = 'ü•ò –†—É—Å—Å–∫–∞—è';
                                else if (desc.includes('–∏—Ç–∞–ª—å—è–Ω') || desc.includes('–ø–∏—Ü—Ü') || desc.includes('–ø–∞—Å—Ç')) cuisineType = 'üçï –ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è';
                                else if (desc.includes('—è–ø–æ–Ω') || desc.includes('—Å—É—à–∏') || desc.includes('—Ä–æ–ª–ª')) cuisineType = 'üç£ –Ø–ø–æ–Ω—Å–∫–∞—è';
                                else if (desc.includes('–∫–∏—Ç–∞–π') || desc.includes('–∫–∏—Ç–∞–π—Å–∫')) cuisineType = 'ü•° –ö–∏—Ç–∞–π—Å–∫–∞—è';
                                else if (desc.includes('–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç') || desc.includes('seafood') || desc.includes('—Ä—ã–±')) cuisineType = 'ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã';
                                else if (desc.includes('–±–∞—Ä') || desc.includes('–∫–æ–∫—Ç–µ–π–ª')) cuisineType = 'üç∏ –ë–∞—Ä';
                                else if (desc.includes('–∫–æ—Ñ–µ') || desc.includes('cafe') || desc.includes('–∫–∞—Ñ–µ')) cuisineType = '‚òï –ö–∞—Ñ–µ';
                            }
                            
                            // –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
                            if (!restTypeBadge) {
                                const desc = (item.description || '').toLowerCase();
                                if (desc.includes('–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç') || desc.includes('seafood')) restTypeBadge = 'ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã';
                                else if (desc.includes('–±–∞—Ä') || desc.includes('–∫–æ–∫—Ç–µ–π–ª')) restTypeBadge = 'üç∏ –ë–∞—Ä';
                                else if (desc.includes('–∫–∞—Ñ–µ') || desc.includes('cafe') || desc.includes('–∫–æ—Ñ–µ')) restTypeBadge = '‚òï –ö–∞—Ñ–µ';
                                else restTypeBadge = 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω';
                            }
                            
                            // –¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
                            const priceCat = item.price_category || '';
                            if (priceCat === 'cheap') priceCatBadge = 'üíµ';
                            else if (priceCat === 'normal') priceCatBadge = 'üíµüíµ';
                            else if (priceCat === 'expensive') priceCatBadge = 'üíµüíµüíµ';
                            
                            // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω
                            if (!item.google_rating) {
                                const desc = item.description || '';
                                // –ò—â–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã: "—Ä–µ–π—Ç–∏–Ω–≥ 4.5", "4,5/5", "4.8 –∏–∑ 5", "–æ—Ü–µ–Ω–∫–∞: 4.5", "‚≠ê4.5"
                                const ratingPatterns = [
                                    /—Ä–µ–π—Ç–∏–Ω–≥[:\s]*([345][,\.][0-9])/i,
                                    /–æ—Ü–µ–Ω–∫–∞[:\s]*([345][,\.][0-9])/i,
                                    /([345][,\.][0-9])\s*(?:–∏–∑\s*5|\/5|–∑–≤–µ–∑–¥)/i,
                                    /‚≠ê\s*([345][,\.][0-9])/,
                                    /rating[:\s]*([345][,\.][0-9])/i,
                                    /([345][,\.][0-9])\s*stars?/i
                                ];
                                for (const pattern of ratingPatterns) {
                                    const match = desc.match(pattern);
                                    if (match) {
                                        item.google_rating = match[1].replace(',', '.');
                                        break;
                                    }
                                }
                            }
                        }
                        
                        if (images.length > 0) {
                            sliderHtml = `
                            <div class="card-slider" id="slider-${item.id}" style="position:relative; height: 250px;">
                                <div style="position:absolute;top:8px;left:8px;display:flex;flex-direction:column;gap:4px;z-index:10;">
                                    ${category === 'restaurants' 
                                            ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                <span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">${restTypeBadge}</span>
                                                ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìç ${getCityRu(item.city)}</span>` : ''}
                                                ${priceCatBadge ? `<span style="font-size:18px;text-shadow:0 1px 3px rgba(0,0,0,0.5);">${priceCatBadge}</span>` : ''}
                                            </div>
                                            ${item.google_rating ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ${item.google_rating}</span>` : ''}`
                                            : (category === 'tours' 
                                                ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                    ${item.days ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìÖ ${item.days} ${item.days == 1 ? '–¥–µ–Ω—å' : (item.days < 5 ? '–¥–Ω—è' : '–¥–Ω–µ–π')}</span>` : ''}
                                                    ${item.price ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üí∞ $${item.price}</span>` : ''}
                                                    ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üèôÔ∏è ${getCityRu(item.city)}</span>` : ''}
                                                </div>`
                                                : (category === 'transport' || category === 'bike_rentals'
                                                    ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                        ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìç ${getCityRu(item.city)}</span>` : ''}
                                                        ${item.engine ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üîß ${item.engine}cc</span>` : ''}
                                                        ${item.year ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìÖ ${item.year}</span>` : ''}
                                                        ${item.transport_type ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üè∑Ô∏è ${item.transport_type === 'bikes' ? '–ú–æ—Ç–æ' : item.transport_type === 'cars' ? '–ê–≤—Ç–æ' : item.transport_type === 'yachts' ? '–Ø—Ö—Ç—ã' : item.transport_type}</span>` : ''}
                                                    </div>`
                                                    : (category === 'entertainment' 
                                                        ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                            ${item.feature ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">‚≠ê ${item.feature}</span>` : ''}
                                                            ${item.capacity ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üë• ${item.capacity}</span>` : ''}
                                                        </div>`
                                                        : (category === 'real_estate' || category === 'realestate' 
                                                            ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                                <span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">${item.listing_type === 'rent' ? 'üîë –ê—Ä–µ–Ω–¥–∞' : 'üè† –ü—Ä–æ–¥–∞–∂–∞'}</span>
                                                                ${item.area ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìê ${item.area}m¬≤</span>` : ''}
                                                                ${item.rooms ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üõè ${item.rooms} –∫–æ–º–Ω.</span>` : ''}
                                                                ${item.price ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);background:rgba(0,0,0,0.6);padding:4px 10px;border-radius:6px;font-weight:bold;">üí∞ ${item.price}</span>` : ''}
                                                            </div>`
                                                            : (category === 'money_exchange' || category === 'exchange'
                                                                ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                                    ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üèôÔ∏è ${getCityRu(item.city)}</span>` : ''}
                                                                    ${item.currency_pairs ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üíµ ${item.currency_pairs}</span>` : ''}
                                                                </div>`
                                                                : (category === 'kids'
                                                                    ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                                        ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üìç ${getCityRu(item.city)}</span>` : ''}
                                                                        ${item.kids_age ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üë∂ ${item.kids_age}</span>` : ''}
                                                                        ${item.kids_category ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üéØ ${item.kids_category}</span>` : ''}
                                                                    </div>`
                                                                    : (category === 'marketplace'
                                                                        ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                                            ${item.marketplace_category ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üè∑Ô∏è ${
                                                                                item.marketplace_category === 'electronics' ? '–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞' : 
                                                                                item.marketplace_category === 'clothing' ? '–û–¥–µ–∂–¥–∞' : 
                                                                                item.marketplace_category === 'furniture' ? '–ú–µ–±–µ–ª—å' : 
                                                                                item.marketplace_category === 'free' ? '–î–∞—Ä–æ–º' : item.marketplace_category
                                                                            }</span>` : ''}
                                                                            ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üìç ${getCityRu(item.city)}</span>` : ''}
                                                                        </div>`
                                                                        : (category === 'visas'
                                                                            ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                                                ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üìç ${getCityRu(item.city)}</span>` : ''}
                                                                                ${item.destination ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">‚úàÔ∏è ${item.destination}</span>` : ''}
                                                                                ${item.citizenship ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">ü™™ ${item.citizenship}</span>` : ''}
                                                                                ${item.price ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üí∞ $${item.price}</span>` : ''}
                                                                            </div>`
                                                                            : (category === 'news'
                                                                                ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                                                    ${item.photo_type ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üì∑ ${getPhotoTypeRu(item.photo_type)}</span>` : ''}
                                                                                    ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üìç ${getCityRu(item.city)}</span>` : ''}
                                                                                    ${item.price ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üí∞ ${item.price}$</span>` : ''}
                                                                                </div>`
                                                                                : (category === 'medicine'
                                                                                    ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                                                        ${item.medicine_type ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üè• ${
                                                                                            item.medicine_type === 'questions' ? '–í–æ–ø—Ä–æ—Å—ã' :
                                                                                            item.medicine_type === 'clinics' ? '–ö–ª–∏–Ω–∏–∫–∏' :
                                                                                            item.medicine_type === 'doctors' ? '–í—Ä–∞—á–∏' :
                                                                                            item.medicine_type === 'insurance' ? '–°—Ç—Ä–∞—Ö–æ–≤–∫–∞' :
                                                                                            item.medicine_type === 'directions' ? '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è' : item.medicine_type
                                                                                        }</span>` : ''}
                                                                                        ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7); background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 4px;">üìç ${getCityRu(item.city)}</span>` : ''}
                                                                                    </div>`
                                                                                    : ''))))))))))
                                    }
                                </div>
                                ${images.map((img, idx) => {
                                    // –§–æ—Ä—Å–∏—Ä—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è GitHub Raw
                                    let finalImg = img;
                                    if (img.includes('github.com') && !img.includes('raw.githubusercontent.com')) {
                                        finalImg = img.replace('github.com', 'raw.githubusercontent.com').replace('/blob/', '/');
                                    }
                                    return `<img src="${finalImg}" class="${idx === 0 ? 'active' : ''}" data-idx="${idx}" onerror="this.onerror=null;this.src='/static/images/placeholder.jpg';this.classList.add('active');" loading="lazy">`;
                                }).join('')}
                                ${images.length > 1 ? `
                                    <button class="slider-nav prev" onclick="changeListingImage('${item.id}', -1, event)">‚Äπ</button>
                                    <button class="slider-nav next" onclick="changeListingImage('${item.id}', 1, event)">‚Ä∫</button>
                                    <div class="slider-dots">
                                        ${images.map((_, idx) => `<div class="slider-dot ${idx === 0 ? 'active' : ''}" data-idx="${idx}"></div>`).join('')}
                                    </div>
                                ` : ''}
                                ${adminAuthenticated && category === 'kids' ? `
                                    <div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                                        <button onclick="openKidsPhotoEdit('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button onclick="openDeleteModal('${item.id}', '${category}')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                                ${adminAuthenticated && (category === 'money_exchange' || category === 'exchange') ? `
                                    <div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                                        <button onclick="openExchangePhotoEdit('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button onclick="openDeleteModal('${item.id}', '${category}')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                                ${adminAuthenticated && category === 'marketplace' ? `
                                    <div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                                        <button onclick="openMarketplacePhotoEdit('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button onclick="openDeleteModal('${item.id}', '${category}')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                                ${adminAuthenticated && category === 'visas' ? `
                                    <div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                                        <button onclick="openVisasPhotoEdit('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button onclick="openDeleteModal('${item.id}', '${category}')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                                ${adminAuthenticated && category === 'news' ? `
                                    <div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                                        <button onclick="openPhotosessionPhotoEdit('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button onclick="openDeleteModal('${item.id}', '${category}')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                                ${adminAuthenticated && category === 'medicine' ? `
                                    <div style="position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:15;">
                                        <button onclick="openMedicinePhotoEdit('${item.id}', event)" style="background:rgba(76,175,80,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button onclick="openDeleteModal('${item.id}', '${category}')" style="background:rgba(255,107,107,0.9);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,0.3);">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                            </div>`;
                        }

                        // Format description with bold labels and link from "OBJECT"
                        // –°–Ω–∞—á–∞–ª–∞ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º HTML —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å XSS –∏ —Å–ª–æ–º–∞–Ω–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏
                        let descText = escapeHtml((item.description || item.text || '').substring(0, 500));
                        descText = descText
                            .replace(/(–û–ë–™–ï–ö–¢:|–û–±—ä–µ–∫—Ç:)/g, tgLink ? `<a href="${tgLink}" target="_blank" style="color:inherit; font-weight:bold; text-decoration:underline;">$1</a>` : '<b>$1</b>')
                            .replace(/(–¶–µ–Ω–∞:|–¶–ï–ù–ê:)/g, '<b>$1</b>')
                            .replace(/(–†–∞–π–æ–Ω:|–†–ê–ô–û–ù:)/g, '<b>$1</b>')
                            .replace(/(–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:|–†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï:)/g, '<b>$1</b>')
                            .replace(/(–ü–ª–æ—â–∞–¥—å:|–ü–õ–û–©–ê–î–¨:)/g, '<b>$1</b>')
                            .replace(/(–ú–µ–±–µ–ª—å:|–ú–ï–ë–ï–õ–¨:)/g, '<b>$1</b>')
                            .replace(/(–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:|–ù–ê–ü–†–ê–í–õ–ï–ù–ò–ï:)/g, '<b>$1</b>')
                            .replace(/(–†—è–¥–æ–º:|–†–Ø–î–û–ú:)/g, '<b>$1</b>')
                            .replace(/(–°—Ç—Ä—É–∫—Ç—É—Ä–∞:|–°–¢–†–£–ö–¢–£–†–ê:)/g, '<b>$1</b>')
                            .replace(/(–¶–µ–Ω–∞:|–¶–ï–ù–ê:)([^<\n]+)/gi, '<b>$1</b>$2 <span style="color:#2196F3; font-weight:bold;">[+84-0797 018 179]</span>');

                        // –í—Å–µ–≥–¥–∞ –∏–∑–≤–ª–µ–∫–∞–µ–º —Ü–µ–Ω—É –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è (–ø–æ–ª–µ price –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ—Ä—á–µ–Ω–æ)
                        let displayPrice = '';
                        const desc = item.description || item.text || '';
                        // –ò—â–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã: "40 000 000 VND", "4,600,000‚Ç´", "$500", "500$", "–¶–ï–ù–ê 6 –ú–ò–õ–õ–ò–û–ù–û–í"
                        const pricePatterns = [
                            /(\d[\d\s,.]*\d*)\s*(?:VND|vnd|‚Ç´|vnƒë)/i,
                            /(?:–¶–ï–ù–ê|–¶–µ–Ω–∞|Price|PRICE)[:\s-]*(\d[\d\s,.]*)\s*(?:–ú–ò–õ–õ–ò–û–ù|–º–ª–Ω|M|VND|‚Ç´|\$|USD)?/i,
                            /(\$\s*[\d,.\s]+|\d[\d,.\s]+\s*\$)/,
                            /(\d[\d\s,.]+)\s*(?:USD|USDT|THB|IDR|—Ä—É–±|–≥—Ä–Ω)/i
                        ];
                        for (const pattern of pricePatterns) {
                            const match = desc.match(pattern);
                            if (match) {
                                displayPrice = match[1].trim();
                                if (desc.includes('$') || desc.toLowerCase().includes('usd')) {
                                    displayPrice = '$' + displayPrice.replace(/\$/g, '');
                                } else {
                                    displayPrice = formatPrice(displayPrice);
                                }
                                break;
                            }
                        }

                        return `
                        <div class="card" style="display: flex; flex-direction: column; height: 100%;">
                            ${sliderHtml}
                            <div style="padding: 15px; display: flex; flex-direction: column; flex-grow: 1;">
                                <h3 style="color:#d4af37; margin-bottom:10px;">
                                    ${tgLink ? `<a href="${tgLink}" target="_blank" style="color:#d4af37; text-decoration:none;">${escapeHtml(item.title || item.name || '–û–±—ä—è–≤–ª–µ–Ω–∏–µ')}</a>` : escapeHtml(item.title || item.name || '–û–±—ä—è–≤–ª–µ–Ω–∏–µ')}
                                </h3>
                                <div style="font-size:13px; color:#444; line-height:1.6; overflow:hidden; display:-webkit-box; -webkit-line-clamp:12; -webkit-box-orient:vertical; margin-bottom:15px; white-space: pre-line;">
                                    ${descText}${(item.description || item.text || '').length > 1000 ? '...' : ''}
                                </div>
                                <div style="margin-top:auto; padding-top:12px; border-top:1px solid #eee;">
                                    <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ –∏ –¥–∞—Ç–∞ -->
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px;">
                                        <div style="background: #f5f5f5; padding: 8px; border-radius: 6px; text-align: center;">
                                            <div style="font-size: 11px; color: #888;">üìÖ –î–∞—Ç–∞</div>
                                            <div style="font-size: 13px; font-weight: 600; color: #333;">${(item.date ? item.date.substring(0, 10) : '-')}</div>
                                        </div>
                                        <div style="background: #fff3e0; padding: 8px; border-radius: 6px; text-align: center;">
                                            <div style="font-size: 11px; color: #888;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç</div>
                                            <div style="font-size: 12px; font-weight: 600; color: #e65100;">${item.contact_name || '-'}</div>
                                        </div>
                                    </div>
                                    <!-- –¶–µ–Ω–∞ -->
                                    ${(category === 'transport' || category === 'bike_rentals') 
                                        ? (item.price ? `<div style="background: transparent; border: 2px solid #d4af37; color: #d4af37; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                            <span style="font-size: 18px; font-weight: bold;">üí∞ ${Number(item.price).toLocaleString('vi-VN')} VND</span>
                                        </div>` : '')
                                        : (category === 'tours' 
                                            ? (item.price ? `<div style="background: transparent; border: 2px solid #d4af37; color: #d4af37; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                                <span style="font-size: 18px; font-weight: bold;">üí∞ $${item.price}</span>
                                            </div>` : '')
                                            : (category === 'real_estate' || category === 'realestate'
                                                ? (() => {
                                                    let realEstatePrice = item.price || extractPriceFromText(item.description || item.text);
                                                    if (realEstatePrice && realEstatePrice !== '0' && realEstatePrice !== 0) {
                                                        realEstatePrice = typeof realEstatePrice === 'number' ? formatPrice(realEstatePrice.toString()) : (realEstatePrice.includes('VND') ? realEstatePrice : formatPrice(realEstatePrice));
                                                        return `<div style="background: transparent; border: 2px solid #d4af37; color: #d4af37; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                                            <span style="font-size: 18px; font-weight: bold;">üí∞ ${realEstatePrice}</span>
                                                        </div>`;
                                                    }
                                                    return '';
                                                })()
                                                : (displayPrice ? `<div style="background: linear-gradient(135deg, #d4af37, #f4d03f); color: #000; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                                    <span style="font-size: 18px; font-weight: bold;">üí∞ ${displayPrice}</span>
                                                </div>` : '')
                                            )
                                        )
                                    }
                                    <!-- WhatsApp –∏ Telegram –∫–Ω–æ–ø–∫–∏ -->
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px;">
                                        ${item.whatsapp ? `<a href="https://api.whatsapp.com/send/?phone=${item.whatsapp}&text&type=phone_number&app_absent=0" target="_blank" style="display: block; background: transparent; border: 2px solid #25D366; color: #25D366; padding: 10px; border-radius: 6px; text-align: center; text-decoration: none; font-weight: 600;">
                                            üí¨ WhatsApp
                                        </a>` : `<div style="display: block; background: transparent; border: 2px solid #ccc; color: #999; padding: 10px; border-radius: 6px; text-align: center; font-weight: 600;">
                                            üí¨ WhatsApp
                                        </div>`}
                                        ${item.telegram ? `<a href="https://t.me/${item.telegram.replace('@', '')}" target="_blank" style="display: block; background: transparent; border: 2px solid #0088cc; color: #0088cc; padding: 10px; border-radius: 6px; text-align: center; text-decoration: none; font-weight: 600;">
                                            ‚úàÔ∏è Telegram
                                        </a>` : `<div style="display: block; background: transparent; border: 2px solid #ccc; color: #999; padding: 10px; border-radius: 6px; text-align: center; font-weight: 600;">
                                            ‚úàÔ∏è Telegram
                                        </div>`}
                                    </div>
                                    ${category === 'restaurants' ? `
                                    <!-- Google Maps –∫–Ω–æ–ø–∫–∞ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ -->
                                    <a href="https://www.google.com/maps/search/${encodeURIComponent((item.title || item.name || '') + ' ' + (item.location || item.city || 'Vietnam'))}" target="_blank" style="display: block; background: transparent; border: 2px solid #4285F4; color: #4285F4; padding: 10px; border-radius: 6px; text-align: center; text-decoration: none; font-weight: 600; margin-bottom: 10px;">
                                        üìç –û—Ç–∫—Ä—ã—Ç—å –≤ Google Maps
                                    </a>
                                    ` : ''}
                                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                        ${item.external_link ? `<a href="${item.external_link}" target="_blank" style="flex: 1; min-width: 100px; display: inline-block; background: #d4af37; text-decoration: none; text-align: center; padding: 8px; border-radius: 6px; color: white; font-size: 12px; font-weight: 600;">üîó –û—Ä–∏–≥–∏–Ω–∞–ª</a>` : ''}
                                        ${tgLink ? `<a href="${tgLink}" target="_blank" class="btn tg-btn" style="flex: 1; min-width: 100px; display: inline-block; background: #0088cc; text-decoration: none; text-align: center; padding: 8px; border-radius: 6px; color: white; font-size: 12px; font-weight: 600;">‚úàÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram</a>` : ''}
                                    </div>
                                    <div style="display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap;" data-listing-id="${item.id}">
                                        ${adminAuthenticated ? (category === 'kids' 
                                            ? `<button onclick="toggleInlineEdit('${item.id}', '${category}')" style="flex: 1; min-width: 60px; padding: 6px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">‚úèÔ∏è</button>`
                                            : `<button onclick="openEditModal('${item.id}', '${category}')" style="flex: 1; min-width: 60px; padding: 6px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">‚úèÔ∏è</button>`) : ''}
                                        ${adminAuthenticated ? `<button onclick="openMoveModal('${item.id}', '${category}', '${item.medicine_type || ''}')" style="flex: 1; min-width: 60px; padding: 6px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">‚ÜîÔ∏è</button>` : ''}
                                        ${adminAuthenticated ? `<button onclick="toggleVisibility('${item.id}', '${category}')" id="vis-btn-${item.id}" style="flex: 1; min-width: 60px; padding: 6px; background: ${item.hidden ? '#ff9800' : '#9e9e9e'}; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">${item.hidden ? 'üëÅÔ∏è' : 'üôà'}</button>` : ''}
                                        ${adminAuthenticated ? `<button onclick="openDeleteModal('${item.id}', '${category}')" style="flex: 1; min-width: 60px; padding: 6px; background: #ff6b6b; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">üóëÔ∏è</button>` : ''}
                                    </div>
                                    ${adminAuthenticated && category === 'kids' ? `
                                    <div id="inline-edit-${item.id}" style="display: none; margin-top: 10px; padding: 12px; background: #f0f8ff; border-radius: 8px; border: 2px solid #2196F3;">
                                        <div style="font-weight: bold; color: #2196F3; margin-bottom: 10px;">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                                        <div style="margin-bottom: 8px;">
                                            <label style="font-size: 11px; color: #666;">–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
                                            <input type="text" id="inline-title-${item.id}" value="${escapeHtml(item.title || '')}" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; box-sizing: border-box;">
                                        </div>
                                        <div style="margin-bottom: 8px;">
                                            <label style="font-size: 11px; color: #666;">–ì–æ—Ä–æ–¥:</label>
                                            <select id="inline-city-${item.id}" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px;">
                                                <option value="Nha Trang" ${item.city === 'Nha Trang' ? 'selected' : ''}>–ù—è—á–∞–Ω–≥</option>
                                                <option value="Ho Chi Minh" ${item.city === 'Ho Chi Minh' ? 'selected' : ''}>–•–æ—à–∏–º–∏–Ω</option>
                                                <option value="Da Nang" ${item.city === 'Da Nang' ? 'selected' : ''}>–î–∞–Ω–∞–Ω–≥</option>
                                                <option value="Hanoi" ${item.city === 'Hanoi' ? 'selected' : ''}>–•–∞–Ω–æ–π</option>
                                                <option value="Phu Quoc" ${item.city === 'Phu Quoc' ? 'selected' : ''}>–§—É–∫—É–æ–∫</option>
                                            </select>
                                        </div>
                                        <div style="margin-bottom: 8px;">
                                            <label style="font-size: 11px; color: #666;">–í–æ–∑—Ä–∞—Å—Ç:</label>
                                            <input type="text" id="inline-age-${item.id}" value="${escapeHtml(item.kids_age || item.age || '')}" placeholder="0-3, 3-6, 6-12..." style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; box-sizing: border-box;">
                                        </div>
                                        <div style="margin-bottom: 8px;">
                                            <label style="font-size: 11px; color: #666;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                                            <select id="inline-kids-category-${item.id}" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px;">
                                                <option value="schools" ${(item.kids_category || item.kids_type) === 'schools' ? 'selected' : ''}>üè´ –°–∞–¥–∏–∫–∏/–®–∫–æ–ª—ã</option>
                                                <option value="nannies" ${(item.kids_category || item.kids_type) === 'nannies' ? 'selected' : ''}>üë©‚Äçüè´ –ù—è–Ω–∏/–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã</option>
                                                <option value="events" ${(item.kids_category || item.kids_type) === 'events' ? 'selected' : ''}>üéâ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</option>
                                                <option value="products" ${(item.kids_category || item.kids_type) === 'products' ? 'selected' : ''}>üß∏ –¢–æ–≤–∞—Ä—ã</option>
                                            </select>
                                        </div>
                                        <div style="margin-bottom: 8px;">
                                            <label style="font-size: 11px; color: #666;">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                                            <textarea id="inline-desc-${item.id}" rows="3" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; box-sizing: border-box; resize: vertical;">${escapeHtml(item.description || '')}</textarea>
                                        </div>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                                            <div>
                                                <label style="font-size: 11px; color: #666;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç:</label>
                                                <input type="text" id="inline-contact-${item.id}" value="${escapeHtml(item.contact_name || '')}" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; box-sizing: border-box;">
                                            </div>
                                            <div>
                                                <label style="font-size: 11px; color: #666;">üí¨ WhatsApp:</label>
                                                <input type="text" id="inline-whatsapp-${item.id}" value="${escapeHtml(item.whatsapp || '')}" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; box-sizing: border-box;">
                                            </div>
                                        </div>
                                        <div style="margin-bottom: 10px;">
                                            <label style="font-size: 11px; color: #666;">‚úàÔ∏è Telegram:</label>
                                            <input type="text" id="inline-telegram-${item.id}" value="${escapeHtml(item.telegram || '')}" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; box-sizing: border-box;">
                                        </div>
                                        <div id="inline-status-${item.id}" style="display: none; margin-bottom: 8px; font-size: 12px; padding: 6px; border-radius: 4px;"></div>
                                        <div style="display: flex; gap: 8px;">
                                            <button onclick="saveInlineEdit('${item.id}', 'kids')" style="flex: 1; padding: 8px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                            <button onclick="toggleInlineEdit('${item.id}', 'kids')" style="flex: 1; padding: 8px; background: #9e9e9e; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600;">‚úñÔ∏è –û—Ç–º–µ–Ω–∞</button>
                                        </div>
                                    </div>
                                    ` : ''}
                                    ${adminAuthenticated && item.hidden ? `<div style="background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; text-align: center; margin-top: 6px; font-size: 11px; font-weight: 600;">üôà –°–ö–†–´–¢–û</div>` : ''}
                                </div>
                            </div>
                        </div>
                    `}).join('') : '<div class="empty">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>';
                    
                    let element = document.getElementById(gridId);
                    if (element) {
                        element.innerHTML = html;
                        const cardCount = element.querySelectorAll('.card').length;
                        console.log(`DEBUG: DOM now has ${cardCount} cards in ${gridId}`);
                        
                        // –ü–µ—Ä–µ–≤–æ–¥–∏–º –∫–∞—Ä—Ç–æ—á–∫–∏ –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –Ω–µ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
                        if (currentLang !== 'ru' && typeof translateVisibleCards === 'function') {
                            setTimeout(() => translateVisibleCards(), 100);
                        }
                    }
                })
                .catch(err => console.error('Error loading listings:', err));
        }

        function saveConfig() {
            const config = {
                channels: document.getElementById('channels').value.split('\n').filter(c => c.trim()),
                auto_parse_interval: parseInt(document.getElementById('parse-interval').value) || 300
            };
            
            fetch(`/api/parser-config?country=${currentCountry}`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(config)
            })
            .then(r => r.json())
            .then(data => alert(data.success ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!' : '–û—à–∏–±–∫–∞'));
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–∞–Ω–Ω–µ—Ä, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∫—É—Ä—Å—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
        loadBanners();
        updateAllCityCounts();
        renderKidsCityFilter();
        updateKidsCitySelect();
        updateFormCurrency();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –í—å–µ—Ç–Ω–∞–º–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
        if (document.getElementById('vietnam-restaurants-buttons'))
            document.getElementById('vietnam-restaurants-buttons').style.display = 'block';
        if (document.getElementById('vietnam-tours-buttons'))
            document.getElementById('vietnam-tours-buttons').style.display = 'block';
        if (document.getElementById('vietnam-entertainment-buttons'))
            document.getElementById('vietnam-entertainment-buttons').style.display = 'block';
        if (document.getElementById('vietnam-transport-buttons'))
            document.getElementById('vietnam-transport-buttons').style.display = 'block';
        if (document.getElementById('vietnam-realestate-buttons'))
            document.getElementById('vietnam-realestate-buttons').style.display = 'block';
        if (document.getElementById('vietnam-visas-buttons'))
            document.getElementById('vietnam-visas-buttons').style.display = 'block';
        if (document.getElementById('vietnam-news-buttons'))
            document.getElementById('vietnam-news-buttons').style.display = 'block';
        if (document.getElementById('vietnam-medicine-buttons'))
            document.getElementById('vietnam-medicine-buttons').style.display = 'block';
        
        updateRates();
        loadStats();
        loadRealEstateCounts();
        loadExchangeCounts();
        loadKidsCounts();
        loadVisasCounts();
        loadMarketplaceCounts();
        setInterval(updateRates, 60000);
        setInterval(loadStats, 5000);
        
        const visitorId = 'user_' + Math.random().toString(36).substr(2, 9);
        function pingOnline() {
            fetch(`/api/ping?uid=${visitorId}`)
                .then(r => r.json())
                .then(data => {
                    document.getElementById('online-count').textContent = data.online || 0;
                })
                .catch(() => {});
        }
        pingOnline();
        setInterval(pingOnline, 30000);

        // Duplicate updateBanner removed - using the one defined above

        let adminAuthenticated = false;
        let adminPassword_val = '';
        let adminCountry = null;
        const adminPassword = document.getElementById('admin-password');
        const adminStatus = document.getElementById('admin-status');
        const adminTools = document.getElementById('admin-tools');
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        loadListings('real_estate');

        async function toggleVisibility(listingId, category) {
            console.log('Toggling visibility for:', listingId, 'from:', category);
            try {
                const response = await fetch('/api/admin/toggle-visibility', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        listing_id: listingId
                    })
                });
                const data = await response.json();
                if (data.success) {
                    const btn = document.getElementById('vis-btn-' + listingId);
                    if (btn) {
                        btn.style.background = data.hidden ? '#ff9800' : '#9e9e9e';
                        btn.textContent = data.hidden ? 'üëÅÔ∏è' : 'üôà';
                    }
                    const card = btn ? btn.closest('.card') : null;
                    if (card) {
                        let hiddenBadge = card.querySelector('.hidden-badge');
                        if (data.hidden && !hiddenBadge) {
                            const badge = document.createElement('div');
                            badge.className = 'hidden-badge';
                            badge.style.cssText = 'background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; text-align: center; margin-top: 6px; font-size: 11px; font-weight: 600;';
                            badge.textContent = 'üôà –°–ö–†–´–¢–û';
                            card.querySelector('.card-body').appendChild(badge);
                        } else if (!data.hidden && hiddenBadge) {
                            hiddenBadge.remove();
                        }
                    }
                    console.log(data.message);
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                }
            } catch (err) {
                console.error('Error toggling visibility:', err);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏');
            }
        }
        
        function toggleInlineEdit(listingId, category) {
            const editDiv = document.getElementById('inline-edit-' + listingId);
            if (editDiv) {
                editDiv.style.display = editDiv.style.display === 'none' ? 'block' : 'none';
            }
        }
        
        let currentKidsEditId = null;
        async function openKidsPhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentKidsEditId = listingId;
            
            try {
                const response = await fetch('/api/admin/get-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: 'kids',
                        listing_id: listingId
                    })
                });
                const data = await response.json();
                
                if (data.error) {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                    return;
                }
                
                document.getElementById('kids-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('kids-edit-title').value = data.title || '';
                document.getElementById('kids-edit-desc').value = data.description || '';
                document.getElementById('kids-edit-city').value = data.city || '';
                document.getElementById('kids-edit-age').value = data.kids_age || data.age || '';
                document.getElementById('kids-edit-category').value = data.kids_category || data.kids_type || '';
                document.getElementById('kids-edit-contact').value = data.contact_name || '';
                document.getElementById('kids-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('kids-edit-telegram').value = data.telegram || '';
                document.getElementById('kids-edit-status').style.display = 'none';
                document.getElementById('kids-edit-price').value = data.price || '';
                document.getElementById('kids-edit-status').style.display = 'none';
                displayEditPhotosPreview('kids-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('kids-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('kids-edit-modal').style.display = 'flex';
            } catch (err) {
                console.error('Error loading kids listing:', err);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è');
            }
        }
        
        async function saveKidsPhotoEdit() {
            const status = document.getElementById('kids-edit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
            status.style.background = '#fff3e0';
            status.style.color = '#e65100';
            
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val);
                formData.append('country', currentCountry);
                formData.append('category', 'kids');
                formData.append('listing_id', currentKidsEditId);
                formData.append('title', document.getElementById('kids-edit-title').value);
                formData.append('description', document.getElementById('kids-edit-desc').value);
                formData.append('city', document.getElementById('kids-edit-city').value);
                formData.append('kids_age', document.getElementById('kids-edit-age').value);
                formData.append('kids_category', document.getElementById('kids-edit-category').value);
                formData.append('price', document.getElementById('kids-edit-price').value);
                formData.append('contact_name', document.getElementById('kids-edit-contact').value);
                formData.append('whatsapp', document.getElementById('kids-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('kids-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('kids-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                
                const response = await fetch('/api/admin/update-listing-with-photo', {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!';
                    status.style.background = '#e8f5e9';
                    status.style.color = '#2e7d32';
                    setTimeout(() => {
                        document.getElementById('kids-edit-modal').style.display = 'none';
                        loadKidsFeed();
                    }, 1000);
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.background = '#ffebee';
                    status.style.color = '#c62828';
                }
            } catch (err) {
                console.error('Error saving kids edit:', err);
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
                status.style.background = '#ffebee';
                status.style.color = '#c62828';
            }
        }
        
        function closeKidsEditModal() {
            document.getElementById('kids-edit-modal').style.display = 'none';
        }
        
        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –û–±–º–µ–Ω –¥–µ–Ω–µ–≥ ===
        let currentExchangeEditId = null;
        
        async function openExchangePhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentExchangeEditId = listingId;
            
            try {
                const response = await fetch('/api/admin/get-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: 'money_exchange',
                        listing_id: listingId
                    })
                });
                const data = await response.json();
                
                if (data.error) {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                    return;
                }
                
                document.getElementById('exchange-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('exchange-edit-title').value = data.title || '';
                document.getElementById('exchange-edit-desc').value = data.description || '';
                document.getElementById('exchange-edit-city').value = data.city || '';
                document.getElementById('exchange-edit-pairs').value = data.currency_pairs || '';
                document.getElementById('exchange-edit-status').style.display = 'none';
                document.getElementById('exchange-edit-address').value = data.address || '';
                document.getElementById('exchange-edit-contact').value = data.contact_name || '';
                document.getElementById('exchange-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('exchange-edit-telegram').value = data.telegram || '';
                document.getElementById('exchange-edit-status').style.display = 'none';
                displayEditPhotosPreview('exchange-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('exchange-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('exchange-edit-modal').style.display = 'flex';
            } catch (err) {
                console.error('Error loading exchange listing:', err);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è');
            }
        }
        
        function closeExchangeEditModal() {
            document.getElementById('exchange-edit-modal').style.display = 'none';
        }
        
        function previewExchangeEditPhoto(index) { previewEditPhotoGeneric('exchange-edit-photo-', 'exchange-edit-photos-preview', index); }
        
        async function saveExchangePhotoEdit() {
            const status = document.getElementById('exchange-edit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
            status.style.background = '#fff3e0';
            status.style.color = '#e65100';
            
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val);
                formData.append('country', currentCountry);
                formData.append('category', 'money_exchange');
                formData.append('listing_id', currentExchangeEditId);
                formData.append('title', document.getElementById('exchange-edit-title').value);
                formData.append('description', document.getElementById('exchange-edit-desc').value);
                formData.append('city', document.getElementById('exchange-edit-city').value);
                formData.append('currency_pairs', document.getElementById('exchange-edit-pairs').value);
                formData.append('address', document.getElementById('exchange-edit-address').value);
                formData.append('contact_name', document.getElementById('exchange-edit-contact').value);
                formData.append('whatsapp', document.getElementById('exchange-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('exchange-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('exchange-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                
                const response = await fetch('/api/admin/update-listing-with-photo', {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ! –û–±–Ω–æ–≤–ª—è–µ–º...';
                    status.style.background = '#e8f5e9';
                    status.style.color = '#2e7d32';
                    setTimeout(() => {
                        closeExchangeEditModal();
                        window.location.reload();
                    }, 1000);
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.background = '#ffebee';
                    status.style.color = '#c62828';
                }
            } catch (err) {
                console.error('Error saving exchange edit:', err);
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
                status.style.background = '#ffebee';
                status.style.color = '#c62828';
            }
        }

        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞ ===
        let currentMarketplaceEditId = null;
        async function openMarketplacePhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentMarketplaceEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'marketplace', listing_id: listingId })
                });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('marketplace-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('marketplace-edit-title').value = data.title || '';
                document.getElementById('marketplace-edit-desc').value = data.description || '';
                document.getElementById('marketplace-edit-city').value = data.city || '';
                document.getElementById('marketplace-edit-price').value = data.price || '';
                document.getElementById('marketplace-edit-category').value = data.marketplace_category || 'other';
                document.getElementById('marketplace-edit-contact').value = data.contact_name || '';
                document.getElementById('marketplace-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('marketplace-edit-telegram').value = data.telegram || '';
                document.getElementById('marketplace-edit-status').style.display = 'none';
                displayEditPhotosPreview('marketplace-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('marketplace-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('marketplace-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading marketplace listing:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ'); }
        }
        function closeMarketplaceEditModal() { document.getElementById('marketplace-edit-modal').style.display = 'none'; }
        function previewMarketplaceEditPhoto(index) { previewEditPhotoGeneric('marketplace-edit-photo-', 'marketplace-edit-photos-preview', index); }
        async function saveMarketplacePhotoEdit() {
            const status = document.getElementById('marketplace-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'marketplace'); formData.append('listing_id', currentMarketplaceEditId);
                formData.append('title', document.getElementById('marketplace-edit-title').value);
                formData.append('description', document.getElementById('marketplace-edit-desc').value);
                formData.append('city', document.getElementById('marketplace-edit-city').value);
                formData.append('price', document.getElementById('marketplace-edit-price').value);
                formData.append('marketplace_category', document.getElementById('marketplace-edit-category').value);
                formData.append('contact_name', document.getElementById('marketplace-edit-contact').value);
                formData.append('whatsapp', document.getElementById('marketplace-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('marketplace-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('marketplace-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closeMarketplaceEditModal(); loadListings('marketplace'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }

        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –í–∏–∑–∞—Ä–∞–Ω ===
        let currentVisasEditId = null;
        async function openVisasPhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentVisasEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'visas', listing_id: listingId }) });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('visas-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('visas-edit-title').value = data.title || '';
                document.getElementById('visas-edit-desc').value = data.description || '';
                document.getElementById('visas-edit-city').value = data.city || 'Nha Trang';
                document.getElementById('visas-edit-destination').value = data.destination || '';
                document.getElementById('visas-edit-citizenship').value = data.citizenship || '–†–æ—Å—Å–∏–π—Å–∫–æ–µ';
                document.getElementById('visas-edit-price').value = data.price || '';
                document.getElementById('visas-edit-contact').value = data.contact_name || '';
                document.getElementById('visas-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('visas-edit-telegram').value = data.telegram || '';
                document.getElementById('visas-edit-status').style.display = 'none';
                displayEditPhotosPreview('visas-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('visas-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('visas-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading visas:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ'); }
        }
        function closeVisasEditModal() { document.getElementById('visas-edit-modal').style.display = 'none'; }
        async function saveVisasPhotoEdit() {
            const status = document.getElementById('visas-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'visas'); formData.append('listing_id', currentVisasEditId);
                formData.append('title', document.getElementById('visas-edit-title').value);
                formData.append('description', document.getElementById('visas-edit-desc').value);
                formData.append('city', document.getElementById('visas-edit-city').value);
                formData.append('destination', document.getElementById('visas-edit-destination').value);
                formData.append('citizenship', document.getElementById('visas-edit-citizenship').value);
                formData.append('price', document.getElementById('visas-edit-price').value);
                formData.append('contact_name', document.getElementById('visas-edit-contact').value);
                formData.append('whatsapp', document.getElementById('visas-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('visas-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('visas-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closeVisasEditModal(); loadListings('visas'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }

        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –§–æ—Ç–æ—Å–µ—Å—Å–∏—è ===
        let currentPhotosessionEditId = null;
        async function openPhotosessionPhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentPhotosessionEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'news', listing_id: listingId }) });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('photosession-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('photosession-edit-title').value = data.title || '';
                document.getElementById('photosession-edit-type').value = data.photo_type || '–ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è';
                document.getElementById('photosession-edit-city').value = data.city || '–ù—è—á–∞–Ω–≥';
                document.getElementById('photosession-edit-desc').value = data.description || '';
                document.getElementById('photosession-edit-price').value = data.price || '';
                document.getElementById('photosession-edit-contact').value = data.contact_name || '';
                document.getElementById('photosession-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('photosession-edit-telegram').value = data.telegram || '';
                document.getElementById('photosession-edit-status').style.display = 'none';
                displayEditPhotosPreview('photosession-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('photosession-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('photosession-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading photosession:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ'); }
        }
        function closePhotosessionEditModal() { document.getElementById('photosession-edit-modal').style.display = 'none'; }
        async function savePhotosessionPhotoEdit() {
            const status = document.getElementById('photosession-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'news'); formData.append('listing_id', currentPhotosessionEditId);
                formData.append('title', document.getElementById('photosession-edit-title').value);
                formData.append('photo_type', document.getElementById('photosession-edit-type').value);
                formData.append('city', document.getElementById('photosession-edit-city').value);
                formData.append('description', document.getElementById('photosession-edit-desc').value);
                formData.append('price', document.getElementById('photosession-edit-price').value);
                formData.append('contact_name', document.getElementById('photosession-edit-contact').value);
                formData.append('whatsapp', document.getElementById('photosession-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('photosession-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('photosession-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closePhotosessionEditModal(); loadListings('news'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }
        function previewPhotosessionPhoto(input) {
            const file = input.files[0];
            if (file) { const reader = new FileReader(); reader.onload = function(e) { document.getElementById('photosession-edit-photo-preview').src = e.target.result; document.getElementById('photosession-edit-photo-preview').style.display = 'block'; document.getElementById('photosession-edit-no-photo').style.display = 'none'; }; reader.readAsDataURL(file); }
        }
        async function savePhotosessionPhotoEdit() {
            const status = document.getElementById('photosession-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'news'); formData.append('listing_id', currentPhotosessionEditId);
                formData.append('title', document.getElementById('photosession-edit-title').value);
                formData.append('description', document.getElementById('photosession-edit-desc').value);
                formData.append('city', document.getElementById('photosession-edit-city').value);
                formData.append('photo_type', document.getElementById('photosession-edit-type').value);
                const photoFile = document.getElementById('photosession-edit-photo').files[0];
                if (photoFile) formData.append('photo', photoFile);
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closePhotosessionEditModal(); loadListings('news'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }

        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ú–µ–¥–∏—Ü–∏–Ω–∞ ===
        let currentMedicineEditId = null;
        async function openMedicinePhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentMedicineEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'medicine', listing_id: listingId }) });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('medicine-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('medicine-edit-title').value = data.title || '';
                document.getElementById('medicine-edit-type').value = data.medicine_type || 'clinics';
                document.getElementById('medicine-edit-city').value = data.city || 'Nha Trang';
                document.getElementById('medicine-edit-desc').value = data.description || '';
                document.getElementById('medicine-edit-price').value = data.price || '';
                document.getElementById('medicine-edit-contact').value = data.contact_name || '';
                document.getElementById('medicine-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('medicine-edit-telegram').value = data.telegram || '';
                document.getElementById('medicine-edit-status').style.display = 'none';
                displayEditPhotosPreview('medicine-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('medicine-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('medicine-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading medicine:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ'); }
        }
        function closeMedicineEditModal() { document.getElementById('medicine-edit-modal').style.display = 'none'; }
        async function saveMedicinePhotoEdit() {
            const status = document.getElementById('medicine-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'medicine'); formData.append('listing_id', currentMedicineEditId);
                formData.append('title', document.getElementById('medicine-edit-title').value);
                formData.append('medicine_type', document.getElementById('medicine-edit-type').value);
                formData.append('city', document.getElementById('medicine-edit-city').value);
                formData.append('description', document.getElementById('medicine-edit-desc').value);
                formData.append('price', document.getElementById('medicine-edit-price').value);
                formData.append('contact_name', document.getElementById('medicine-edit-contact').value);
                formData.append('whatsapp', document.getElementById('medicine-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('medicine-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('medicine-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closeMedicineEditModal(); loadListings('medicine'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }
        
        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¢—É—Ä—ã ===
        let currentTourEditId = null;
        async function openTourPhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentTourEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'tours', listing_id: listingId }) });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('tour-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('tour-edit-title').value = data.title || '';
                document.getElementById('tour-edit-desc').value = data.description || '';
                document.getElementById('tour-edit-days').value = data.days || '1';
                document.getElementById('tour-edit-price').value = data.price || '';
                document.getElementById('tour-edit-location').value = data.location || '';
                document.getElementById('tour-edit-city').value = data.city || 'Nha Trang';
                document.getElementById('tour-edit-contact').value = data.contact_name || '';
                document.getElementById('tour-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('tour-edit-telegram').value = data.telegram || '';
                document.getElementById('tour-edit-status').style.display = 'none';
                displayEditPhotosPreview('tour-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('tour-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('tour-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading tour:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è'); }
        }
        function closeTourEditModal() { document.getElementById('tour-edit-modal').style.display = 'none'; }
        function previewTourEditPhoto(index) { previewEditPhotoGeneric('tour-edit-photo-', 'tour-edit-photos-preview', index); }
        async function saveTourPhotoEdit() {
            const status = document.getElementById('tour-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'tours'); formData.append('listing_id', currentTourEditId);
                formData.append('title', document.getElementById('tour-edit-title').value);
                formData.append('description', document.getElementById('tour-edit-desc').value);
                formData.append('days', document.getElementById('tour-edit-days').value);
                formData.append('price', document.getElementById('tour-edit-price').value);
                formData.append('location', document.getElementById('tour-edit-location').value);
                formData.append('city', document.getElementById('tour-edit-city').value);
                formData.append('contact_name', document.getElementById('tour-edit-contact').value);
                formData.append('whatsapp', document.getElementById('tour-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('tour-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('tour-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closeTourEditModal(); loadListings('tours'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }

        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç ===
        let currentTransportEditId = null;
        async function openTransportPhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentTransportEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'transport', listing_id: listingId }) });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('transport-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('transport-edit-title').value = data.title || '';
                document.getElementById('transport-edit-desc').value = data.description || '';
                document.getElementById('transport-edit-engine').value = data.engine || '';
                document.getElementById('transport-edit-year').value = data.year || '';
                document.getElementById('transport-edit-price').value = data.price || '';
                document.getElementById('transport-edit-type').value = data.transport_type || 'bikes';
                document.getElementById('transport-edit-location').value = data.location || '';
                document.getElementById('transport-edit-city').value = data.city || 'Nha Trang';
                document.getElementById('transport-edit-contact').value = data.contact_name || '';
                document.getElementById('transport-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('transport-edit-telegram').value = data.telegram || '';
                document.getElementById('transport-edit-status').style.display = 'none';
                displayEditPhotosPreview('transport-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('transport-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('transport-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading transport:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è'); }
        }
        function closeTransportEditModal() { document.getElementById('transport-edit-modal').style.display = 'none'; }
        function previewTransportEditPhoto(index) { previewEditPhotoGeneric('transport-edit-photo-', 'transport-edit-photos-preview', index); }
        async function saveTransportPhotoEdit() {
            const status = document.getElementById('transport-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'transport'); formData.append('listing_id', currentTransportEditId);
                formData.append('title', document.getElementById('transport-edit-title').value);
                formData.append('description', document.getElementById('transport-edit-desc').value);
                formData.append('engine', document.getElementById('transport-edit-engine').value);
                formData.append('year', document.getElementById('transport-edit-year').value);
                formData.append('price', document.getElementById('transport-edit-price').value);
                formData.append('transport_type', document.getElementById('transport-edit-type').value);
                formData.append('location', document.getElementById('transport-edit-location').value);
                formData.append('city', document.getElementById('transport-edit-city').value);
                formData.append('contact_name', document.getElementById('transport-edit-contact').value);
                formData.append('whatsapp', document.getElementById('transport-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('transport-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('transport-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closeTransportEditModal(); loadListings('transport'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }

        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã ===
        let currentRestaurantEditId = null;
        async function openRestaurantPhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentRestaurantEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'restaurants', listing_id: listingId }) });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('restaurant-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('restaurant-edit-title').value = data.title || '';
                document.getElementById('restaurant-edit-type').value = data.restaurant_type || data.type || '—Ä–µ—Å—Ç–æ—Ä–∞–Ω';
                document.getElementById('restaurant-edit-desc').value = data.description || '';
                document.getElementById('restaurant-edit-kitchen').value = data.kitchen || '';
                document.getElementById('restaurant-edit-location').value = data.location || '';
                document.getElementById('restaurant-edit-city').value = data.city || 'Nha Trang';
                document.getElementById('restaurant-edit-google-maps').value = data.google_maps || '';
                document.getElementById('restaurant-edit-google-rating').value = data.google_rating || '';
                document.getElementById('restaurant-edit-contact').value = data.contact_name || '';
                document.getElementById('restaurant-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('restaurant-edit-telegram').value = data.telegram || '';
                document.getElementById('restaurant-edit-status').style.display = 'none';
                displayEditPhotosPreview('restaurant-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('restaurant-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('restaurant-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading restaurant:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è'); }
        }
        function closeRestaurantEditModal() { document.getElementById('restaurant-edit-modal').style.display = 'none'; }
        function previewRestaurantEditPhoto(index) { previewEditPhotoGeneric('restaurant-edit-photo-', 'restaurant-edit-photos-preview', index); }
        async function saveRestaurantPhotoEdit() {
            const status = document.getElementById('restaurant-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'restaurants'); formData.append('listing_id', currentRestaurantEditId);
                formData.append('title', document.getElementById('restaurant-edit-title').value);
                formData.append('restaurant_type', document.getElementById('restaurant-edit-type').value);
                formData.append('description', document.getElementById('restaurant-edit-desc').value);
                formData.append('kitchen', document.getElementById('restaurant-edit-kitchen').value);
                formData.append('location', document.getElementById('restaurant-edit-location').value);
                formData.append('city', document.getElementById('restaurant-edit-city').value);
                formData.append('google_maps', document.getElementById('restaurant-edit-google-maps').value);
                formData.append('google_rating', document.getElementById('restaurant-edit-google-rating').value);
                formData.append('contact_name', document.getElementById('restaurant-edit-contact').value);
                formData.append('whatsapp', document.getElementById('restaurant-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('restaurant-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('restaurant-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closeRestaurantEditModal(); loadListings('restaurants'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }

        // === –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å ===
        let currentRealestateEditId = null;
        async function openRealestatePhotoEdit(listingId, event) {
            if (event) event.stopPropagation();
            currentRealestateEditId = listingId;
            try {
                const response = await fetch('/api/admin/get-listing', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: adminPassword_val, country: currentCountry, category: 'real_estate', listing_id: listingId }) });
                const data = await response.json();
                if (data.error) { alert('–û—à–∏–±–∫–∞: ' + data.error); return; }
                document.getElementById('realestate-edit-id').textContent = 'ID: ' + listingId;
                document.getElementById('realestate-edit-title').value = data.title || '';
                document.getElementById('realestate-edit-property-type').value = data.property_type || 'apartment';
                document.getElementById('realestate-edit-desc').value = data.description || '';
                document.getElementById('realestate-edit-rooms').value = data.rooms || 'studio';
                document.getElementById('realestate-edit-area').value = data.area || '';
                document.getElementById('realestate-edit-price').value = data.price || '';
                document.getElementById('realestate-edit-listing-type').value = data.listing_type || 'sale';
                document.getElementById('realestate-edit-location').value = data.location || '';
                document.getElementById('realestate-edit-city').value = data.city || 'Nha Trang';
                document.getElementById('realestate-edit-contact').value = data.contact_name || '';
                document.getElementById('realestate-edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('realestate-edit-telegram').value = data.telegram || '';
                document.getElementById('realestate-edit-status').style.display = 'none';
                displayEditPhotosPreview('realestate-edit-photos-preview', data);
                for (let i = 0; i < 4; i++) { const el = document.getElementById('realestate-edit-photo-' + i); if (el) el.value = ''; }
                document.getElementById('realestate-edit-modal').style.display = 'flex';
            } catch (err) { console.error('Error loading realestate:', err); alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è'); }
        }
        function closeRealestateEditModal() { document.getElementById('realestate-edit-modal').style.display = 'none'; }
        function previewRealestateEditPhoto(index) { previewEditPhotoGeneric('realestate-edit-photo-', 'realestate-edit-photos-preview', index); }
        async function saveRealestatePhotoEdit() {
            const status = document.getElementById('realestate-edit-status');
            status.style.display = 'block'; status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...'; status.style.background = '#fff3e0'; status.style.color = '#e65100';
            try {
                const formData = new FormData();
                formData.append('password', adminPassword_val); formData.append('country', currentCountry);
                formData.append('category', 'real_estate'); formData.append('listing_id', currentRealestateEditId);
                formData.append('title', document.getElementById('realestate-edit-title').value);
                formData.append('property_type', document.getElementById('realestate-edit-property-type').value);
                formData.append('description', document.getElementById('realestate-edit-desc').value);
                formData.append('rooms', document.getElementById('realestate-edit-rooms').value);
                formData.append('area', document.getElementById('realestate-edit-area').value);
                formData.append('price', document.getElementById('realestate-edit-price').value);
                formData.append('listing_type', document.getElementById('realestate-edit-listing-type').value);
                formData.append('location', document.getElementById('realestate-edit-location').value);
                formData.append('city', document.getElementById('realestate-edit-city').value);
                formData.append('contact_name', document.getElementById('realestate-edit-contact').value);
                formData.append('whatsapp', document.getElementById('realestate-edit-whatsapp').value);
                formData.append('telegram', document.getElementById('realestate-edit-telegram').value);
                for (let i = 0; i < 4; i++) { const file = document.getElementById('realestate-edit-photo-' + i)?.files[0]; if (file) formData.append('photo_' + i, file); }
                const response = await fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.success) { status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'; status.style.background = '#e8f5e9'; status.style.color = '#2e7d32'; setTimeout(() => { closeRealestateEditModal(); loadListings('real_estate'); }, 1000); }
                else { status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'); status.style.background = '#ffebee'; status.style.color = '#c62828'; }
            } catch (err) { console.error('Error saving:', err); status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏'; status.style.background = '#ffebee'; status.style.color = '#c62828'; }
        }

        // === –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–≤—å—é —Ñ–æ—Ç–æ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ç–æ ===
        function displayEditPhotosPreview(containerId, data) {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.innerHTML = '';
            const cacheBuster = Date.now();
            const photos = [
                data.image_url || null,
                data.image_url_2 || null,
                data.image_url_3 || null,
                data.image_url_4 || null
            ];
            for (let i = 0; i < 4; i++) {
                const img = document.createElement('img');
                img.setAttribute('data-index', i);
                if (photos[i]) {
                    img.src = photos[i] + (photos[i].includes('?') ? '&' : '?') + '_t=' + cacheBuster;
                    img.style.cssText = 'width: 100%; height: 60px; object-fit: cover; border-radius: 6px; border: 1px solid #ddd;';
                } else {
                    img.src = '/static/images/placeholder.jpg';
                    img.style.cssText = 'width: 100%; height: 60px; object-fit: cover; border-radius: 6px; border: 1px dashed #ccc; opacity: 0.5;';
                }
                container.appendChild(img);
            }
        }
        function previewEditPhotoGeneric(inputPrefix, containerId, index) {
            const input = document.getElementById(inputPrefix + index);
            const file = input?.files[0];
            if (!file) {
                console.log('No file selected for index', index);
                return;
            }
            console.log('Preview photo: index=' + index + ', file=' + file.name + ', container=' + containerId);
            const reader = new FileReader();
            reader.onload = function(e) {
                const container = document.getElementById(containerId);
                if (!container) {
                    console.log('Container not found:', containerId);
                    return;
                }
                // –ò—â–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ data-index
                const indexStr = String(index);
                let img = container.querySelector('img[data-index="' + indexStr + '"]');
                console.log('Found img with data-index=' + indexStr + ':', img ? 'yes' : 'no');
                if (!img) {
                    // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ data-index, –ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É –≤ —Å–ø–∏—Å–∫–µ
                    const allImgs = container.querySelectorAll('img');
                    if (allImgs[index]) {
                        img = allImgs[index];
                        img.setAttribute('data-index', indexStr);
                        console.log('Using img at position', index);
                    } else {
                        img = document.createElement('img');
                        img.setAttribute('data-index', indexStr);
                        container.appendChild(img);
                        console.log('Created new img');
                    }
                }
                img.src = e.target.result;
                img.style.cssText = 'width: 100%; height: 60px; object-fit: cover; border-radius: 6px; border: 2px solid #4CAF50;';
                console.log('Photo preview updated for index', index);
            };
            reader.readAsDataURL(file);
        }
        // Update existing preview functions to use 4 photos
        function previewKidsEditPhoto(index) { previewEditPhotoGeneric('kids-edit-photo-', 'kids-edit-photos-preview', index); }
        function previewExchangeEditPhoto(index) { previewEditPhotoGeneric('exchange-edit-photo-', 'exchange-edit-photos-preview', index); }
        function previewMarketplaceEditPhoto(index) { previewEditPhotoGeneric('marketplace-edit-photo-', 'marketplace-edit-photos-preview', index); }
        function previewVisasEditPhoto(index) { previewEditPhotoGeneric('visas-edit-photo-', 'visas-edit-photos-preview', index); }
        function previewPhotosessionEditPhoto(index) { previewEditPhotoGeneric('photosession-edit-photo-', 'photosession-edit-photos-preview', index); }
        function previewMedicineEditPhoto(index) { previewEditPhotoGeneric('medicine-edit-photo-', 'medicine-edit-photos-preview', index); }
        
        async function saveInlineEdit(listingId, category) {
            const status = document.getElementById('inline-status-' + listingId);
            status.style.display = 'block';
            status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
            status.style.background = '#fff3e0';
            status.style.color = '#e65100';
            
            const updates = {
                title: document.getElementById('inline-title-' + listingId)?.value || '',
                description: document.getElementById('inline-desc-' + listingId)?.value || '',
                city: document.getElementById('inline-city-' + listingId)?.value || '',
                kids_age: document.getElementById('inline-age-' + listingId)?.value || '',
                kids_category: document.getElementById('inline-kids-category-' + listingId)?.value || '',
                kids_type: document.getElementById('inline-kids-category-' + listingId)?.value || '',
                contact_name: document.getElementById('inline-contact-' + listingId)?.value || '',
                whatsapp: document.getElementById('inline-whatsapp-' + listingId)?.value || '',
                telegram: document.getElementById('inline-telegram-' + listingId)?.value || ''
            };
            
            try {
                const response = await fetch('/api/admin/edit-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        listing_id: listingId,
                        updates: updates
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!';
                    status.style.background = '#e8f5e9';
                    status.style.color = '#2e7d32';
                    setTimeout(() => {
                        toggleInlineEdit(listingId, category);
                        loadListings(category);
                    }, 1000);
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.background = '#ffebee';
                    status.style.color = '#c62828';
                }
            } catch (err) {
                console.error('Error saving inline edit:', err);
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
                status.style.background = '#ffebee';
                status.style.color = '#c62828';
            }
        }

        async function openContactModal(listingId, category) {
            console.log('Opening contact modal for:', listingId, 'from:', category);
            try {
                const response = await fetch(`/api/listings/${category}?country=${currentCountry}`);
                const data = await response.json();
                const item = data.find(i => i.id === listingId);
                if (!item) {
                    alert('–û–±—ä—è–≤–ª–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                    return;
                }
                
                let channelName = (item.source_channel || '').replace('@', '');
                let tgLink = item.message_id && channelName ? `https://t.me/${channelName}/${item.message_id}` : null;
                let tgUsername = item.telegram || channelName || '';
                let tgContactLink = tgUsername ? `https://t.me/${tgUsername.replace('@','')}` : tgLink;
                
                let contactHtml = `
                    <div style="text-align:center;">
                        <h3 style="margin:0 0 20px 0;color:#333;">üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                        <div style="background:#f5f5f5;padding:15px;border-radius:8px;margin-bottom:15px;">
                            <p style="margin:0 0 10px 0;font-size:14px;color:#555;">
                                ${item.title || item.name || '–û–±—ä—è–≤–ª–µ–Ω–∏–µ'}
                            </p>
                            ${channelName ? `<p style="margin:0;font-size:13px;color:#666;">üë§ ${channelName}</p>` : ''}
                        </div>
                        <div style="display:flex;flex-direction:column;gap:10px;">
                            ${item.whatsapp ? `<a href="https://wa.me/${item.whatsapp.replace(/[^0-9]/g,'')}" target="_blank" style="display:block;background:#25D366;text-decoration:none;text-align:center;padding:12px;border-radius:8px;color:white;font-size:14px;font-weight:600;">üí¨ WhatsApp: ${item.whatsapp}</a>` : ''}
                            ${tgContactLink ? `<a href="${tgContactLink}" target="_blank" style="display:block;background:#0088cc;text-decoration:none;text-align:center;padding:12px;border-radius:8px;color:white;font-size:14px;font-weight:600;">‚úàÔ∏è Telegram: @${tgUsername || channelName}</a>` : ''}
                            ${tgLink && tgLink !== tgContactLink ? `<a href="${tgLink}" target="_blank" style="display:block;background:#d4af37;text-decoration:none;text-align:center;padding:12px;border-radius:8px;color:white;font-size:14px;font-weight:600;">üì® –û—Ä–∏–≥–∏–Ω–∞–ª —Å–æ–æ–±—â–µ–Ω–∏—è</a>` : ''}
                        </div>
                        <button onclick="document.getElementById('contact-modal').style.display='none'" style="margin-top:20px;background:#eee;border:none;padding:10px 30px;border-radius:6px;cursor:pointer;font-size:14px;">–ó–∞–∫—Ä—ã—Ç—å</button>
                    </div>
                `;
                
                let modal = document.getElementById('contact-modal');
                if (!modal) {
                    modal = document.createElement('div');
                    modal.id = 'contact-modal';
                    modal.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:10000;';
                    document.body.appendChild(modal);
                }
                modal.innerHTML = `<div style="background:white;padding:25px;border-radius:12px;max-width:400px;width:90%;max-height:80vh;overflow-y:auto;">${contactHtml}</div>`;
                modal.style.display = 'flex';
                modal.onclick = (e) => { if (e.target === modal) modal.style.display = 'none'; };
            } catch (err) {
                console.error('Error opening contact modal:', err);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤');
            }
        }

        function openDeleteModal(listingId, category) {
            console.log('Opening delete modal for:', listingId, 'from:', category);
            document.getElementById('delete-modal-id').textContent = 'ID: ' + listingId;
            document.getElementById('delete-modal').setAttribute('data-id', listingId);
            document.getElementById('delete-modal').setAttribute('data-category', category);
            document.getElementById('delete-modal').style.display = 'flex';
        }

        async function openEditModal(listingId, category) {
            console.log('Opening specialized edit modal for:', listingId, 'from:', category);
            
            // Route to specialized edit modals with 4 photo support
            switch (category) {
                case 'kids':
                    openKidsPhotoEdit(listingId);
                    return;
                case 'money_exchange':
                case 'exchange':
                    openExchangePhotoEdit(listingId);
                    return;
                case 'marketplace':
                    openMarketplacePhotoEdit(listingId);
                    return;
                case 'visas':
                    openVisasPhotoEdit(listingId);
                    return;
                case 'photosession':
                case 'news':
                    openPhotosessionPhotoEdit(listingId);
                    return;
                case 'medicine':
                    openMedicinePhotoEdit(listingId);
                    return;
                case 'tours':
                    openTourPhotoEdit(listingId);
                    return;
                case 'transport':
                    openTransportPhotoEdit(listingId);
                    return;
                case 'restaurants':
                    openRestaurantPhotoEdit(listingId);
                    return;
                case 'real_estate':
                    openRealestatePhotoEdit(listingId);
                    return;
            }
            
            // Fallback for any other category - use generic modal
            document.getElementById('edit-modal-id').textContent = 'ID: ' + listingId;
            document.getElementById('edit-modal').setAttribute('data-id', listingId);
            document.getElementById('edit-modal').setAttribute('data-category', category);
            document.getElementById('edit-status').style.display = 'none';
            
            const restaurantFields = document.getElementById('edit-restaurant-fields');
            const realestateFields = document.getElementById('edit-realestate-fields');
            const exchangeFields = document.getElementById('edit-exchange-fields');
            const marketplaceFields = document.getElementById('edit-marketplace-fields');
            const visasFields = document.getElementById('edit-visas-fields');
            const photosessionFields = document.getElementById('edit-photosession-fields');
            const medicineFields = document.getElementById('edit-medicine-fields');
            
            restaurantFields.style.display = 'none';
            realestateFields.style.display = 'none';
            exchangeFields.style.display = 'none';
            marketplaceFields.style.display = 'none';
            visasFields.style.display = 'none';
            photosessionFields.style.display = 'none';
            medicineFields.style.display = 'none';
            realestateFields.style.display = 'block';
            
            try {
                const response = await fetch('/api/admin/get-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        listing_id: listingId
                    })
                });
                const data = await response.json();
                
                if (data.error) {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                    return;
                }
                
                document.getElementById('edit-title').value = data.title || '';
                document.getElementById('edit-description').value = data.description || '';
                document.getElementById('edit-price').value = data.price || '';
                document.getElementById('edit-rooms').value = data.rooms || '';
                document.getElementById('edit-area').value = data.area || '';
                document.getElementById('edit-date').value = data.date ? data.date.split('T')[0] : '';
                document.getElementById('edit-contact-name').value = data.contact_name || '';
                document.getElementById('edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('edit-telegram').value = data.telegram || '';
                const listingType = data.listing_type || '';
                document.getElementById('edit-type-sale').checked = listingType.includes('sale');
                document.getElementById('edit-type-rent').checked = listingType.includes('rent');
                
                if (category === 'restaurants') {
                    document.getElementById('edit-city').value = data.city || '';
                    document.getElementById('edit-kitchen').value = data.kitchen || '';
                    document.getElementById('edit-google-maps').value = data.google_maps || '';
                    document.getElementById('edit-google-rating').value = data.google_rating || '';
                    const restType = data.restaurant_type || '—Ä–µ—Å—Ç–æ—Ä–∞–Ω';
                    document.querySelectorAll('input[name="edit-restaurant-type"]').forEach(r => {
                        r.checked = r.value === restType;
                    });
                    const priceCategory = data.price_category || 'normal';
                    document.querySelectorAll('input[name="edit-price-category"]').forEach(r => {
                        r.checked = r.value === priceCategory;
                    });
                } else if (category === 'money_exchange' || category === 'exchange') {
                    document.getElementById('edit-exchange-city').value = data.city || '';
                    document.getElementById('edit-currency-pairs').value = data.currency_pairs || '';
                } else if (category === 'marketplace') {
                    const mktCat = data.marketplace_category || 'other';
                    const mktSelect = document.getElementById('edit-marketplace-category');
                    if ([...mktSelect.options].some(o => o.value === mktCat)) {
                        mktSelect.value = mktCat;
                    } else {
                        mktSelect.value = 'other';
                    }
                    document.getElementById('edit-marketplace-city').value = data.city || '';
                    document.getElementById('edit-marketplace-price').value = data.price || '';
                } else if (category === 'visas') {
                    document.getElementById('edit-visas-service').value = data.service_type || 'visarun';
                    document.getElementById('edit-visas-city').value = data.city || '';
                    document.getElementById('edit-visas-price').value = data.price || '';
                } else if (category === 'news' || category === 'photosession') {
                    document.getElementById('edit-photosession-type').value = data.photo_type || 'portrait';
                    document.getElementById('edit-photosession-city').value = data.city || '';
                    document.getElementById('edit-photosession-price').value = data.price || '';
                } else if (category === 'medicine') {
                    document.getElementById('edit-medicine-service').value = data.service_type || 'clinic';
                    document.getElementById('edit-medicine-city').value = data.city || '';
                    document.getElementById('edit-medicine-price').value = data.price || '';
                }
                
                document.getElementById('edit-modal').style.display = 'flex';
            } catch (err) {
                console.error('Error loading listing:', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ');
            }
        }

        async function saveEditFromCard() {
            const modal = document.getElementById('edit-modal');
            const listingId = modal.getAttribute('data-id');
            const category = modal.getAttribute('data-category');
            const status = document.getElementById('edit-status');
            
            const updates = {
                title: document.getElementById('edit-title').value,
                description: document.getElementById('edit-description').value,
                price: document.getElementById('edit-price').value,
                rooms: document.getElementById('edit-rooms').value,
                area: document.getElementById('edit-area').value,
                date: document.getElementById('edit-date').value,
                contact_name: document.getElementById('edit-contact-name').value,
                whatsapp: document.getElementById('edit-whatsapp').value,
                telegram: document.getElementById('edit-telegram').value,
                listing_type: [
                    document.getElementById('edit-type-sale').checked ? 'sale' : '',
                    document.getElementById('edit-type-rent').checked ? 'rent' : ''
                ].filter(t => t).join(',') || null
            };
            
            if (category === 'restaurants') {
                updates.city = document.getElementById('edit-city').value;
                updates.kitchen = document.getElementById('edit-kitchen').value;
                updates.google_maps = document.getElementById('edit-google-maps').value;
                updates.google_rating = document.getElementById('edit-google-rating').value;
                updates.restaurant_type = document.querySelector('input[name="edit-restaurant-type"]:checked')?.value || '—Ä–µ—Å—Ç–æ—Ä–∞–Ω';
                updates.price_category = document.querySelector('input[name="edit-price-category"]:checked')?.value || 'normal';
            } else if (category === 'money_exchange' || category === 'exchange') {
                updates.city = document.getElementById('edit-exchange-city').value;
                updates.currency_pairs = document.getElementById('edit-currency-pairs').value;
            } else if (category === 'marketplace') {
                updates.marketplace_category = document.getElementById('edit-marketplace-category').value;
                updates.city = document.getElementById('edit-marketplace-city').value;
                updates.price = document.getElementById('edit-marketplace-price').value;
            } else if (category === 'visas') {
                updates.service_type = document.getElementById('edit-visas-service').value;
                updates.city = document.getElementById('edit-visas-city').value;
                updates.price = document.getElementById('edit-visas-price').value;
            } else if (category === 'news' || category === 'photosession') {
                updates.photo_type = document.getElementById('edit-photosession-type').value;
                updates.city = document.getElementById('edit-photosession-city').value;
                updates.price = document.getElementById('edit-photosession-price').value;
            } else if (category === 'medicine') {
                updates.service_type = document.getElementById('edit-medicine-service').value;
                updates.city = document.getElementById('edit-medicine-city').value;
                updates.price = document.getElementById('edit-medicine-price').value;
            }
            
            status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
            status.style.color = '#666';
            status.style.display = 'block';
            
            try {
                const response = await fetch('/api/admin/edit-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        listing_id: listingId,
                        updates: updates
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    setTimeout(() => {
                        modal.style.display = 'none';
                        loadListings(category);
                    }, 1000);
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                }
            } catch (err) {
                console.error('Error saving:', err);
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è';
                status.style.color = '#ff6b6b';
            }
        }

        function switchBannerTab(type) {
            currentBannerTab = type;
            document.getElementById('banner-section-web').style.display = type === 'web' ? 'block' : 'none';
            document.getElementById('banner-section-mobile').style.display = type === 'mobile' ? 'block' : 'none';
            document.getElementById('banner-tab-web').style.background = type === 'web' ? '#d4af37' : '#ddd';
            document.getElementById('banner-tab-web').style.color = type === 'web' ? 'white' : '#333';
            document.getElementById('banner-tab-mobile').style.background = type === 'mobile' ? '#d4af37' : '#ddd';
            document.getElementById('banner-tab-mobile').style.color = type === 'mobile' ? 'white' : '#333';
        }
        
        function renderAdminBanners() {
            renderAdminBannersForType('web');
            renderAdminBannersForType('mobile');
        }
        
        function renderAdminBannersForType(bannerType) {
            const countryData = bannerConfig[currentCountry] || {};
            const banners = countryData[bannerType] || [];
            const list = document.getElementById('admin-banners-list-' + bannerType);
            if (!list) return;
            
            if (banners.length === 0) {
                list.innerHTML = '<p style="color: #999; font-size: 12px; text-align: center; grid-column: 1/-1;">–ù–µ—Ç –±–∞–Ω–Ω–µ—Ä–æ–≤</p>';
                return;
            }
            
            list.innerHTML = banners.map((url, idx) => `
                <div style="position: relative; border-radius: 6px; overflow: hidden; border: 1px solid #ddd; aspect-ratio: 16/9;" data-banner-idx="${idx}">
                    <img src="${url}" style="width: 100%; height: 100%; object-fit: cover;">
                    <div style="position: absolute; top: 5px; left: 5px; display: flex; flex-direction: column; gap: 2px;">
                        <button onclick="moveBannerAdmin(${idx}, -1, '${bannerType}')" ${idx === 0 ? 'disabled' : ''} style="background: rgba(0,0,0,0.7); color: white; border: none; border-radius: 3px; padding: 2px 6px; cursor: pointer; font-size: 12px; ${idx === 0 ? 'opacity: 0.3;' : ''}">‚ñ≤</button>
                        <button onclick="moveBannerAdmin(${idx}, 1, '${bannerType}')" ${idx === banners.length - 1 ? 'disabled' : ''} style="background: rgba(0,0,0,0.7); color: white; border: none; border-radius: 3px; padding: 2px 6px; cursor: pointer; font-size: 12px; ${idx === banners.length - 1 ? 'opacity: 0.3;' : ''}">‚ñº</button>
                    </div>
                    <div style="position: absolute; top: 5px; right: 5px;">
                        <button onclick="deleteBannerAdmin('${url}', '${bannerType}')" style="background: rgba(255,0,0,0.8); color: white; border: none; border-radius: 4px; padding: 4px 8px; cursor: pointer; font-size: 10px;">üóëÔ∏è</button>
                    </div>
                    <div style="position: absolute; bottom: 5px; left: 5px; background: rgba(0,0,0,0.6); color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px;">#${idx + 1}</div>
                </div>
            `).join('');
        }
        
        async function moveBannerAdmin(idx, direction, bannerType = 'web') {
            const countryData = bannerConfig[currentCountry] || {};
            const banners = countryData[bannerType] || [];
            const newIdx = idx + direction;
            if (newIdx < 0 || newIdx >= banners.length) return;
            
            const newOrder = [...banners];
            [newOrder[idx], newOrder[newIdx]] = [newOrder[newIdx], newOrder[idx]];
            
            try {
                const r = await fetch('/api/admin/reorder-banners', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        urls: newOrder,
                        banner_type: bannerType
                    })
                });
                const data = await r.json();
                if (data.success) {
                    if (!bannerConfig[currentCountry]) bannerConfig[currentCountry] = {};
                    bannerConfig[currentCountry][bannerType] = newOrder;
                    renderAdminBanners();
                    updateBanner();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        async function uploadBannerAdmin(bannerType = 'web') {
            const input = document.getElementById('banner-upload-input-' + bannerType);
            const status = document.getElementById('banner-upload-status-' + bannerType);
            if (!input.files || !input.files[0]) return;
            
            const formData = new FormData();
            formData.append('file', input.files[0]);
            formData.append('country', currentCountry);
            formData.append('password', adminPassword_val);
            formData.append('banner_type', bannerType);
            
            status.textContent = '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...';
            status.style.color = '#666';
            
            try {
                const r = await fetch('/api/admin/upload-banner', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                if (data.success) {
                    status.textContent = '‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ!';
                    status.style.color = '#31a24c';
                    input.value = '';
                    await loadBanners();
                } else {
                    status.textContent = '‚ùå –û—à–∏–±–∫–∞: ' + data.error;
                    status.style.color = '#ff6b6b';
                }
            } catch (e) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
                status.style.color = '#ff6b6b';
            }
        }

        async function deleteBannerAdmin(url, bannerType = 'web') {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –±–∞–Ω–Ω–µ—Ä?')) return;
            
            try {
                const r = await fetch('/api/admin/delete-banner', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        url: url,
                        banner_type: bannerType
                    })
                });
                const data = await r.json();
                if (data.success) {
                    await loadBanners();
                } else {
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏');
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        // ============ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ê–ù–ê–õ–ê–ú–ò ============
        const categoryNames = {
            'chat': '–ß–∞—Ç', 'restaurants': '–†–µ—Å—Ç–æ—Ä–∞–Ω—ã', 'tours': '–≠–∫—Å–∫—É—Ä—Å–∏–∏',
            'transport': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', 'real_estate': '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
            'money_exchange': '–û–±–º–µ–Ω –¥–µ–Ω–µ–≥', 'entertainment': '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
            'marketplace': '–ë–∞—Ä–∞—Ö–æ–ª–∫–∞', 'visas': '–í–∏–∑–∞—Ä–∞–Ω', 'news': '–§–æ—Ç–æ—Å–µ—Å—Å–∏—è',
            'medicine': '–ú–µ–¥–∏—Ü–∏–Ω–∞', 'kids': '–î–µ—Ç–∏'
        };

        async function loadChannelsAdmin() {
            if (!adminAuthenticated) return;
            
            try {
                const r = await fetch(`/api/admin/channels?country=${currentCountry}`);
                const data = await r.json();
                const container = document.getElementById('channels-list');
                
                let html = '';
                const channels = data.channels || {};
                
                for (const [category, list] of Object.entries(channels)) {
                    if (list && list.length > 0) {
                        html += `<div style="padding: 12px; border-bottom: 1px solid #eee;">
                            <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px;">${categoryNames[category] || category} (${list.length})</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 6px;">`;
                        
                        for (const ch of list) {
                            html += `<div style="display: inline-flex; align-items: center; background: #f5f5f5; padding: 4px 10px; border-radius: 15px; font-size: 12px;">
                                <a href="https://t.me/${ch}" target="_blank" style="color: #0088cc; text-decoration: none;">@${ch}</a>
                                <button onclick="removeChannelAdmin('${category}', '${ch}')" style="background: none; border: none; color: #ff6b6b; cursor: pointer; margin-left: 6px; font-size: 14px;" title="–£–¥–∞–ª–∏—Ç—å">√ó</button>
                            </div>`;
                        }
                        
                        html += '</div></div>';
                    }
                }
                
                if (!html) {
                    html = '<div style="padding: 20px; text-align: center; color: #999;">–ù–µ—Ç –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω—ã</div>';
                }
                
                container.innerHTML = html;
            } catch (e) {
                console.error('Error loading channels:', e);
            }
        }

        async function addChannelAdmin() {
            const category = document.getElementById('channel-category').value;
            const channel = document.getElementById('new-channel-name').value.trim();
            const result = document.getElementById('channel-result');
            
            if (!channel) {
                result.innerHTML = '<span style="color: #ff6b6b;">–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–∞–Ω–∞–ª–∞</span>';
                return;
            }
            
            try {
                const r = await fetch('/api/admin/add-channel', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        channel: channel
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    result.innerHTML = '<span style="color: #31a24c;">‚úÖ ' + data.message + '</span>';
                    document.getElementById('new-channel-name').value = '';
                    loadChannelsAdmin();
                } else {
                    result.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                result.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }

        async function removeChannelAdmin(category, channel) {
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª @${channel}?`)) return;
            
            try {
                const r = await fetch('/api/admin/remove-channel', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        channel: channel
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    loadChannelsAdmin();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏
        async function loadCitiesAdmin() {
            const category = document.getElementById('city-category').value;
            const container = document.getElementById('cities-list');
            
            try {
                const r = await fetch(`/api/admin/cities?country=${currentCountry}&category=${category}&password=${encodeURIComponent(adminPassword_val)}`);
                const data = await r.json();
                
                if (data.cities && data.cities.length > 0) {
                    container.innerHTML = data.cities.map(city => `
                        <div style="background: #f9f9f9; border-radius: 8px; overflow: hidden; border: 1px solid #ddd;">
                            <img src="${city.image}" style="width: 100%; height: 120px; object-fit: cover;" onerror="this.src='/static/icons/placeholder.png'">
                            <div style="padding: 10px;">
                                <input type="text" value="${city.name}" id="city-name-${city.id}" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 8px; font-weight: 600;">
                                <div style="display: flex; gap: 5px;">
                                    <button onclick="updateCityAdmin('${city.id}')" style="flex: 1; padding: 6px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px;">üíæ</button>
                                    <label style="flex: 1; padding: 6px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; text-align: center;">
                                        üì∑
                                        <input type="file" accept="image/*" onchange="updateCityPhotoAdmin('${city.id}', this)" style="display: none;">
                                    </label>
                                    <button onclick="deleteCityAdmin('${city.id}')" style="flex: 1; padding: 6px; background: #ff6b6b; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px;">üóëÔ∏è</button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = '<p style="color: #666; text-align: center; padding: 20px;">–ù–µ—Ç –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>';
                }
            } catch (e) {
                container.innerHTML = '<p style="color: #ff6b6b; text-align: center;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>';
            }
        }

        async function addCityAdmin() {
            const category = document.getElementById('city-category').value;
            const name = document.getElementById('new-city-name').value.trim();
            const photoInput = document.getElementById('new-city-photo');
            const result = document.getElementById('city-result');
            
            if (!name) {
                result.innerHTML = '<span style="color: #ff6b6b;">‚ùå –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞</span>';
                return;
            }
            
            const formData = new FormData();
            formData.append('password', adminPassword_val);
            formData.append('country', currentCountry);
            formData.append('category', category);
            formData.append('name', name);
            if (photoInput.files[0]) {
                formData.append('photo', photoInput.files[0]);
            }
            
            try {
                const r = await fetch('/api/admin/add-city', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                
                if (data.success) {
                    result.innerHTML = '<span style="color: #4CAF50;">‚úÖ ' + data.message + '</span>';
                    document.getElementById('new-city-name').value = '';
                    photoInput.value = '';
                    loadCitiesAdmin();
                } else {
                    result.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                result.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }

        async function updateCityAdmin(cityId) {
            const category = document.getElementById('city-category').value;
            const name = document.getElementById(`city-name-${cityId}`).value.trim();
            
            try {
                const r = await fetch('/api/admin/update-city', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        city_id: cityId,
                        name: name
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    alert('‚úÖ –ì–æ—Ä–æ–¥ –æ–±–Ω–æ–≤–ª—ë–Ω');
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        async function updateCityPhotoAdmin(cityId, input) {
            if (!input.files[0]) return;
            
            const category = document.getElementById('city-category').value;
            const formData = new FormData();
            formData.append('password', adminPassword_val);
            formData.append('country', currentCountry);
            formData.append('category', category);
            formData.append('city_id', cityId);
            formData.append('photo', input.files[0]);
            
            try {
                const r = await fetch('/api/admin/update-city-photo', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                
                if (data.success) {
                    loadCitiesAdmin();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        async function deleteCityAdmin(cityId) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥?')) return;
            
            const category = document.getElementById('city-category').value;
            
            try {
                const r = await fetch('/api/admin/delete-city', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        city_id: cityId
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    loadCitiesAdmin();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é
        function openCityEditModal(section, index, cityName, imageUrl) {
            document.getElementById('city-edit-section').value = section;
            document.getElementById('city-edit-index').value = index;
            document.getElementById('city-edit-old-name').value = cityName;
            document.getElementById('city-edit-name').value = cityName;
            document.getElementById('city-edit-photo').value = '';
            document.getElementById('city-edit-status').innerHTML = '';
            
            const preview = document.getElementById('city-edit-preview');
            if (imageUrl) {
                preview.src = imageUrl;
                preview.style.display = 'block';
            } else {
                preview.style.display = 'none';
            }
            
            document.getElementById('city-edit-modal').style.display = 'flex';
        }
        
        function closeCityEditModal() {
            document.getElementById('city-edit-modal').style.display = 'none';
        }
        
        async function saveCityChanges() {
            const section = document.getElementById('city-edit-section').value;
            const oldName = document.getElementById('city-edit-old-name').value;
            const newName = document.getElementById('city-edit-name').value.trim();
            const photoInput = document.getElementById('city-edit-photo');
            const status = document.getElementById('city-edit-status');
            
            if (!newName) {
                status.innerHTML = '<span style="color: #ff6b6b;">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞</span>';
                return;
            }
            
            status.innerHTML = '<span style="color: #1565c0;">üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</span>';
            
            const formData = new FormData();
            formData.append('password', adminPassword_val);
            formData.append('country', currentCountry);
            formData.append('section', section);
            formData.append('old_name', oldName);
            formData.append('new_name', newName);
            if (photoInput.files[0]) {
                formData.append('photo', photoInput.files[0]);
            }
            
            try {
                const r = await fetch('/api/admin/edit-city-inline', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                
                if (data.success) {
                    status.innerHTML = '<span style="color: #4CAF50;">‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!</span>';
                    setTimeout(() => {
                        closeCityEditModal();
                        renderDynamicCityButtons();
                    }, 500);
                } else {
                    status.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        async function moveCityPosition(direction) {
            const section = document.getElementById('city-edit-section').value;
            const index = parseInt(document.getElementById('city-edit-index').value);
            const cityName = document.getElementById('city-edit-old-name').value;
            const status = document.getElementById('city-edit-status');
            
            status.innerHTML = '<span style="color: #1565c0;">üîÑ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ...</span>';
            
            try {
                const r = await fetch('/api/admin/move-city-position', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        section: section,
                        city_name: cityName,
                        direction: direction
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    status.innerHTML = '<span style="color: #4CAF50;">‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–æ!</span>';
                    document.getElementById('city-edit-index').value = index + direction;
                    setTimeout(() => {
                        closeCityEditModal();
                        renderDynamicCityButtons();
                    }, 500);
                } else {
                    status.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        async function deleteCityFromModal() {
            const section = document.getElementById('city-edit-section').value;
            const cityName = document.getElementById('city-edit-old-name').value;
            const status = document.getElementById('city-edit-status');
            
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å –≥–æ—Ä–æ–¥ "${cityName}"?`)) return;
            
            status.innerHTML = '<span style="color: #1565c0;">üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ...</span>';
            
            try {
                const r = await fetch('/api/admin/delete-city-inline', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        section: section,
                        city_name: cityName
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    closeCityEditModal();
                    renderDynamicCityButtons();
                } else {
                    status.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }

        // –†—É—á–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
        async function startManualParser() {
            const channel = document.getElementById('parser-channel').value.trim();
            const category = document.getElementById('parser-category').value;
            const limit = parseInt(document.getElementById('parser-limit').value) || 100;
            const btn = document.getElementById('parser-btn');
            const status = document.getElementById('parser-status');
            const log = document.getElementById('parser-log');
            
            if (!channel) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</span>';
                return;
            }
            
            btn.disabled = true;
            btn.textContent = '‚è≥ –ü–∞—Ä—Å–∏–Ω–≥...';
            status.innerHTML = '<span style="color: #FF9800;">üîÑ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞...</span>';
            log.style.display = 'block';
            log.innerHTML = `[${new Date().toLocaleTimeString()}] –ù–∞—á–∏–Ω–∞—é –ø–∞—Ä—Å–∏–Ω–≥ –∫–∞–Ω–∞–ª–∞ ${channel}...\n`;
            
            try {
                const r = await fetch('/api/admin/manual-parse', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        channel: channel,
                        category: category,
                        limit: limit
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    status.innerHTML = `<span style="color: #4CAF50;">‚úÖ ${data.message}</span>`;
                    log.innerHTML += `[${new Date().toLocaleTimeString()}] ‚úÖ –£—Å–ø–µ—à–Ω–æ! –î–æ–±–∞–≤–ª–µ–Ω–æ ${data.count || 0} –æ–±—ä—è–≤–ª–µ–Ω–∏–π\n`;
                    if (data.log) {
                        log.innerHTML += data.log;
                    }
                } else {
                    status.innerHTML = `<span style="color: #ff6b6b;">‚ùå ${data.error || '–û—à–∏–±–∫–∞'}</span>`;
                    log.innerHTML += `[${new Date().toLocaleTimeString()}] ‚ùå –û—à–∏–±–∫–∞: ${data.error || 'Unknown'}\n`;
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
                log.innerHTML += `[${new Date().toLocaleTimeString()}] ‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${e.message}\n`;
            }
            
            btn.disabled = false;
            btn.textContent = 'üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥';
        }

        // –ö–∞–ø—á–∞
        function loadCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('captcha-question').textContent = data.question;
                    document.getElementById('captcha-answer').value = data.token;
                });
        }

        // –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
        document.getElementById('submit-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('title', document.getElementById('submit-title').value);
            formData.append('description', document.getElementById('submit-description').value);
            formData.append('price', document.getElementById('submit-price').value || '0');
            formData.append('rooms', document.getElementById('submit-rooms').value);
            formData.append('area', document.getElementById('submit-area').value);
            formData.append('location', document.getElementById('submit-location').value);
            formData.append('city', document.getElementById('submit-city').value);
            formData.append('contact_name', document.getElementById('submit-contact-name').value);
            formData.append('whatsapp', document.getElementById('submit-whatsapp').value);
            formData.append('telegram', document.getElementById('submit-telegram').value);
            
            const listingType = [
                document.getElementById('submit-type-sale').checked ? 'sale' : '',
                document.getElementById('submit-type-rent').checked ? 'rent' : ''
            ].filter(t => t).join(',');
            formData.append('listing_type', listingType);
            
            formData.append('captcha_answer', document.getElementById('submit-captcha').value);
            formData.append('captcha_token', document.getElementById('captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`submit-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-form').reset();
                    loadCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        function loadRestaurantCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('restaurant-captcha-question').textContent = data.question;
                    document.getElementById('restaurant-captcha-answer').value = data.token;
                });
        }

        function loadEntertainmentCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('entertainment-captcha-question').textContent = data.question;
                    document.getElementById('entertainment-captcha-answer').value = data.token;
                });
        }

        function loadTourCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('tour-captcha-question').textContent = data.question;
                    document.getElementById('tour-captcha-answer').value = data.token;
                });
        }

        function loadTransportCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('transport-captcha-question').textContent = data.question;
                    document.getElementById('transport-captcha-answer').value = data.token;
                });
        }

        function loadRealEstateCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('realestate-captcha-question').textContent = data.question;
                    document.getElementById('realestate-captcha-answer').value = data.token;
                });
        }

        function loadKidsCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('kids-captcha-question').textContent = data.question;
                    document.getElementById('kids-captcha-answer').value = data.token;
                });
        }

        function loadVisasCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('visas-captcha-question').textContent = data.question;
                    document.getElementById('visas-captcha-token').value = data.token;
                });
        }

        function loadExchangeCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('exchange-captcha-question').textContent = data.question;
                    document.getElementById('exchange-captcha-token').value = data.token;
                });
        }

        function loadChildrenCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('children-captcha-question').textContent = data.question;
                    document.getElementById('children-captcha-token').value = data.token;
                });
        }

        function loadMarketplaceCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('marketplace-captcha-question').textContent = data.question;
                    document.getElementById('marketplace-captcha-token').value = data.token;
                });
        }

        function loadPhotoshootCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('photoshoot-captcha-question').textContent = data.question;
                    document.getElementById('photoshoot-captcha-answer').value = data.token;
                });
        }

        async function submitPhotoshoot(e) {
            e.preventDefault();
            const status = document.getElementById('photoshoot-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', 'vietnam');
            formData.append('category', 'news');
            formData.append('city', document.getElementById('photoshoot-city').value);
            formData.append('title', document.getElementById('photoshoot-title').value);
            formData.append('description', document.getElementById('photoshoot-description').value);
            formData.append('price', document.getElementById('photoshoot-price').value || '');
            formData.append('telegram', document.getElementById('photoshoot-telegram').value);
            formData.append('captcha_answer', document.getElementById('photoshoot-captcha').value);
            formData.append('captcha_token', document.getElementById('photoshoot-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`photoshoot-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = '‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (–º–∞–∫—Å 1 –ú–ë)';
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append('photos', file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    e.target.reset();
                    loadPhotoshootCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadPhotoshootCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        }

        function filterPhotoshootByCity(city) {
            // Highlight selected city
            document.querySelectorAll('.news-city-btn').forEach(btn => {
                btn.style.border = '3px solid transparent';
            });
            const selectedBtn = document.querySelector(`.news-city-btn[data-city="${city}"]`);
            if (selectedBtn) {
                selectedBtn.style.border = '3px solid #d4af37';
            }
            // Load listings filtered by city
            loadListings('news', city);
        }

        function loadPhotosessionCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('photosession-captcha-question').textContent = data.question;
                    document.getElementById('photosession-captcha-token').value = data.token;
                });
        }

        function loadMedicineCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('medicine-captcha-question').textContent = data.question;
                    document.getElementById('medicine-captcha-token').value = data.token;
                });
        }

        async function submitMedicine(e) {
            e.preventDefault();
            const status = document.getElementById('medicine-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', 'vietnam');
            formData.append('category', 'medicine');
            formData.append('medicine_type', document.getElementById('medicine-type').value);
            formData.append('title', document.getElementById('medicine-title').value);
            formData.append('description', document.getElementById('medicine-description').value);
            formData.append('city', document.getElementById('medicine-city').value || '');
            formData.append('address', document.getElementById('medicine-address').value || '');
            formData.append('contact_name', document.getElementById('medicine-contact').value);
            formData.append('whatsapp', document.getElementById('medicine-whatsapp').value || '');
            formData.append('telegram', document.getElementById('medicine-telegram').value);
            formData.append('captcha_answer', document.getElementById('medicine-captcha').value);
            formData.append('captcha_token', document.getElementById('medicine-captcha-token').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`medicine-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = '‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (–º–∞–∫—Å 1 –ú–ë)';
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append('photos', file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    e.target.reset();
                    loadMedicineCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadMedicineCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        }

        let currentMedicineType = 'questions';
        
        function filterMedicineByType(type) {
            currentMedicineType = type;
            // Highlight selected type
            document.querySelectorAll('.medicine-type-btn').forEach(btn => {
                btn.style.border = '3px solid transparent';
            });
            const selectedBtn = document.querySelector(`.medicine-type-btn[data-type="${type}"]`);
            if (selectedBtn) {
                selectedBtn.style.border = '3px solid #d4af37';
            }
            // Load listings filtered by type using custom URL
            applyMedicineFilters();
        }
        
        function applyMedicineFilters() {
            let url = `/api/listings/medicine?country=${currentCountry}`;
            if (currentMedicineType && currentMedicineType !== 'all') {
                url += `&medicine_type=${encodeURIComponent(currentMedicineType)}`;
            }
            url += `&_t=${Date.now()}`;
            
            const grid = document.getElementById('medicine-grid');
            grid.innerHTML = '<div class="loading"><div class="spinner"></div></div>';
            
            fetch(url)
                .then(r => r.json())
                .then(items => {
                    if (items.length === 0) {
                        grid.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>';
                    } else {
                        grid.innerHTML = items.map(item => renderListingCard(item, 'medicine')).join('');
                        // –ü–µ—Ä–µ–≤–æ–¥–∏–º –∫–∞—Ä—Ç–æ—á–∫–∏ –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –Ω–µ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
                        if (currentLang !== 'ru' && typeof translateVisibleCards === 'function') {
                            setTimeout(() => translateVisibleCards(), 100);
                        }
                    }
                })
                .catch(err => {
                    grid.innerHTML = '<div style="text-align: center; padding: 40px; color: #f44;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';
                });
        }

        async function submitVisas(e) {
            e.preventDefault();
            const status = document.getElementById('visas-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'visas');
            formData.append('destination', document.getElementById('visas-destination').value);
            formData.append('citizenship', document.getElementById('visas-citizenship').value);
            formData.append('city', document.getElementById('visas-city').value);
            formData.append('title', document.getElementById('visas-title').value);
            formData.append('description', document.getElementById('visas-description').value);
            formData.append('price', document.getElementById('visas-price').value || '');
            formData.append('contact_name', document.getElementById('visas-contact').value);
            formData.append('whatsapp', document.getElementById('visas-whatsapp').value || '');
            formData.append('telegram', document.getElementById('visas-telegram').value);
            formData.append('captcha_answer', document.getElementById('visas-captcha').value);
            formData.append('captcha_token', document.getElementById('visas-captcha-token').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`visas-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = '‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (–º–∞–∫—Å 1 –ú–ë)';
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append('photos', file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    e.target.reset();
                    loadVisasCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadVisasCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        }

        async function submitExchange(e) {
            e.preventDefault();
            const status = document.getElementById('exchange-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'money_exchange');
            formData.append('title', document.getElementById('exchange-title').value);
            formData.append('city', document.getElementById('exchange-city').value);
            formData.append('pairs', document.getElementById('exchange-pairs').value || '');
            formData.append('description', document.getElementById('exchange-description').value);
            formData.append('address', document.getElementById('exchange-address').value || '');
            formData.append('contact_name', document.getElementById('exchange-contact').value);
            formData.append('whatsapp', document.getElementById('exchange-whatsapp').value || '');
            formData.append('telegram', document.getElementById('exchange-telegram').value);
            formData.append('captcha_answer', document.getElementById('exchange-captcha').value);
            formData.append('captcha_token', document.getElementById('exchange-captcha-token').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`exchange-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = '‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (–º–∞–∫—Å 1 –ú–ë)';
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append('photos', file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    e.target.reset();
                    loadExchangeCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadExchangeCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        }

        async function submitChildren(e) {
            e.preventDefault();
            const status = document.getElementById('children-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('title', document.getElementById('children-title').value);
            formData.append('kids_type', document.getElementById('children-category').value);
            formData.append('city', document.getElementById('children-city').value);
            formData.append('description', document.getElementById('children-description').value);
            formData.append('age', document.getElementById('children-age')?.value || '0-12');
            formData.append('contact_name', document.getElementById('children-contact').value);
            formData.append('whatsapp', document.getElementById('children-whatsapp').value || '');
            formData.append('telegram', document.getElementById('children-telegram').value);
            formData.append('captcha_answer', document.getElementById('children-captcha').value);
            formData.append('captcha_token', document.getElementById('children-captcha-token').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`children-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = '‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (–º–∞–∫—Å 1 –ú–ë)';
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-kids', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    e.target.reset();
                    loadChildrenCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadChildrenCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        }

        async function submitMarketplace(e) {
            e.preventDefault();
            const status = document.getElementById('marketplace-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'marketplace');
            formData.append('marketplace_category', document.getElementById('marketplace-category').value);
            formData.append('title', document.getElementById('marketplace-title').value);
            formData.append('city', document.getElementById('marketplace-form-city').value);
            formData.append('description', document.getElementById('marketplace-description').value);
            formData.append('price', document.getElementById('marketplace-price').value || '');
            formData.append('contact_name', document.getElementById('marketplace-contact').value);
            formData.append('whatsapp', document.getElementById('marketplace-whatsapp').value || '');
            formData.append('telegram', document.getElementById('marketplace-form-telegram').value);
            formData.append('captcha_answer', document.getElementById('marketplace-captcha').value);
            formData.append('captcha_token', document.getElementById('marketplace-captcha-token').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`marketplace-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = '‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (–º–∞–∫—Å 1 –ú–ë)';
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append('photos', file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    e.target.reset();
                    loadMarketplaceCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadMarketplaceCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        }

        async function submitPhotosession(e) {
            e.preventDefault();
            const status = document.getElementById('photosession-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'news');
            formData.append('photo_type', document.getElementById('photosession-type').value);
            formData.append('title', document.getElementById('photosession-title').value);
            formData.append('city', document.getElementById('photosession-city').value);
            formData.append('description', document.getElementById('photosession-description').value);
            formData.append('price', document.getElementById('photosession-price').value || '');
            formData.append('contact_name', document.getElementById('photosession-contact').value);
            formData.append('whatsapp', document.getElementById('photosession-whatsapp').value || '');
            formData.append('telegram', document.getElementById('photosession-telegram').value);
            formData.append('captcha_answer', document.getElementById('photosession-captcha').value);
            formData.append('captcha_token', document.getElementById('photosession-captcha-token').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`photosession-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = '‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (–º–∞–∫—Å 1 –ú–ë)';
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append('photos', file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    e.target.reset();
                    loadPhotosessionCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadPhotosessionCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        }

        document.getElementById('submit-kids-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('kids-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'kids');
            formData.append('title', document.getElementById('kids-title').value);
            formData.append('kids_type', document.getElementById('kids-type').value || 'schools');
            formData.append('description', document.getElementById('kids-description').value);
            formData.append('city', document.getElementById('kids-city').value);
            formData.append('age', document.getElementById('kids-age').value);
            formData.append('location', document.getElementById('kids-location').value);
            formData.append('google_maps', document.getElementById('kids-google-maps').value);
            formData.append('contact_name', document.getElementById('kids-contact-name').value);
            formData.append('whatsapp', document.getElementById('kids-whatsapp').value);
            formData.append('telegram', document.getElementById('kids-telegram').value);
            formData.append('captcha_answer', document.getElementById('kids-captcha').value);
            formData.append('captcha_token', document.getElementById('kids-captcha-token').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`kids-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-kids', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-kids-form').reset();
                    loadKidsCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadKidsCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-restaurant-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('restaurant-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'restaurants');
            formData.append('title', document.getElementById('restaurant-title').value);
            
            const restaurantType = document.querySelector('input[name="restaurant-type"]:checked')?.value || '—Ä–µ—Å—Ç–æ—Ä–∞–Ω';
            formData.append('restaurant_type', restaurantType);
            
            formData.append('description', document.getElementById('restaurant-description').value);
            formData.append('kitchen', document.getElementById('restaurant-kitchen').value);
            formData.append('location', document.getElementById('restaurant-location').value);
            formData.append('city', document.getElementById('restaurant-city').value);
            formData.append('google_maps', document.getElementById('restaurant-google-maps').value);
            formData.append('contact_name', document.getElementById('restaurant-contact-name').value);
            formData.append('whatsapp', document.getElementById('restaurant-whatsapp').value);
            formData.append('telegram', document.getElementById('restaurant-telegram').value);
            
            const priceCategory = document.querySelector('input[name="restaurant-price-category"]:checked')?.value || 'normal';
            formData.append('price_category', priceCategory);
            
            formData.append('captcha_answer', document.getElementById('restaurant-captcha').value);
            formData.append('captcha_token', document.getElementById('restaurant-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`restaurant-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-restaurant', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-restaurant-form').reset();
                    loadRestaurantCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadRestaurantCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-entertainment-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('entertainment-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'entertainment');
            formData.append('title', document.getElementById('entertainment-title').value);
            formData.append('description', document.getElementById('entertainment-description').value);
            formData.append('feature', document.getElementById('entertainment-feature').value);
            formData.append('location', document.getElementById('entertainment-location').value);
            formData.append('city', document.getElementById('entertainment-city').value);
            formData.append('contact_name', document.getElementById('entertainment-contact-name').value);
            formData.append('whatsapp', document.getElementById('entertainment-whatsapp').value);
            formData.append('telegram', document.getElementById('entertainment-telegram').value);
            
            const capacity = document.querySelector('input[name="entertainment-capacity"]:checked')?.value || '50';
            formData.append('capacity', capacity);
            
            formData.append('captcha_answer', document.getElementById('entertainment-captcha').value);
            formData.append('captcha_token', document.getElementById('entertainment-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`entertainment-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-entertainment', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-entertainment-form').reset();
                    loadEntertainmentCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadEntertainmentCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-tour-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('tour-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'tours');
            formData.append('title', document.getElementById('tour-title').value);
            formData.append('description', document.getElementById('tour-description').value);
            formData.append('days', document.getElementById('tour-days').value);
            formData.append('price', document.getElementById('tour-price').value);
            formData.append('location', document.getElementById('tour-location').value);
            formData.append('city', document.getElementById('tour-city').value);
            formData.append('contact_name', document.getElementById('tour-contact-name').value);
            formData.append('whatsapp', document.getElementById('tour-whatsapp').value);
            formData.append('telegram', document.getElementById('tour-telegram').value);
            
            const groupSize = document.querySelector('input[name="tour-group-size"]:checked')?.value || '5';
            formData.append('group_size', groupSize);
            
            formData.append('captcha_answer', document.getElementById('tour-captcha').value);
            formData.append('captcha_token', document.getElementById('tour-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`tour-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-tour', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-tour-form').reset();
                    loadTourCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadTourCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-transport-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('transport-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'transport');
            formData.append('title', document.getElementById('transport-title').value);
            formData.append('description', document.getElementById('transport-description').value);
            formData.append('engine', document.getElementById('transport-engine').value);
            formData.append('year', document.getElementById('transport-year').value);
            formData.append('price', document.getElementById('transport-price').value);
            formData.append('transport_type', document.getElementById('transport-type').value);
            formData.append('location', document.getElementById('transport-location').value);
            formData.append('city', document.getElementById('transport-city').value);
            formData.append('contact_name', document.getElementById('transport-contact-name').value);
            formData.append('whatsapp', document.getElementById('transport-whatsapp').value);
            formData.append('telegram', document.getElementById('transport-telegram').value);
            
            formData.append('captcha_answer', document.getElementById('transport-captcha').value);
            formData.append('captcha_token', document.getElementById('transport-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`transport-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-transport', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-transport-form').reset();
                    loadTransportCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadTransportCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-realestate-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('realestate-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'real_estate');
            formData.append('title', document.getElementById('realestate-title').value);
            formData.append('description', document.getElementById('realestate-description').value);
            formData.append('realestate_type', document.querySelector('input[name="realestate-type"]:checked').value);
            formData.append('rooms', document.getElementById('realestate-rooms').value);
            formData.append('area', document.getElementById('realestate-area').value);
            formData.append('price', document.getElementById('realestate-price').value);
            formData.append('city', document.getElementById('realestate-city').value);
            formData.append('location', document.getElementById('realestate-location').value);
            formData.append('google_maps', document.getElementById('realestate-google-maps').value);
            formData.append('contact_name', document.getElementById('realestate-contact-name').value);
            formData.append('whatsapp', document.getElementById('realestate-whatsapp').value);
            formData.append('telegram', document.getElementById('realestate-telegram').value);
            
            formData.append('captcha_answer', document.getElementById('realestate-captcha').value);
            formData.append('captcha_token', document.getElementById('realestate-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`realestate-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-realestate', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-realestate-form').reset();
                    loadRealEstateCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadRealEstateCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ–∂–∏–¥–∞—é—â–∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏
        async function loadPendingListings() {
            try {
                const response = await fetch('/api/admin/pending', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password: adminPassword_val, country: currentCountry })
                });
                const data = await response.json();
                
                if (data.error) {
                    document.getElementById('pending-count').textContent = '‚ùå ' + data.error;
                    return;
                }
                
                document.getElementById('pending-count').textContent = `üìã –û–∂–∏–¥–∞—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏: ${data.length}`;
                
                if (data.length === 0) {
                    document.getElementById('pending-list').innerHTML = '<p style="color: #666;">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</p>';
                    return;
                }
                
                document.getElementById('pending-list').innerHTML = data.map(item => `
                    <div style="background: #f9f9f9; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-bottom: 15px;">
                        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                            ${item.image_url ? `<img src="${item.image_url}" style="width: 200px; height: 150px; object-fit: cover; border-radius: 8px;">` : ''}
                            <div style="flex: 1; min-width: 300px;">
                                <h4 style="margin: 0 0 10px 0; color: #333; font-size: 18px;">${item.title}</h4>
                                <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; max-height: 300px; overflow-y: auto; margin-bottom: 15px;">
                                    <p style="margin: 0; font-size: 14px; color: #444; line-height: 1.6; white-space: pre-wrap;">${item.description || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'}</p>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; font-size: 13px; color: #666; background: white; padding: 10px; border-radius: 6px;">
                                    <div>üí∞ –¶–µ–Ω–∞: <b>${item.price?.toLocaleString() || '0'}</b></div>
                                    <div>üë§ –ö–æ–Ω—Ç–∞–∫—Ç: <b>${item.contact_name || '-'}</b></div>
                                    <div>üìû –¢–µ–ª–µ—Ñ–æ–Ω: <b>${item.whatsapp || item.contact || '-'}</b></div>
                                    <div>‚úàÔ∏è Telegram: <b>${item.telegram || '-'}</b></div>
                                    <div>üìç –ì–æ—Ä–æ–¥: <b>${item.city || '-'}</b></div>
                                    <div>üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: <b>${item.category || 'real_estate'}</b></div>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button onclick="moderateListing('${item.id}', 'approve')" style="flex: 1; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px;">‚úÖ –û–¥–æ–±—Ä–∏—Ç—å</button>
                            <button onclick="moderateListing('${item.id}', 'reject')" style="flex: 1; padding: 12px; background: #ff6b6b; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px;">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                        </div>
                    </div>
                `).join('');
            } catch (err) {
                document.getElementById('pending-count').textContent = '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            }
        }

        async function moderateListing(listingId, action) {
            try {
                const response = await fetch('/api/admin/moderate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        listing_id: listingId,
                        action: action
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    alert(data.message);
                    loadPendingListings();
                    if (action === 'approve') {
                        loadListings('real_estate');
                    }
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                }
            } catch (err) {
                alert('–û—à–∏–±–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏');
            }
        }

        async function loadPendingAdsChannels() {
            try {
                const response = await fetch(`/api/ads-channels?country=${currentCountry}&pending=1`);
                const data = await response.json();
                
                const countEl = document.getElementById('pending-ads-count');
                const listEl = document.getElementById('pending-ads-list');
                
                countEl.textContent = `üì¢ –û–∂–∏–¥–∞—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏: ${data.channels.length}`;
                
                if (data.channels.length === 0) {
                    listEl.innerHTML = '<p style="color: #666;">–ù–µ—Ç –∫–∞–Ω–∞–ª–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</p>';
                    return;
                }
                
                const categoryNames = {
                    'chat': 'üí¨ –ß–∞—Ç', 'visas': 'üèñÔ∏è –í–∏–∑—ã', 'realestate': 'üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
                    'transport': 'üèçÔ∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', 'exchange': 'üí± –û–±–º–µ–Ω', 'marketplace': 'üõçÔ∏è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞',
                    'restaurants': 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã', 'tours': 'üß≥ –≠–∫—Å–∫—É—Ä—Å–∏–∏', 'entertainment': 'üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
                    'medicine': 'üè• –ú–µ–¥–∏—Ü–∏–Ω–∞', 'news': 'üì∞ –ù–æ–≤–æ—Å—Ç–∏'
                };
                
                listEl.innerHTML = data.channels.map(ch => `
                    <div style="background: #f9f9f9; border-radius: 8px; padding: 15px; border: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <div>
                            <div style="font-weight: 600; font-size: 15px;">${ch.name}</div>
                            <div style="font-size: 13px; color: #666;">${categoryNames[ch.category] || ch.category} | ${ch.members.toLocaleString()} –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ | $${ch.price}</div>
                            <div style="font-size: 12px; color: #888;">–ö–æ–Ω—Ç–∞–∫—Ç: ${ch.contact}</div>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button onclick="moderateAdsChannel('${ch.id}', 'approve')" style="padding: 8px 16px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">‚úÖ –û–¥–æ–±—Ä–∏—Ç—å</button>
                            <button onclick="moderateAdsChannel('${ch.id}', 'reject')" style="padding: 8px 16px; background: #ff6b6b; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                        </div>
                    </div>
                `).join('');
            } catch (err) {
                document.getElementById('pending-ads-count').textContent = '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            }
        }
        
        async function moderateAdsChannel(channelId, action) {
            try {
                const response = await fetch('/api/admin/ads-channels/approve', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        channel_id: channelId,
                        action: action
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    alert(data.message);
                    loadPendingAdsChannels();
                    loadAdsChannels();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                }
            } catch (err) {
                alert('–û—à–∏–±–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏');
            }
        }
        
        async function deleteAdsChannel(channelId, channelName) {
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª "${channelName}"?`)) return;
            
            try {
                const response = await fetch('/api/admin/ads-channels/delete', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        channel_id: channelId
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    alert(data.message);
                    loadAdsChannels();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                }
            } catch (err) {
                alert('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è');
            }
        }
        
        function editAdsChannel(id, name, category, members, price, contact, city) {
            const categoryOptions = `
                <option value="chat" ${category === 'chat' ? 'selected' : ''}>üí¨ –ß–∞—Ç</option>
                <option value="visas" ${category === 'visas' ? 'selected' : ''}>üèñÔ∏è –í–∏–∑—ã</option>
                <option value="realestate" ${category === 'realestate' ? 'selected' : ''}>üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                <option value="transport" ${category === 'transport' ? 'selected' : ''}>üèçÔ∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                <option value="exchange" ${category === 'exchange' ? 'selected' : ''}>üí± –û–±–º–µ–Ω</option>
                <option value="marketplace" ${category === 'marketplace' ? 'selected' : ''}>üõçÔ∏è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                <option value="restaurants" ${category === 'restaurants' ? 'selected' : ''}>üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                <option value="tours" ${category === 'tours' ? 'selected' : ''}>üß≥ –≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                <option value="entertainment" ${category === 'entertainment' ? 'selected' : ''}>üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                <option value="medicine" ${category === 'medicine' ? 'selected' : ''}>üè• –ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                <option value="news" ${category === 'news' ? 'selected' : ''}>üì∞ –ù–æ–≤–æ—Å—Ç–∏</option>
            `;
            
            const modal = document.createElement('div');
            modal.id = 'ads-edit-modal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 10000;';
            modal.innerHTML = `
                <div style="background: white; border-radius: 12px; padding: 25px; max-width: 450px; width: 90%; max-height: 90vh; overflow-y: auto;">
                    <h3 style="margin: 0 0 20px 0; color: #333;">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª</h3>
                    <div style="display: grid; gap: 15px;">
                        <div>
                            <label style="font-size: 13px; color: #666; font-weight: 600;">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label>
                            <input type="text" id="edit-ads-name" value="${name}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="font-size: 13px; color: #666; font-weight: 600;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="edit-ads-category" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px;">${categoryOptions}</select>
                        </div>
                        <div>
                            <label style="font-size: 13px; color: #666; font-weight: 600;">–ü–æ–¥–ø–∏—Å—á–∏–∫–∏</label>
                            <input type="number" id="edit-ads-members" value="${members}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="font-size: 13px; color: #666; font-weight: 600;">–¶–µ–Ω–∞ ($)</label>
                            <input type="number" id="edit-ads-price" value="${price}" step="0.01" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="font-size: 13px; color: #666; font-weight: 600;">–ö–æ–Ω—Ç–∞–∫—Ç</label>
                            <input type="text" id="edit-ads-contact" value="${contact}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="font-size: 13px; color: #666; font-weight: 600;">–ì–æ—Ä–æ–¥</label>
                            <input type="text" id="edit-ads-city" value="${city}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px; box-sizing: border-box;">
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button onclick="saveAdsChannelEdit('${id}')" style="flex: 1; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        <button onclick="document.getElementById('ads-edit-modal').remove()" style="flex: 1; padding: 12px; background: #999; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
        }
        
        async function saveAdsChannelEdit(channelId) {
            const newData = {
                name: document.getElementById('edit-ads-name').value,
                category: document.getElementById('edit-ads-category').value,
                members: document.getElementById('edit-ads-members').value,
                price: document.getElementById('edit-ads-price').value,
                contact: document.getElementById('edit-ads-contact').value,
                city: document.getElementById('edit-ads-city').value
            };
            
            try {
                const response = await fetch('/api/admin/ads-channels/edit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        channel_id: channelId,
                        data: newData
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    alert(data.message);
                    document.getElementById('ads-edit-modal').remove();
                    loadAdsChannels();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                }
            } catch (err) {
                alert('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è');
            }
        }

        function adminAuth() {
            const password = adminPassword.value;
            fetch('/api/admin/auth', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({password})
            })
            .then(r => r.json())
            .then(data => {
                if (data.authenticated) {
                    adminAuthenticated = true;
                    document.getElementById('user-country-selector').style.display = 'none';
                    document.getElementById('admin-country-selector').style.display = 'flex';
                    adminPassword_val = password;
                    adminCountry = data.country;
                    
                    const countryNames = {
                        'vietnam': 'üáªüá≥ –í—å–µ—Ç–Ω–∞–º',
                        'thailand': 'üáπüá≠ –¢–∞–∏–ª–∞–Ω–¥',
                        'india': 'üáÆüá≥ –ò–Ω–¥–∏—è',
                        'indonesia': 'üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è'
                    };
                    
                    adminStatus.textContent = adminCountry === 'all' ? '‚úÖ –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω (–≤—Å–µ —Å—Ç—Ä–∞–Ω—ã)' : '‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω: ' + countryNames[adminCountry];
                    adminStatus.style.color = '#31a24c';
                    adminTools.style.display = 'block';
                    adminPassword.disabled = true;
                    document.querySelector('button[onclick="adminAuth()"]').disabled = true;
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω—É –∞–¥–º–∏–Ω–∞ (–∫—Ä–æ–º–µ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞)
                    if (adminCountry && adminCountry !== 'all' && currentCountry !== adminCountry) {
                        switchCountry(adminCountry);
                    }
                    
                    renderAdminBanners();
                    switchBannerTab('web');
                    loadChannelsAdmin();
                    loadBlacklist();
                    renderDynamicCityButtons(); // –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –≥–æ—Ä–æ–¥–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
                    const currentTab = document.querySelector('.tab.active');
                    if (currentTab) {
                        const tabName = currentTab.getAttribute('data-tab');
                        const categoryMap = {'stats': 'restaurants', 'transport': 'transport', 'realestate': 'real_estate', 'exchange': 'money_exchange'};
                        const category = categoryMap[tabName] || tabName;
                        if (tabName !== 'stats' && tabName !== 'admin' && tabName !== 'settings') loadListings(category);
                    }
                } else {
                    adminStatus.textContent = '‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å';
                    adminStatus.style.color = '#ff6b6b';
                }
            })
            .catch(err => {
                adminStatus.textContent = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è';
                adminStatus.style.color = '#ff6b6b';
            });
        }

        function openMoveModal(listingId, fromCategory, currentType) {
            document.getElementById('move-modal-id').textContent = 'ID: ' + listingId + (currentType ? ' (—Å–µ–π—á–∞—Å: ' + currentType + ')' : '');
            document.getElementById('move-modal').setAttribute('data-id', listingId);
            document.getElementById('move-modal').setAttribute('data-from', fromCategory);
            
            const select = document.getElementById('move-modal-category');
            if (select) {
                // –î–ª—è –º–µ–¥–∏—Ü–∏–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–µ–¥–∏—Ü–∏–Ω—ã
                if (fromCategory === 'medicine') {
                    select.innerHTML = `
                        <option value="medicine_–í–æ–ø—Ä–æ—Å—ã" ${currentType === '–í–æ–ø—Ä–æ—Å—ã' ? 'disabled' : ''}>‚ùì –í–æ–ø—Ä–æ—Å—ã ${currentType === '–í–æ–ø—Ä–æ—Å—ã' ? '(—Ç–µ–∫—É—â–∞—è)' : ''}</option>
                        <option value="medicine_–ö–ª–∏–Ω–∏–∫–∏" ${currentType === '–ö–ª–∏–Ω–∏–∫–∏' ? 'disabled' : ''}>üè• –ö–ª–∏–Ω–∏–∫–∏ ${currentType === '–ö–ª–∏–Ω–∏–∫–∏' ? '(—Ç–µ–∫—É—â–∞—è)' : ''}</option>
                        <option value="medicine_–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è" ${currentType === '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è' ? 'disabled' : ''}>üî¨ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ${currentType === '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è' ? '(—Ç–µ–∫—É—â–∞—è)' : ''}</option>
                        <option value="medicine_–°—Ç—Ä–∞—Ö–æ–≤–∫–∞" ${currentType === '–°—Ç—Ä–∞—Ö–æ–≤–∫–∞' ? 'disabled' : ''}>üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞ ${currentType === '–°—Ç—Ä–∞—Ö–æ–≤–∫–∞' ? '(—Ç–µ–∫—É—â–∞—è)' : ''}</option>
                    `;
                    // –í—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –æ–ø—Ü–∏—é
                    for (let opt of select.options) {
                        if (!opt.disabled) { select.value = opt.value; break; }
                    }
                } else {
                    select.innerHTML = `
                        <option value="restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                        <option value="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                        <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                        <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                        <option value="money_exchange">–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                        <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                        <option value="marketplace">–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                        <option value="visas">–í–∏–∑–∞—Ä–∞–Ω</option>
                        <option value="news">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                        <option value="medicine">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                        <option value="kids">–î–ª—è –¥–µ—Ç–µ–π</option>
                        <option value="chat">–ß–∞—Ç</option>
                    `;
                }
            }
            
            document.getElementById('move-modal').style.display = 'flex';
        }

        let moveInProgress = false;
        function confirmMoveFromCard() {
            if (moveInProgress) return;
            moveInProgress = true;
            
            const modal = document.getElementById('move-modal');
            const listingId = modal.getAttribute('data-id');
            const fromCategory = modal.getAttribute('data-from');
            const toCategory = document.getElementById('move-modal-category').value;
            
            const pwd = adminPassword_val || (document.getElementById('admin-password') ? document.getElementById('admin-password').value : '');

            // –î–ª—è –º–µ–¥–∏—Ü–∏–Ω—ã - –ø–µ—Ä–µ–Ω–æ—Å –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ (medicine_–í–æ–ø—Ä–æ—Å—ã -> –í–æ–ø—Ä–æ—Å—ã)
            if (toCategory.startsWith('medicine_')) {
                const newMedicineType = toCategory.replace('medicine_', '');
                
                const formData = new FormData();
                formData.append('password', pwd);
                formData.append('country', currentCountry);
                formData.append('category', 'medicine');
                formData.append('listing_id', listingId);
                formData.append('medicine_type', newMedicineType);
                
                fetch('/api/admin/update-listing-with-photo', { method: 'POST', body: formData })
                .then(r => r.json())
                .then(data => {
                    moveInProgress = false;
                    if (data.success) {
                        modal.style.display = 'none';
                        alert('‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–æ –≤: ' + newMedicineType);
                        setTimeout(() => loadListings('medicine'), 500);
                    } else {
                        alert('‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'));
                    }
                })
                .catch(err => { moveInProgress = false; alert('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'); });
                return;
            }

            if (fromCategory === toCategory) {
                moveInProgress = false;
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é');
                return;
            }

            fetch('/api/admin/move-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    password: pwd, 
                    country: currentCountry, 
                    from_category: fromCategory, 
                    to_category: toCategory, 
                    listing_id: listingId
                })
            })
            .then(r => r.json())
            .then(data => {
                moveInProgress = false;
                if (data.success) {
                    const card = document.querySelector(`[data-listing-id="${listingId}"]`);
                    if (card) card.remove();
                    modal.style.display = 'none';
                    alert('‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ!');
                    setTimeout(() => loadListings(fromCategory), 500);
                } else {
                    alert('‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'));
                }
            })
            .catch(err => { moveInProgress = false; alert('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'); });
        }

        function confirmDeleteFromCard() {
            const modal = document.getElementById('delete-modal');
            const listingId = modal.getAttribute('data-id');
            const category = modal.getAttribute('data-category');

            fetch('/api/admin/delete-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    password: adminPassword_val || adminPassword.value, 
                    country: currentCountry, 
                    category: category, 
                    listing_id: listingId
                })
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    const card = document.querySelector(`[data-listing-id="${listingId}"]`);
                    if (card) card.remove();
                    modal.style.display = 'none';
                    alert('‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ!');
                    setTimeout(() => loadListings(category), 500);
                } else {
                    alert('‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'));
                }
            })
            .catch(err => alert('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'));
        }

        function deleteListingAdmin() {
            if (!adminAuthenticated) {
                alert('–°–Ω–∞—á–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å');
                return;
            }
            const category = document.getElementById('delete-category').value;
            const listing_id = document.getElementById('delete-id').value;
            const password = adminPassword.value;
            const result = document.getElementById('delete-result');

            if (!listing_id) {
                result.textContent = '‚ùå –í–≤–µ–¥–∏—Ç–µ ID –æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                result.style.color = '#ff6b6b';
                return;
            }

            fetch('/api/admin/delete-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({password, country: currentCountry, category, listing_id})
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    result.textContent = '‚úÖ ' + data.message;
                    result.style.color = '#31a24c';
                    document.getElementById('delete-id').value = '';
                    loadListings(category);
                } else {
                    result.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    result.style.color = '#ff6b6b';
                }
            })
            .catch(err => {
                result.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞';
                result.style.color = '#ff6b6b';
            });
        }

        function moveListingAdmin() {
            if (!adminAuthenticated) {
                alert('–°–Ω–∞—á–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å');
                return;
            }
            const listing_id = document.getElementById('move-id').value;
            const from_category = document.getElementById('move-from').value;
            const to_category = document.getElementById('move-to').value;
            const password = adminPassword.value;
            const result = document.getElementById('move-result');

            if (!listing_id) {
                result.textContent = '‚ùå –í–≤–µ–¥–∏—Ç–µ ID –æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                result.style.color = '#ff6b6b';
                return;
            }

            if (from_category === to_category) {
                result.textContent = '‚ùå –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–ª–∏—á–∞—Ç—å—Å—è';
                result.style.color = '#ff6b6b';
                return;
            }

            fetch('/api/admin/move-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({password, country: currentCountry, from_category, to_category, listing_id})
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    result.textContent = '‚úÖ ' + data.message;
                    result.style.color = '#31a24c';
                    document.getElementById('move-id').value = '';
                    loadListings(from_category);
                } else {
                    result.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    result.style.color = '#ff6b6b';
                }
            })
            .catch(err => {
                result.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞';
                result.style.color = '#ff6b6b';
            });
        }
    </script>
</body>
</html>
